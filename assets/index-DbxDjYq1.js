(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bp={exports:{}},Md={};var M2;function Iw(){if(M2)return Md;M2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,o){var h=null;if(o!==void 0&&(h=""+o),i.key!==void 0&&(h=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:a,key:h,ref:i!==void 0?i:null,props:o}}return Md.Fragment=e,Md.jsx=n,Md.jsxs=n,Md}var D2;function Bw(){return D2||(D2=1,bp.exports=Iw()),bp.exports}var c=Bw(),yp={exports:{}},$t={};var P2;function Uw(){if(P2)return $t;P2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=N&&G[N]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function k(G,O,B){this.props=G,this.context=O,this.refs=A,this.updater=B||E}k.prototype.isReactComponent={},k.prototype.setState=function(G,O){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,O,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function I(){}I.prototype=k.prototype;function P(G,O,B){this.props=G,this.context=O,this.refs=A,this.updater=B||E}var M=P.prototype=new I;M.constructor=P,j(M,k.prototype),M.isPureReactComponent=!0;var ae=Array.isArray;function ee(){}var J={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Y(G,O,B){var H=B.ref;return{$$typeof:t,type:G,key:O,ref:H!==void 0?H:null,props:B}}function he(G,O){return Y(G.type,O,G.props)}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function q(G){var O={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(B){return O[B]})}var Q=/\/+/g;function ie(G,O){return typeof G=="object"&&G!==null&&G.key!=null?q(""+G.key):O.toString(36)}function ye(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ee,ee):(G.status="pending",G.then(function(O){G.status==="pending"&&(G.status="fulfilled",G.value=O)},function(O){G.status==="pending"&&(G.status="rejected",G.reason=O)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function X(G,O,B,H,ne){var oe=typeof G;(oe==="undefined"||oe==="boolean")&&(G=null);var ue=!1;if(G===null)ue=!0;else switch(oe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(G.$$typeof){case t:case e:ue=!0;break;case v:return ue=G._init,X(ue(G._payload),O,B,H,ne)}}if(ue)return ne=ne(G),ue=H===""?"."+ie(G,0):H,ae(ne)?(B="",ue!=null&&(B=ue.replace(Q,"$&/")+"/"),X(ne,O,B,"",function(Oe){return Oe})):ne!=null&&(D(ne)&&(ne=he(ne,B+(ne.key==null||G&&G.key===ne.key?"":(""+ne.key).replace(Q,"$&/")+"/")+ue)),O.push(ne)),1;ue=0;var ge=H===""?".":H+":";if(ae(G))for(var we=0;we<G.length;we++)H=G[we],oe=ge+ie(H,we),ue+=X(H,O,B,oe,ne);else if(we=y(G),typeof we=="function")for(G=we.call(G),we=0;!(H=G.next()).done;)H=H.value,oe=ge+ie(H,we++),ue+=X(H,O,B,oe,ne);else if(oe==="object"){if(typeof G.then=="function")return X(ye(G),O,B,H,ne);throw O=String(G),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ue}function le(G,O,B){if(G==null)return G;var H=[],ne=0;return X(G,H,"","",function(oe){return O.call(B,oe,ne++)}),H}function se(G){if(G._status===-1){var O=G._result;O=O(),O.then(function(B){(G._status===0||G._status===-1)&&(G._status=1,G._result=B)},function(B){(G._status===0||G._status===-1)&&(G._status=2,G._result=B)}),G._status===-1&&(G._status=0,G._result=O)}if(G._status===1)return G._result.default;throw G._result}var _e=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Le={map:le,forEach:function(G,O,B){le(G,function(){O.apply(this,arguments)},B)},count:function(G){var O=0;return le(G,function(){O++}),O},toArray:function(G){return le(G,function(O){return O})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return $t.Activity=x,$t.Children=Le,$t.Component=k,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=P,$t.StrictMode=a,$t.Suspense=f,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,$t.__COMPILER_RUNTIME={__proto__:null,c:function(G){return J.H.useMemoCache(G)}},$t.cache=function(G){return function(){return G.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(G,O,B){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var H=j({},G.props),ne=G.key;if(O!=null)for(oe in O.key!==void 0&&(ne=""+O.key),O)!W.call(O,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&O.ref===void 0||(H[oe]=O[oe]);var oe=arguments.length-2;if(oe===1)H.children=B;else if(1<oe){for(var ue=Array(oe),ge=0;ge<oe;ge++)ue[ge]=arguments[ge+2];H.children=ue}return Y(G.type,ne,H)},$t.createContext=function(G){return G={$$typeof:h,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},$t.createElement=function(G,O,B){var H,ne={},oe=null;if(O!=null)for(H in O.key!==void 0&&(oe=""+O.key),O)W.call(O,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ne[H]=O[H]);var ue=arguments.length-2;if(ue===1)ne.children=B;else if(1<ue){for(var ge=Array(ue),we=0;we<ue;we++)ge[we]=arguments[we+2];ne.children=ge}if(G&&G.defaultProps)for(H in ue=G.defaultProps,ue)ne[H]===void 0&&(ne[H]=ue[H]);return Y(G,oe,ne)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(G){return{$$typeof:u,render:G}},$t.isValidElement=D,$t.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:se}},$t.memo=function(G,O){return{$$typeof:m,type:G,compare:O===void 0?null:O}},$t.startTransition=function(G){var O=J.T,B={};J.T=B;try{var H=G(),ne=J.S;ne!==null&&ne(B,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ee,_e)}catch(oe){_e(oe)}finally{O!==null&&B.types!==null&&(O.types=B.types),J.T=O}},$t.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},$t.use=function(G){return J.H.use(G)},$t.useActionState=function(G,O,B){return J.H.useActionState(G,O,B)},$t.useCallback=function(G,O){return J.H.useCallback(G,O)},$t.useContext=function(G){return J.H.useContext(G)},$t.useDebugValue=function(){},$t.useDeferredValue=function(G,O){return J.H.useDeferredValue(G,O)},$t.useEffect=function(G,O){return J.H.useEffect(G,O)},$t.useEffectEvent=function(G){return J.H.useEffectEvent(G)},$t.useId=function(){return J.H.useId()},$t.useImperativeHandle=function(G,O,B){return J.H.useImperativeHandle(G,O,B)},$t.useInsertionEffect=function(G,O){return J.H.useInsertionEffect(G,O)},$t.useLayoutEffect=function(G,O){return J.H.useLayoutEffect(G,O)},$t.useMemo=function(G,O){return J.H.useMemo(G,O)},$t.useOptimistic=function(G,O){return J.H.useOptimistic(G,O)},$t.useReducer=function(G,O,B){return J.H.useReducer(G,O,B)},$t.useRef=function(G){return J.H.useRef(G)},$t.useState=function(G){return J.H.useState(G)},$t.useSyncExternalStore=function(G,O,B){return J.H.useSyncExternalStore(G,O,B)},$t.useTransition=function(){return J.H.useTransition()},$t.version="19.2.3",$t}var I2;function K0(){return I2||(I2=1,yp.exports=Uw()),yp.exports}var Ee=K0();const We=yy(Ee);var xp={exports:{}},Dd={},wp={exports:{}},_p={};var B2;function zw(){return B2||(B2=1,(function(t){function e(X,le){var se=X.length;X.push(le);e:for(;0<se;){var _e=se-1>>>1,Le=X[_e];if(0<i(Le,le))X[_e]=le,X[se]=Le,se=_e;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var le=X[0],se=X.pop();if(se!==le){X[0]=se;e:for(var _e=0,Le=X.length,G=Le>>>1;_e<G;){var O=2*(_e+1)-1,B=X[O],H=O+1,ne=X[H];if(0>i(B,se))H<Le&&0>i(ne,B)?(X[_e]=ne,X[H]=se,_e=H):(X[_e]=B,X[O]=se,_e=O);else if(H<Le&&0>i(ne,se))X[_e]=ne,X[H]=se,_e=H;else break e}}return le}function i(X,le){var se=X.sortIndex-le.sortIndex;return se!==0?se:X.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var h=Date,u=h.now();t.unstable_now=function(){return h.now()-u}}var f=[],m=[],v=1,x=null,N=3,y=!1,E=!1,j=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function M(X){for(var le=n(m);le!==null;){if(le.callback===null)a(m);else if(le.startTime<=X)a(m),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(m)}}function ae(X){if(j=!1,M(X),!E)if(n(f)!==null)E=!0,ee||(ee=!0,q());else{var le=n(m);le!==null&&ye(ae,le.startTime-X)}}var ee=!1,J=-1,W=5,Y=-1;function he(){return A?!0:!(t.unstable_now()-Y<W)}function D(){if(A=!1,ee){var X=t.unstable_now();Y=X;var le=!0;try{e:{E=!1,j&&(j=!1,I(J),J=-1),y=!0;var se=N;try{t:{for(M(X),x=n(f);x!==null&&!(x.expirationTime>X&&he());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,N=x.priorityLevel;var Le=_e(x.expirationTime<=X);if(X=t.unstable_now(),typeof Le=="function"){x.callback=Le,M(X),le=!0;break t}x===n(f)&&a(f),M(X)}else a(f);x=n(f)}if(x!==null)le=!0;else{var G=n(m);G!==null&&ye(ae,G.startTime-X),le=!1}}break e}finally{x=null,N=se,y=!1}le=void 0}}finally{le?q():ee=!1}}}var q;if(typeof P=="function")q=function(){P(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=D,q=function(){ie.postMessage(null)}}else q=function(){k(D,0)};function ye(X,le){J=k(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(X){switch(N){case 1:case 2:case 3:var le=3;break;default:le=N}var se=N;N=le;try{return X()}finally{N=se}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=N;N=X;try{return le()}finally{N=se}},t.unstable_scheduleCallback=function(X,le,se){var _e=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?_e+se:_e):se=_e,X){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=se+Le,X={id:v++,callback:le,priorityLevel:X,startTime:se,expirationTime:Le,sortIndex:-1},se>_e?(X.sortIndex=se,e(m,X),n(f)===null&&X===n(m)&&(j?(I(J),J=-1):j=!0,ye(ae,se-_e))):(X.sortIndex=Le,e(f,X),E||y||(E=!0,ee||(ee=!0,q()))),X},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(X){var le=N;return function(){var se=N;N=le;try{return X.apply(this,arguments)}finally{N=se}}}})(_p)),_p}var U2;function Fw(){return U2||(U2=1,wp.exports=zw()),wp.exports}var Np={exports:{}},ja={};var z2;function qw(){if(z2)return ja;z2=1;var t=K0();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:v}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ja.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,v)},ja.flushSync=function(f){var m=h.T,v=a.p;try{if(h.T=null,a.p=2,f)return f()}finally{h.T=m,a.p=v,a.d.f()}},ja.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},ja.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},ja.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,x=u(v,m.crossOrigin),N=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:y}):v==="script"&&a.d.X(f,{crossOrigin:x,integrity:N,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ja.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=u(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},ja.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=u(v,m.crossOrigin);a.d.L(f,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ja.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=u(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},ja.requestFormReset=function(f){a.d.r(f)},ja.unstable_batchedUpdates=function(f,m){return f(m)},ja.useFormState=function(f,m,v){return h.H.useFormState(f,m,v)},ja.useFormStatus=function(){return h.H.useHostTransitionStatus()},ja.version="19.2.3",ja}var F2;function xy(){if(F2)return Np.exports;F2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=qw(),Np.exports}var q2;function Hw(){if(q2)return Dd;q2=1;var t=Fw(),e=K0(),n=xy();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function u(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(a(188))}function m(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(a(188));return s!==r?null:r}for(var l=r,d=s;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return f(g),r;if(w===d)return f(g),s;w=w.sibling}throw Error(a(188))}if(l.return!==d.return)l=g,d=w;else{for(var T=!1,F=g.child;F;){if(F===l){T=!0,l=g,d=w;break}if(F===d){T=!0,d=g,l=w;break}F=F.sibling}if(!T){for(F=w.child;F;){if(F===l){T=!0,l=w,d=g;break}if(F===d){T=!0,d=w,l=g;break}F=F.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==d)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case k:return"Profiler";case A:return"StrictMode";case ae:return"Suspense";case ee:return"SuspenseList";case Y:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case P:return r.displayName||"Context";case I:return(r._context.displayName||"Context")+".Consumer";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case J:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case W:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}var ye=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},_e=[],Le=-1;function G(r){return{current:r}}function O(r){0>Le||(r.current=_e[Le],_e[Le]=null,Le--)}function B(r,s){Le++,_e[Le]=r.current,r.current=s}var H=G(null),ne=G(null),oe=G(null),ue=G(null);function ge(r,s){switch(B(oe,s),B(ne,r),B(H,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?r2(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=r2(s),r=a2(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}O(H),B(H,r)}function we(){O(H),O(ne),O(oe)}function Oe(r){r.memoizedState!==null&&B(ue,r);var s=H.current,l=a2(s,r.type);s!==l&&(B(ne,r),B(H,l))}function He(r){ne.current===r&&(O(H),O(ne)),ue.current===r&&(O(ue),Td._currentValue=se)}var $e,Je;function rt(r){if($e===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$e=s&&s[1]||"",Je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+r+Je}var K=!1;function Ke(r,s){if(!r||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Te){var Ce=Te}Reflect.construct(r,[],Fe)}else{try{Fe.call()}catch(Te){Ce=Te}r.call(Fe.prototype)}}else{try{throw Error()}catch(Te){Ce=Te}(Fe=r())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Te){if(Te&&Ce&&typeof Te.stack=="string")return[Te.stack,Ce.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),T=w[0],F=w[1];if(T&&F){var ce=T.split(`
`),ke=F.split(`
`);for(g=d=0;d<ce.length&&!ce[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ke.length&&!ke[g].includes("DetermineComponentFrameRoot");)g++;if(d===ce.length||g===ke.length)for(d=ce.length-1,g=ke.length-1;1<=d&&0<=g&&ce[d]!==ke[g];)g--;for(;1<=d&&0<=g;d--,g--)if(ce[d]!==ke[g]){if(d!==1||g!==1)do if(d--,g--,0>g||ce[d]!==ke[g]){var Pe=`
`+ce[d].replace(" at new "," at ");return r.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",r.displayName)),Pe}while(1<=d&&0<=g);break}}}finally{K=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?rt(l):""}function Se(r,s){switch(r.tag){case 26:case 27:case 5:return rt(r.type);case 16:return rt("Lazy");case 13:return r.child!==s&&s!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return Ke(r.type,!1);case 11:return Ke(r.type.render,!1);case 1:return Ke(r.type,!0);case 31:return rt("Activity");default:return""}}function Ye(r){try{var s="",l=null;do s+=Se(r,l),l=r,r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Re=Object.prototype.hasOwnProperty,at=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,st=t.unstable_shouldYield,pt=t.unstable_requestPaint,Ft=t.unstable_now,Qt=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,Zt=t.unstable_UserBlockingPriority,Ht=t.unstable_NormalPriority,lt=t.unstable_LowPriority,Et=t.unstable_IdlePriority,gt=t.log,Cn=t.unstable_setDisableYieldValue,Kt=null,At=null;function Rt(r){if(typeof gt=="function"&&Cn(r),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Kt,r)}catch{}}var Xt=Math.clz32?Math.clz32:wt,St=Math.log,xn=Math.LN2;function wt(r){return r>>>=0,r===0?32:31-(St(r)/xn|0)|0}var Dt=256,Sn=262144,qt=4194304;function vt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qe(r,s,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,w=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var F=d&134217727;return F!==0?(d=F&~w,d!==0?g=vt(d):(T&=F,T!==0?g=vt(T):l||(l=F&~r,l!==0&&(g=vt(l))))):(F=d&~w,F!==0?g=vt(F):T!==0?g=vt(T):l||(l=d&~r,l!==0&&(g=vt(l)))),g===0?0:s!==0&&s!==g&&(s&w)===0&&(w=g&-g,l=s&-s,w>=l||w===32&&(l&4194048)!==0)?s:g}function wn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function un(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(){var r=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),r}function qr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function et(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ar(r,s,l,d,g,w){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var F=r.entanglements,ce=r.expirationTimes,ke=r.hiddenUpdates;for(l=T&~l;0<l;){var Pe=31-Xt(l),Fe=1<<Pe;F[Pe]=0,ce[Pe]=-1;var Ce=ke[Pe];if(Ce!==null)for(ke[Pe]=null,Pe=0;Pe<Ce.length;Pe++){var Te=Ce[Pe];Te!==null&&(Te.lane&=-536870913)}l&=~Fe}d!==0&&ca(r,d,0),w!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=w&~(T&~s))}function ca(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var d=31-Xt(s);r.entangledLanes|=s,r.entanglements[d]=r.entanglements[d]|1073741824|l&261930}function Hn(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Xt(l),g=1<<d;g&s|r[d]&s&&(r[d]|=s),l&=~g}}function Vn(r,s){var l=s&-s;return l=(l&42)!==0?1:Tn(l),(l&(r.suspendedLanes|s))!==0?0:l}function Tn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function En(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function kr(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:k2(r.type))}function Pi(r,s){var l=le.p;try{return le.p=r,s()}finally{le.p=l}}var ua=Math.random().toString(36).slice(2),On="__reactFiber$"+ua,Jn="__reactProps$"+ua,ta="__reactContainer$"+ua,Oa="__reactEvents$"+ua,Ha="__reactListeners$"+ua,co="__reactHandles$"+ua,cs="__reactResources$"+ua,us="__reactMarker$"+ua;function Ii(r){delete r[On],delete r[Jn],delete r[Oa],delete r[Ha],delete r[co]}function ds(r){var s=r[On];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ta]||l[On]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=d2(r);r!==null;){if(l=r[On])return l;r=d2(r)}return s}r=l,l=r.parentNode}return null}function hs(r){if(r=r[On]||r[ta]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function uo(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Ls(r){var s=r[cs];return s||(s=r[cs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ur(r){r[us]=!0}var Il=new Set,La={};function fs(r,s){Zs(r,s),Zs(r+"Capture",s)}function Zs(r,s){for(La[r]=s,r=0;r<s.length;r++)Il.add(s[r])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},zl={};function Lc(r){return Re.call(zl,r)?!0:Re.call(Ul,r)?!1:Bl.test(r)?zl[r]=!0:(Ul[r]=!0,!1)}function Ra(r,s,l){if(Lc(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function ei(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function ms(r,s,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+d)}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rs(r,s,l){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,w=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){l=""+T,w.call(this,T)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Bi(r){if(!r._valueTracker){var s=Fl(r)?"checked":"value";r._valueTracker=Rs(r,s,""+r[s])}}function ql(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Fl(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Cr=/[\n"\\]/g;function vr(r){return r.replace(Cr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ko(r,s,l,d,g,w,T,F){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vn(s)):r.value!==""+vn(s)&&(r.value=""+vn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Hl(r,T,vn(s)):l!=null?Hl(r,T,vn(l)):d!=null&&r.removeAttribute("value"),g==null&&w!=null&&(r.defaultChecked=!!w),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+vn(F):r.removeAttribute("name")}function Rc(r,s,l,d,g,w,T,F){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),s!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){Bi(r);return}l=l!=null?""+vn(l):"",s=s!=null?""+vn(s):l,F||s===r.value||(r.value=s),r.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=F?r.checked:!!d,r.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),Bi(r)}function Hl(r,s,l){s==="number"&&da(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ha(r,s,l,d){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+vn(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function Vl(r,s,l){if(s!=null&&(s=""+vn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+vn(l):""}function Gl(r,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(a(92));if(ye(d)){if(1<d.length)throw Error(a(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=vn(s),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d),Bi(r)}function ps(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(r,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":d?r.setProperty(s,l):typeof l!="number"||l===0||ho.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Dc(r,s,l){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&l[g]!==d&&Mc(r,g,d)}else for(var w in s)s.hasOwnProperty(w)&&Mc(r,w,s[w])}function $l(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(r){return Pc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function gs(){}var ti=null;function fo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ui=null,Tt=null;function Ic(r){var s=hs(r);if(s&&(r=s.stateNode)){var l=r[Jn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ko(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var g=d[Jn]||null;if(!g)throw Error(a(90));Ko(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===r.form&&ql(d)}break e;case"textarea":Vl(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ha(r,!!l.multiple,s,!1)}}}var Yl=!1;function Bc(r,s,l){if(Yl)return r(s,l);Yl=!0;try{var d=r(s);return d}finally{if(Yl=!1,(Ui!==null||Tt!==null)&&(Mh(),Ui&&(s=Ui,r=Tt,Tt=Ui=null,Ic(s),r)))for(s=0;s<r.length;s++)Ic(r[s])}}function Ma(r,s){var l=r.stateNode;if(l===null)return null;var d=l[Jn]||null;if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(a(231,s,typeof l));return l}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(Hr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Kl=!1}var Da=null,po=null,Ms=null;function Uc(){if(Ms)return Ms;var r,s=po,l=s.length,d,g="value"in Da?Da.value:Da.textContent,w=g.length;for(r=0;r<l&&s[r]===g[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===g[w-d];d++);return Ms=g.slice(r,1<d?1-d:void 0)}function Va(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xo(){return!0}function Jo(){return!1}function Pr(r){function s(l,d,g,w,T){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(l=r[F],this[F]=l?l(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Xo:Jo,this.isPropagationStopped=Jo,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),s}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Pr(Ds),ni=x({},Ds,{view:0,detail:0}),Qo=Pr(ni),go,ri,ai,vo=x({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(go=r.screenX-ai.screenX,ri=r.screenY-ai.screenY):ri=go=0,ai=r),go)},movementY:function(r){return"movementY"in r?r.movementY:ri}}),Xl=Pr(vo),si=x({},vo,{dataTransfer:0}),ii=Pr(si),zc=x({},ni,{relatedTarget:0}),oi=Pr(zc),Fc=x({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Pr(Fc),L=x({},Ds,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),re=Pr(L),de=x({},Ds,{data:0}),ve=Pr(de),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bt(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ct[r])?!!s[r]:!1}function Pt(){return bt}var Vt=x({},ni,{key:function(r){if(r.key){var s=Be[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Va(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ve[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pt,charCode:function(r){return r.type==="keypress"?Va(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Va(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dn=Pr(Vt),Qn=x({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=Pr(Qn),In=x({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pt}),Er=Pr(In),br=x({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vr=Pr(br),li=x({},vo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vs=Pr(li),ci=x({},Ds,{newState:0,oldState:0}),Jl=Pr(ci),Zo=[9,13,27,32],Ps=Hr&&"CompositionEvent"in window,bs=null;Hr&&"documentMode"in document&&(bs=document.documentMode);var bo=Hr&&"TextEvent"in window&&!bs,ui=Hr&&(!Ps||bs&&8<bs&&11>=bs),Ir=" ",zi=!1;function Fi(r,s){switch(r){case"keyup":return Zo.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Is=!1;function fa(r,s){switch(r){case"compositionend":return el(s);case"keypress":return s.which!==32?null:(zi=!0,Ir);case"textInput":return r=s.data,r===Ir&&zi?null:r;default:return null}}function di(r,s){if(Is)return r==="compositionend"||!Ps&&Fi(r,s)?(r=Uc(),Ms=po=Da=null,Is=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ui&&s.locale!=="ko"?null:s.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!tl[r.type]:s==="textarea"}function Pa(r,s,l,d){Ui?Tt?Tt.push(d):Tt=[d]:Ui=d,s=Fh(s,"onChange"),0<s.length&&(l=new Ga("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var ys=null,hi=null;function Zl(r){J1(r,0)}function xs(r){var s=uo(r);if(ql(s))return r}function qi(r,s){if(r==="change")return s}var Na=!1;if(Hr){var ma;if(Hr){var Bs="oninput"in document;if(!Bs){var Us=document.createElement("div");Us.setAttribute("oninput","return;"),Bs=typeof Us.oninput=="function"}ma=Bs}else ma=!1;Na=ma&&(!document.documentMode||9<document.documentMode)}function fi(){ys&&(ys.detachEvent("onpropertychange",nl),hi=ys=null)}function nl(r){if(r.propertyName==="value"&&xs(hi)){var s=[];Pa(s,hi,r,fo(r)),Bc(Zl,s)}}function rl(r,s,l){r==="focusin"?(fi(),ys=s,hi=l,ys.attachEvent("onpropertychange",nl)):r==="focusout"&&fi()}function hr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xs(hi)}function qc(r,s){if(r==="click")return xs(s)}function zs(r,s){if(r==="input"||r==="change")return xs(s)}function Fs(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gr=typeof Object.is=="function"?Object.is:Fs;function mi(r,s){if(Gr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!Re.call(s,g)||!Gr(r[g],s[g]))return!1}return!0}function al(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sl(r,s){var l=al(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=al(l)}}function pi(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?pi(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function gi(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=da(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=da(r.document)}return s}function qs(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var yo=Hr&&"documentMode"in document&&11>=document.documentMode,Ia=null,vi=null,na=null,$a=!1;function bn(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$a||Ia==null||Ia!==da(d)||(d=Ia,"selectionStart"in d&&qs(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),na&&mi(na,d)||(na=d,d=Fh(vi,"onSelect"),0<d.length&&(s=new Ga("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Ia)))}function hn(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Bn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},fr={},Hs={};Hr&&(Hs=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function ws(r){if(fr[r])return fr[r];if(!Bn[r])return r;var s=Bn[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hs)return fr[r]=s[l];return r}var xo=ws("animationend"),ec=ws("animationiteration"),Zu=ws("animationstart"),uh=ws("transitionrun"),dh=ws("transitionstart"),hh=ws("transitioncancel"),ed=ws("transitionend"),td=new Map,wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wo.push("scrollEnd");function Wa(r,s){td.set(r,s),fs(s,[r])}var tc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ba=[],_o=0,Hc=0;function nc(){for(var r=_o,s=Hc=_o=0;s<r;){var l=Ba[s];Ba[s++]=null;var d=Ba[s];Ba[s++]=null;var g=Ba[s];Ba[s++]=null;var w=Ba[s];if(Ba[s++]=null,d!==null&&g!==null){var T=d.pending;T===null?g.next=g:(g.next=T.next,T.next=g),d.pending=g}w!==0&&ac(l,g,w)}}function rc(r,s,l,d){Ba[_o++]=r,Ba[_o++]=s,Ba[_o++]=l,Ba[_o++]=d,Hc|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Vc(r,s,l,d){return rc(r,s,l,d),ra(r)}function bi(r,s){return rc(r,null,null,s),ra(r)}function ac(r,s,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var g=!1,w=r.return;w!==null;)w.childLanes|=l,d=w.alternate,d!==null&&(d.childLanes|=l),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(g=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,g&&s!==null&&(g=31-Xt(l),r=w.hiddenUpdates,d=r[g],d===null?r[g]=[s]:d.push(s),s.lane=l|536870912),w):null}function ra(r){if(50<Nd)throw Nd=0,qm=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var $r={};function Gc(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(r,s,l,d){return new Gc(r,s,l,d)}function $c(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ya(r,s){var l=r.alternate;return l===null?(l=aa(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function sc(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function il(r,s,l,d,g,w){var T=0;if(d=r,typeof r=="function")$c(r)&&(T=1);else if(typeof r=="string")T=jw(r,l,H.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Y:return r=aa(31,l,s,g),r.elementType=Y,r.lanes=w,r;case j:return Hi(l.children,g,w,s);case A:T=8,g|=24;break;case k:return r=aa(12,l,s,g|2),r.elementType=k,r.lanes=w,r;case ae:return r=aa(13,l,s,g),r.elementType=ae,r.lanes=w,r;case ee:return r=aa(19,l,s,g),r.elementType=ee,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:T=10;break e;case I:T=9;break e;case M:T=11;break e;case J:T=14;break e;case W:T=16,d=null;break e}T=29,l=Error(a(130,r===null?"null":typeof r,"")),d=null}return s=aa(T,l,s,g),s.elementType=r,s.type=d,s.lanes=w,s}function Hi(r,s,l,d){return r=aa(7,r,d,s),r.lanes=l,r}function ic(r,s,l){return r=aa(6,r,null,s),r.lanes=l,r}function Wc(r){var s=aa(18,null,null,0);return s.stateNode=r,s}function ol(r,s,l){return s=aa(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Yc=new WeakMap;function Ka(r,s){if(typeof r=="object"&&r!==null){var l=Yc.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Ye(s)},Yc.set(r,s),s)}return{value:r,source:s,stack:Ye(s)}}var ll=[],No=0,Kc=null,oc=0,Xa=[],Ja=0,Vi=null,Qa=1,Za="";function Ua(r,s){ll[No++]=oc,ll[No++]=Kc,Kc=r,oc=s}function fh(r,s,l){Xa[Ja++]=Qa,Xa[Ja++]=Za,Xa[Ja++]=Vi,Vi=r;var d=Qa;r=Za;var g=32-Xt(d)-1;d&=~(1<<g),l+=1;var w=32-Xt(s)+g;if(30<w){var T=g-g%5;w=(d&(1<<T)-1).toString(32),d>>=T,g-=T,Qa=1<<32-Xt(s)+g|l<<g|d,Za=w+r}else Qa=1<<w|l<<g|d,Za=r}function nd(r){r.return!==null&&(Ua(r,1),fh(r,1,0))}function Xc(r){for(;r===Kc;)Kc=ll[--No],ll[No]=null,oc=ll[--No],ll[No]=null;for(;r===Vi;)Vi=Xa[--Ja],Xa[Ja]=null,Za=Xa[--Ja],Xa[Ja]=null,Qa=Xa[--Ja],Xa[Ja]=null}function mh(r,s){Xa[Ja++]=Qa,Xa[Ja++]=Za,Xa[Ja++]=Vi,Qa=s.id,Za=s.overflow,Vi=r}var Wr=null,Gn=null,rn=!1,pa=null,sr=!1,_s=Error(a(519));function Gi(r){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Ka(s,r)),_s}function rd(r){var s=r.stateNode,l=r.type,d=r.memoizedProps;switch(s[On]=r,s[Jn]=d,l){case"dialog":sn("cancel",s),sn("close",s);break;case"iframe":case"object":case"embed":sn("load",s);break;case"video":case"audio":for(l=0;l<jd.length;l++)sn(jd[l],s);break;case"source":sn("error",s);break;case"img":case"image":case"link":sn("error",s),sn("load",s);break;case"details":sn("toggle",s);break;case"input":sn("invalid",s),Rc(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":sn("invalid",s);break;case"textarea":sn("invalid",s),Gl(s,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||t2(s.textContent,l)?(d.popover!=null&&(sn("beforetoggle",s),sn("toggle",s)),d.onScroll!=null&&sn("scroll",s),d.onScrollEnd!=null&&sn("scrollend",s),d.onClick!=null&&(s.onclick=gs),s=!0):s=!1,s||Gi(r,!0)}function yi(r){for(Wr=r.return;Wr;)switch(Wr.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:Wr=Wr.return}}function Yr(r){if(r!==Wr)return!1;if(!rn)return yi(r),rn=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||rp(r.type,r.memoizedProps)),l=!l),l&&Gn&&Gi(r),yi(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Gn=u2(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Gn=u2(r)}else s===27?(s=Gn,Nl(r.type)?(r=lp,lp=null,Gn=r):Gn=s):Gn=Wr?Ws(r.stateNode.nextSibling):null;return!0}function So(){Gn=Wr=null,rn=!1}function ad(){var r=pa;return r!==null&&(ss===null?ss=r:ss.push.apply(ss,r),pa=null),r}function cl(r){pa===null?pa=[r]:pa.push(r)}var Jc=G(null),$i=null,Vs=null;function Wi(r,s,l){B(Jc,s._currentValue),s._currentValue=l}function es(r){r._currentValue=Jc.current,O(Jc)}function ul(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function jo(r,s,l,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var w=g.dependencies;if(w!==null){var T=g.child;w=w.firstContext;e:for(;w!==null;){var F=w;w=g;for(var ce=0;ce<s.length;ce++)if(F.context===s[ce]){w.lanes|=l,F=w.alternate,F!==null&&(F.lanes|=l),ul(w.return,l,r),d||(T=null);break e}w=F.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(a(341));T.lanes|=l,w=T.alternate,w!==null&&(w.lanes|=l),ul(T,l,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Yi(r,s,l,d){r=null;for(var g=s,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var F=g.type;Gr(g.pendingProps.value,T.value)||(r!==null?r.push(F):r=[F])}}else if(g===ue.current){if(T=g.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Td):r=[Td])}g=g.return}r!==null&&jo(s,r,l,d),s.flags|=262144}function Qc(r){for(r=r.firstContext;r!==null;){if(!Gr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ki(r){$i=r,Vs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Kr(r){return ph($i,r)}function Zc(r,s){return $i===null&&Ki(r),ph(r,s)}function ph(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Vs===null){if(r===null)throw Error(a(308));Vs=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Vs=Vs.next=s;return l}var om=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},lm=t.unstable_scheduleCallback,cm=t.unstable_NormalPriority,mr={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dl(){return{controller:new om,data:new Map,refCount:0}}function lc(r){r.refCount--,r.refCount===0&&lm(cm,function(){r.controller.abort()})}var cc=null,eu=0,p=0,b=null;function S(r,s){if(cc===null){var l=cc=[];eu=0,p=Ym(),b={status:"pending",value:void 0,then:function(d){l.push(d)}}}return eu++,s.then(C,C),s}function C(){if(--eu===0&&cc!==null){b!==null&&(b.status="fulfilled");var r=cc;cc=null,p=0,b=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function R(r,s){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var U=X.S;X.S=function(r,s){j1=Ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(r,s),U!==null&&U(r,s)};var z=G(null);function V(){var r=z.current;return r!==null?r:Wn.pooledCache}function $(r,s){s===null?B(z,z.current):B(z,s.pool)}function te(){var r=V();return r===null?null:{parent:mr._currentValue,pool:r}}var fe=Error(a(460)),je=Error(a(474)),Z=Error(a(542)),pe={then:function(){}};function xe(r){return r=r.status,r==="fulfilled"||r==="rejected"}function De(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(gs,gs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ge(r),r;default:if(typeof s.status=="string")s.then(gs,gs);else{if(r=Wn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ge(r),r}throw Me=s,fe}}function Ne(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Me=l,fe):l}}var Me=null;function Ue(){if(Me===null)throw Error(a(459));var r=Me;return Me=null,r}function Ge(r){if(r===fe||r===Z)throw Error(a(483))}var qe=null,dt=0;function tt(r){var s=dt;return dt+=1,qe===null&&(qe=[]),De(qe,r,s)}function Ut(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ot(r,s){throw s.$$typeof===N?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function nn(r){function s(be,me){if(r){var Ae=be.deletions;Ae===null?(be.deletions=[me],be.flags|=16):Ae.push(me)}}function l(be,me){if(!r)return null;for(;me!==null;)s(be,me),me=me.sibling;return null}function d(be){for(var me=new Map;be!==null;)be.key!==null?me.set(be.key,be):me.set(be.index,be),be=be.sibling;return me}function g(be,me){return be=Ya(be,me),be.index=0,be.sibling=null,be}function w(be,me,Ae){return be.index=Ae,r?(Ae=be.alternate,Ae!==null?(Ae=Ae.index,Ae<me?(be.flags|=67108866,me):Ae):(be.flags|=67108866,me)):(be.flags|=1048576,me)}function T(be){return r&&be.alternate===null&&(be.flags|=67108866),be}function F(be,me,Ae,ze){return me===null||me.tag!==6?(me=ic(Ae,be.mode,ze),me.return=be,me):(me=g(me,Ae),me.return=be,me)}function ce(be,me,Ae,ze){var Ct=Ae.type;return Ct===j?Pe(be,me,Ae.props.children,ze,Ae.key):me!==null&&(me.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===W&&Ne(Ct)===me.type)?(me=g(me,Ae.props),Ut(me,Ae),me.return=be,me):(me=il(Ae.type,Ae.key,Ae.props,null,be.mode,ze),Ut(me,Ae),me.return=be,me)}function ke(be,me,Ae,ze){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ae.containerInfo||me.stateNode.implementation!==Ae.implementation?(me=ol(Ae,be.mode,ze),me.return=be,me):(me=g(me,Ae.children||[]),me.return=be,me)}function Pe(be,me,Ae,ze,Ct){return me===null||me.tag!==7?(me=Hi(Ae,be.mode,ze,Ct),me.return=be,me):(me=g(me,Ae),me.return=be,me)}function Fe(be,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=ic(""+me,be.mode,Ae),me.return=be,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return Ae=il(me.type,me.key,me.props,null,be.mode,Ae),Ut(Ae,me),Ae.return=be,Ae;case E:return me=ol(me,be.mode,Ae),me.return=be,me;case W:return me=Ne(me),Fe(be,me,Ae)}if(ye(me)||q(me))return me=Hi(me,be.mode,Ae,null),me.return=be,me;if(typeof me.then=="function")return Fe(be,tt(me),Ae);if(me.$$typeof===P)return Fe(be,Zc(be,me),Ae);ot(be,me)}return null}function Ce(be,me,Ae,ze){var Ct=me!==null?me.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ct!==null?null:F(be,me,""+Ae,ze);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case y:return Ae.key===Ct?ce(be,me,Ae,ze):null;case E:return Ae.key===Ct?ke(be,me,Ae,ze):null;case W:return Ae=Ne(Ae),Ce(be,me,Ae,ze)}if(ye(Ae)||q(Ae))return Ct!==null?null:Pe(be,me,Ae,ze,null);if(typeof Ae.then=="function")return Ce(be,me,tt(Ae),ze);if(Ae.$$typeof===P)return Ce(be,me,Zc(be,Ae),ze);ot(be,Ae)}return null}function Te(be,me,Ae,ze,Ct){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return be=be.get(Ae)||null,F(me,be,""+ze,Ct);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case y:return be=be.get(ze.key===null?Ae:ze.key)||null,ce(me,be,ze,Ct);case E:return be=be.get(ze.key===null?Ae:ze.key)||null,ke(me,be,ze,Ct);case W:return ze=Ne(ze),Te(be,me,Ae,ze,Ct)}if(ye(ze)||q(ze))return be=be.get(Ae)||null,Pe(me,be,ze,Ct,null);if(typeof ze.then=="function")return Te(be,me,Ae,tt(ze),Ct);if(ze.$$typeof===P)return Te(be,me,Ae,Zc(me,ze),Ct);ot(me,ze)}return null}function ut(be,me,Ae,ze){for(var Ct=null,_n=null,yt=me,Jt=me=0,cn=null;yt!==null&&Jt<Ae.length;Jt++){yt.index>Jt?(cn=yt,yt=null):cn=yt.sibling;var Nn=Ce(be,yt,Ae[Jt],ze);if(Nn===null){yt===null&&(yt=cn);break}r&&yt&&Nn.alternate===null&&s(be,yt),me=w(Nn,me,Jt),_n===null?Ct=Nn:_n.sibling=Nn,_n=Nn,yt=cn}if(Jt===Ae.length)return l(be,yt),rn&&Ua(be,Jt),Ct;if(yt===null){for(;Jt<Ae.length;Jt++)yt=Fe(be,Ae[Jt],ze),yt!==null&&(me=w(yt,me,Jt),_n===null?Ct=yt:_n.sibling=yt,_n=yt);return rn&&Ua(be,Jt),Ct}for(yt=d(yt);Jt<Ae.length;Jt++)cn=Te(yt,be,Jt,Ae[Jt],ze),cn!==null&&(r&&cn.alternate!==null&&yt.delete(cn.key===null?Jt:cn.key),me=w(cn,me,Jt),_n===null?Ct=cn:_n.sibling=cn,_n=cn);return r&&yt.forEach(function(Cl){return s(be,Cl)}),rn&&Ua(be,Jt),Ct}function Mt(be,me,Ae,ze){if(Ae==null)throw Error(a(151));for(var Ct=null,_n=null,yt=me,Jt=me=0,cn=null,Nn=Ae.next();yt!==null&&!Nn.done;Jt++,Nn=Ae.next()){yt.index>Jt?(cn=yt,yt=null):cn=yt.sibling;var Cl=Ce(be,yt,Nn.value,ze);if(Cl===null){yt===null&&(yt=cn);break}r&&yt&&Cl.alternate===null&&s(be,yt),me=w(Cl,me,Jt),_n===null?Ct=Cl:_n.sibling=Cl,_n=Cl,yt=cn}if(Nn.done)return l(be,yt),rn&&Ua(be,Jt),Ct;if(yt===null){for(;!Nn.done;Jt++,Nn=Ae.next())Nn=Fe(be,Nn.value,ze),Nn!==null&&(me=w(Nn,me,Jt),_n===null?Ct=Nn:_n.sibling=Nn,_n=Nn);return rn&&Ua(be,Jt),Ct}for(yt=d(yt);!Nn.done;Jt++,Nn=Ae.next())Nn=Te(yt,be,Jt,Nn.value,ze),Nn!==null&&(r&&Nn.alternate!==null&&yt.delete(Nn.key===null?Jt:Nn.key),me=w(Nn,me,Jt),_n===null?Ct=Nn:_n.sibling=Nn,_n=Nn);return r&&yt.forEach(function(Pw){return s(be,Pw)}),rn&&Ua(be,Jt),Ct}function qn(be,me,Ae,ze){if(typeof Ae=="object"&&Ae!==null&&Ae.type===j&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case y:e:{for(var Ct=Ae.key;me!==null;){if(me.key===Ct){if(Ct=Ae.type,Ct===j){if(me.tag===7){l(be,me.sibling),ze=g(me,Ae.props.children),ze.return=be,be=ze;break e}}else if(me.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===W&&Ne(Ct)===me.type){l(be,me.sibling),ze=g(me,Ae.props),Ut(ze,Ae),ze.return=be,be=ze;break e}l(be,me);break}else s(be,me);me=me.sibling}Ae.type===j?(ze=Hi(Ae.props.children,be.mode,ze,Ae.key),ze.return=be,be=ze):(ze=il(Ae.type,Ae.key,Ae.props,null,be.mode,ze),Ut(ze,Ae),ze.return=be,be=ze)}return T(be);case E:e:{for(Ct=Ae.key;me!==null;){if(me.key===Ct)if(me.tag===4&&me.stateNode.containerInfo===Ae.containerInfo&&me.stateNode.implementation===Ae.implementation){l(be,me.sibling),ze=g(me,Ae.children||[]),ze.return=be,be=ze;break e}else{l(be,me);break}else s(be,me);me=me.sibling}ze=ol(Ae,be.mode,ze),ze.return=be,be=ze}return T(be);case W:return Ae=Ne(Ae),qn(be,me,Ae,ze)}if(ye(Ae))return ut(be,me,Ae,ze);if(q(Ae)){if(Ct=q(Ae),typeof Ct!="function")throw Error(a(150));return Ae=Ct.call(Ae),Mt(be,me,Ae,ze)}if(typeof Ae.then=="function")return qn(be,me,tt(Ae),ze);if(Ae.$$typeof===P)return qn(be,me,Zc(be,Ae),ze);ot(be,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,me!==null&&me.tag===6?(l(be,me.sibling),ze=g(me,Ae),ze.return=be,be=ze):(l(be,me),ze=ic(Ae,be.mode,ze),ze.return=be,be=ze),T(be)):l(be,me)}return function(be,me,Ae,ze){try{dt=0;var Ct=qn(be,me,Ae,ze);return qe=null,Ct}catch(yt){if(yt===fe||yt===Z)throw yt;var _n=aa(29,yt,null,be.mode);return _n.lanes=ze,_n.return=be,_n}}}var $n=nn(!0),Gt=nn(!1),nt=!1;function Xe(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zn(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ot(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Yt(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(kn&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=ra(r),ac(r,null,l),s}return rc(r,d,s,l),ra(r)}function jn(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Hn(r,l)}}function Tr(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?g=w=T:w=w.next=T,l=l.next}while(l!==null);w===null?g=w=s:w=w.next=s}else g=w=s;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Xr=!1;function Un(){if(Xr){var r=b;if(r!==null)throw r}}function yr(r,s,l,d){Xr=!1;var g=r.updateQueue;nt=!1;var w=g.firstBaseUpdate,T=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var ce=F,ke=ce.next;ce.next=null,T===null?w=ke:T.next=ke,T=ce;var Pe=r.alternate;Pe!==null&&(Pe=Pe.updateQueue,F=Pe.lastBaseUpdate,F!==T&&(F===null?Pe.firstBaseUpdate=ke:F.next=ke,Pe.lastBaseUpdate=ce))}if(w!==null){var Fe=g.baseState;T=0,Pe=ke=ce=null,F=w;do{var Ce=F.lane&-536870913,Te=Ce!==F.lane;if(Te?(ln&Ce)===Ce:(d&Ce)===Ce){Ce!==0&&Ce===p&&(Xr=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var ut=r,Mt=F;Ce=s;var qn=l;switch(Mt.tag){case 1:if(ut=Mt.payload,typeof ut=="function"){Fe=ut.call(qn,Fe,Ce);break e}Fe=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Mt.payload,Ce=typeof ut=="function"?ut.call(qn,Fe,Ce):ut,Ce==null)break e;Fe=x({},Fe,Ce);break e;case 2:nt=!0}}Ce=F.callback,Ce!==null&&(r.flags|=64,Te&&(r.flags|=8192),Te=g.callbacks,Te===null?g.callbacks=[Ce]:Te.push(Ce))}else Te={lane:Ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Pe===null?(ke=Pe=Te,ce=Fe):Pe=Pe.next=Te,T|=Ce;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;Te=F,F=Te.next,Te.next=null,g.lastBaseUpdate=Te,g.shared.pending=null}}while(!0);Pe===null&&(ce=Fe),g.baseState=ce,g.firstBaseUpdate=ke,g.lastBaseUpdate=Pe,w===null&&(g.shared.lanes=0),bl|=T,r.lanes=T,r.memoizedState=Fe}}function sa(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function xr(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)sa(l[r],s)}var en=G(null),mn=G(0);function er(r,s){r=Do,B(mn,r),B(en,s),Do=r|s.baseLanes}function yn(){B(mn,Do),B(en,en.current)}function Or(){Do=mn.current,O(en),O(mn)}var tr=G(null),pn=null;function pr(r){var s=r.alternate;B(fn,fn.current&1),B(tr,r),pn===null&&(s===null||en.current!==null||s.memoizedState!==null)&&(pn=r)}function An(r){B(fn,fn.current),B(tr,r),pn===null&&(pn=r)}function wr(r){r.tag===22?(B(fn,fn.current),B(tr,r),pn===null&&(pn=r)):_r()}function _r(){B(fn,fn.current),B(tr,tr.current)}function Ln(r){O(tr),pn===r&&(pn=null),O(fn)}var fn=G(0);function ia(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ip(l)||op(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ir=0,jt=null,kt=null,gn=null,Sa=!1,ts=!1,ga=!1,Nr=0,Xi=0,Ji=null,tu=0;function zn(){throw Error(a(321))}function sd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Gr(r[l],s[l]))return!1;return!0}function id(r,s,l,d,g,w){return ir=w,jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=r===null||r.memoizedState===null?Pg:vm,ga=!1,w=l(d,g),ga=!1,ts&&(w=xi(s,l,d,g)),nu(r),w}function nu(r){X.H=md;var s=kt!==null&&kt.next!==null;if(ir=0,gn=kt=jt=null,Sa=!1,Xi=0,Ji=null,s)throw Error(a(300));r===null||Ur||(r=r.dependencies,r!==null&&Qc(r)&&(Ur=!0))}function xi(r,s,l,d){jt=r;var g=0;do{if(ts&&(Ji=null),Xi=0,ts=!1,25<=g)throw Error(a(301));if(g+=1,gn=kt=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}X.H=Ig,w=s(l,d)}while(ts);return w}function um(){var r=X.H,s=r.useState()[0];return s=typeof s.then=="function"?Qi(s):s,r=r.useState()[0],(kt!==null?kt.memoizedState:null)!==r&&(jt.flags|=1024),s}function od(){var r=Nr!==0;return Nr=0,r}function ld(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function ru(r){if(Sa){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sa=!1}ir=0,gn=kt=jt=null,ts=!1,Xi=Nr=0,Ji=null}function Br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?jt.memoizedState=gn=r:gn=gn.next=r,gn}function or(){if(kt===null){var r=jt.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=gn===null?jt.memoizedState:gn.next;if(s!==null)gn=s,kt=r;else{if(r===null)throw jt.alternate===null?Error(a(467)):Error(a(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},gn===null?jt.memoizedState=gn=r:gn=gn.next=r}return gn}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qi(r){var s=Xi;return Xi+=1,Ji===null&&(Ji=[]),r=De(Ji,r,s),s=jt,(gn===null?s.memoizedState:gn.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Pg:vm),r}function hl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qi(r);if(r.$$typeof===P)return Kr(r)}throw Error(a(438,String(r)))}function Ao(r){var s=null,l=jt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=jt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=uc(),jt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),d=0;d<r;d++)l[d]=he;return s.index++,l}function Gs(r,s){return typeof s=="function"?s(r):s}function au(r){var s=or();return fl(s,kt,r)}function fl(r,s,l){var d=r.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=l;var g=r.baseQueue,w=d.pending;if(w!==null){if(g!==null){var T=g.next;g.next=w.next,w.next=T}s.baseQueue=g=w,d.pending=null}if(w=r.baseState,g===null)r.memoizedState=w;else{s=g.next;var F=T=null,ce=null,ke=s,Pe=!1;do{var Fe=ke.lane&-536870913;if(Fe!==ke.lane?(ln&Fe)===Fe:(ir&Fe)===Fe){var Ce=ke.revertLane;if(Ce===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Fe===p&&(Pe=!0);else if((ir&Ce)===Ce){ke=ke.next,Ce===p&&(Pe=!0);continue}else Fe={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},ce===null?(F=ce=Fe,T=w):ce=ce.next=Fe,jt.lanes|=Ce,bl|=Ce;Fe=ke.action,ga&&l(w,Fe),w=ke.hasEagerState?ke.eagerState:l(w,Fe)}else Ce={lane:Fe,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},ce===null?(F=ce=Ce,T=w):ce=ce.next=Ce,jt.lanes|=Fe,bl|=Fe;ke=ke.next}while(ke!==null&&ke!==s);if(ce===null?T=w:ce.next=F,!Gr(w,r.memoizedState)&&(Ur=!0,Pe&&(l=b,l!==null)))throw l;r.memoizedState=w,r.baseState=T,r.baseQueue=ce,d.lastRenderedState=w}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function su(r){var s=or(),l=s.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,w=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do w=r(w,T.action),T=T.next;while(T!==g);Gr(w,s.memoizedState)||(Ur=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),l.lastRenderedState=w}return[w,d]}function iu(r,s,l){var d=jt,g=or(),w=rn;if(w){if(l===void 0)throw Error(a(407));l=l()}else l=s();var T=!Gr((kt||g).memoizedState,l);if(T&&(g.memoizedState=l,Ur=!0),g=g.queue,dm(ud.bind(null,d,g,r),[r]),g.getSnapshot!==s||T||gn!==null&&gn.memoizedState.tag&1){if(d.flags|=2048,Co(9,{destroy:void 0},cd.bind(null,d,g,l,s),null),Wn===null)throw Error(a(349));w||(ir&127)!==0||wi(d,s,l)}return l}function wi(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=jt.updateQueue,s===null?(s=uc(),jt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function cd(r,s,l,d){s.value=l,s.getSnapshot=d,gh(s)&&dd(r)}function ud(r,s,l){return l(function(){gh(s)&&dd(r)})}function gh(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Gr(r,l)}catch{return!0}}function dd(r){var s=bi(r,2);s!==null&&is(s,r,2)}function Zi(r){var s=Br();if(typeof r=="function"){var l=r;if(r=l(),ga){Rt(!0);try{l()}finally{Rt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:r},s}function vh(r,s,l,d){return r.baseState=l,fl(r,kt,typeof d=="function"?d:Gs)}function bh(r,s,l,d,g){if(_h(r))throw Error(a(485));if(r=s.action,r!==null){var w={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){w.listeners.push(T)}};X.T!==null?l(!0):w.isTransition=!1,d(w),l=s.pending,l===null?(w.next=s.pending=w,yh(s,w)):(w.next=l.next,s.pending=l.next=w)}}function yh(r,s){var l=s.action,d=s.payload,g=r.state;if(s.isTransition){var w=X.T,T={};X.T=T;try{var F=l(g,d),ce=X.S;ce!==null&&ce(T,F),hd(r,s,F)}catch(ke){ko(r,s,ke)}finally{w!==null&&T.types!==null&&(w.types=T.types),X.T=w}}else try{w=l(g,d),hd(r,s,w)}catch(ke){ko(r,s,ke)}}function hd(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){xh(r,s,d)},function(d){return ko(r,s,d)}):xh(r,s,l)}function xh(r,s,l){s.status="fulfilled",s.value=l,ou(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,yh(r,l)))}function ko(r,s,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,ou(s),s=s.next;while(s!==d)}r.action=null}function ou(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function dc(r,s){return s}function $s(r,s){if(rn){var l=Wn.formState;if(l!==null){e:{var d=jt;if(rn){if(Gn){t:{for(var g=Gn,w=sr;g.nodeType!==8;){if(!w){g=null;break t}if(g=Ws(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){Gn=Ws(g.nextSibling),d=g.data==="F!";break e}}Gi(d)}d=!1}d&&(s=l[0])}}return l=Br(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:s},l.queue=d,l=Rg.bind(null,jt,d),d.dispatch=l,d=Zi(!1),w=gm.bind(null,jt,!1,d.queue),d=Br(),g={state:s,dispatch:null,action:r,pending:null},d.queue=g,l=bh.bind(null,jt,g,w,l),g.dispatch=l,d.memoizedState=r,[s,l,!1]}function _i(r){var s=or();return Ni(s,kt,r)}function Ni(r,s,l){if(s=fl(r,s,dc)[0],r=au(Gs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Qi(s)}catch(T){throw T===fe?Z:T}else d=s;s=or();var g=s.queue,w=g.dispatch;return l!==s.memoizedState&&(jt.flags|=2048,Co(9,{destroy:void 0},lu.bind(null,g,l),null)),[d,w,r]}function lu(r,s){r.action=s}function cu(r){var s=or(),l=kt;if(l!==null)return Ni(s,l,r);or(),s=s.memoizedState,l=or();var d=l.queue.dispatch;return l.memoizedState=r,[s,d,!1]}function Co(r,s,l,d){return r={tag:r,create:l,deps:d,inst:s,next:null},s=jt.updateQueue,s===null&&(s=uc(),jt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r),r}function wh(){return or().memoizedState}function ml(r,s,l,d){var g=Br();jt.flags|=r,g.memoizedState=Co(1|s,{destroy:void 0},l,d===void 0?null:d)}function pl(r,s,l,d){var g=or();d=d===void 0?null:d;var w=g.memoizedState.inst;kt!==null&&d!==null&&sd(d,kt.memoizedState.deps)?g.memoizedState=Co(s,w,l,d):(jt.flags|=r,g.memoizedState=Co(1|s,w,l,d))}function yg(r,s){ml(8390656,8,r,s)}function dm(r,s){pl(2048,8,r,s)}function Tx(r){jt.flags|=4;var s=jt.updateQueue;if(s===null)s=uc(),jt.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function xg(r){var s=or().memoizedState;return Tx({ref:s,nextImpl:r}),function(){if((kn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function wg(r,s){return pl(4,2,r,s)}function _g(r,s){return pl(4,4,r,s)}function Ng(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Sg(r,s,l){l=l!=null?l.concat([r]):null,pl(4,4,Ng.bind(null,s,r),l)}function hm(){}function jg(r,s){var l=or();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&sd(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Ag(r,s){var l=or();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&sd(s,d[1]))return d[0];if(d=r(),ga){Rt(!0);try{r()}finally{Rt(!1)}}return l.memoizedState=[d,s],d}function fm(r,s,l){return l===void 0||(ir&1073741824)!==0&&(ln&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=k1(),jt.lanes|=r,bl|=r,l)}function kg(r,s,l,d){return Gr(l,s)?l:en.current!==null?(r=fm(r,l,d),Gr(r,s)||(Ur=!0),r):(ir&42)===0||(ir&1073741824)!==0&&(ln&261930)===0?(Ur=!0,r.memoizedState=l):(r=k1(),jt.lanes|=r,bl|=r,s)}function Cg(r,s,l,d,g){var w=le.p;le.p=w!==0&&8>w?w:8;var T=X.T,F={};X.T=F,gm(r,!1,s,l);try{var ce=g(),ke=X.S;if(ke!==null&&ke(F,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Pe=R(ce,d);fd(r,s,Pe,js(r))}else fd(r,s,d,js(r))}catch(Fe){fd(r,s,{then:function(){},status:"rejected",reason:Fe},js())}finally{le.p=w,T!==null&&F.types!==null&&(T.types=F.types),X.T=T}}function Ox(){}function mm(r,s,l,d){if(r.tag!==5)throw Error(a(476));var g=Eg(r).queue;Cg(r,g,s,se,l===null?Ox:function(){return Tg(r),l(d)})}function Eg(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:se},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Tg(r){var s=Eg(r);s.next===null&&(s=r.alternate.memoizedState),fd(r,s.next.queue,{},js())}function pm(){return Kr(Td)}function Og(){return or().memoizedState}function Lg(){return or().memoizedState}function Lx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=js();r=Ot(l);var d=Yt(s,r,l);d!==null&&(is(d,s,l),jn(d,s,l)),s={cache:dl()},r.payload=s;return}s=s.return}}function Rx(r,s,l){var d=js();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_h(r)?Mg(s,l):(l=Vc(r,s,l,d),l!==null&&(is(l,r,d),Dg(l,s,d)))}function Rg(r,s,l){var d=js();fd(r,s,l,d)}function fd(r,s,l,d){var g={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_h(r))Mg(s,g);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var T=s.lastRenderedState,F=w(T,l);if(g.hasEagerState=!0,g.eagerState=F,Gr(F,T))return rc(r,s,g,0),Wn===null&&nc(),!1}catch{}if(l=Vc(r,s,g,d),l!==null)return is(l,r,d),Dg(l,s,d),!0}return!1}function gm(r,s,l,d){if(d={lane:2,revertLane:Ym(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_h(r)){if(s)throw Error(a(479))}else s=Vc(r,l,d,2),s!==null&&is(s,r,2)}function _h(r){var s=r.alternate;return r===jt||s!==null&&s===jt}function Mg(r,s){ts=Sa=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Dg(r,s,l){if((l&4194048)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Hn(r,l)}}var md={readContext:Kr,use:hl,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};md.useEffectEvent=zn;var Pg={readContext:Kr,use:hl,useCallback:function(r,s){return Br().memoizedState=[r,s===void 0?null:s],r},useContext:Kr,useEffect:yg,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,ml(4194308,4,Ng.bind(null,s,r),l)},useLayoutEffect:function(r,s){return ml(4194308,4,r,s)},useInsertionEffect:function(r,s){ml(4,2,r,s)},useMemo:function(r,s){var l=Br();s=s===void 0?null:s;var d=r();if(ga){Rt(!0);try{r()}finally{Rt(!1)}}return l.memoizedState=[d,s],d},useReducer:function(r,s,l){var d=Br();if(l!==void 0){var g=l(s);if(ga){Rt(!0);try{l(s)}finally{Rt(!1)}}}else g=s;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=Rx.bind(null,jt,r),[d.memoizedState,r]},useRef:function(r){var s=Br();return r={current:r},s.memoizedState=r},useState:function(r){r=Zi(r);var s=r.queue,l=Rg.bind(null,jt,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:hm,useDeferredValue:function(r,s){var l=Br();return fm(l,r,s)},useTransition:function(){var r=Zi(!1);return r=Cg.bind(null,jt,r.queue,!0,!1),Br().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var d=jt,g=Br();if(rn){if(l===void 0)throw Error(a(407));l=l()}else{if(l=s(),Wn===null)throw Error(a(349));(ln&127)!==0||wi(d,s,l)}g.memoizedState=l;var w={value:l,getSnapshot:s};return g.queue=w,yg(ud.bind(null,d,w,r),[r]),d.flags|=2048,Co(9,{destroy:void 0},cd.bind(null,d,w,l,s),null),l},useId:function(){var r=Br(),s=Wn.identifierPrefix;if(rn){var l=Za,d=Qa;l=(d&~(1<<32-Xt(d)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Nr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=tu++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:pm,useFormState:$s,useActionState:$s,useOptimistic:function(r){var s=Br();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=gm.bind(null,jt,!0,l),l.dispatch=s,[r,s]},useMemoCache:Ao,useCacheRefresh:function(){return Br().memoizedState=Lx.bind(null,jt)},useEffectEvent:function(r){var s=Br(),l={impl:r};return s.memoizedState=l,function(){if((kn&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},vm={readContext:Kr,use:hl,useCallback:jg,useContext:Kr,useEffect:dm,useImperativeHandle:Sg,useInsertionEffect:wg,useLayoutEffect:_g,useMemo:Ag,useReducer:au,useRef:wh,useState:function(){return au(Gs)},useDebugValue:hm,useDeferredValue:function(r,s){var l=or();return kg(l,kt.memoizedState,r,s)},useTransition:function(){var r=au(Gs)[0],s=or().memoizedState;return[typeof r=="boolean"?r:Qi(r),s]},useSyncExternalStore:iu,useId:Og,useHostTransitionStatus:pm,useFormState:_i,useActionState:_i,useOptimistic:function(r,s){var l=or();return vh(l,kt,r,s)},useMemoCache:Ao,useCacheRefresh:Lg};vm.useEffectEvent=xg;var Ig={readContext:Kr,use:hl,useCallback:jg,useContext:Kr,useEffect:dm,useImperativeHandle:Sg,useInsertionEffect:wg,useLayoutEffect:_g,useMemo:Ag,useReducer:su,useRef:wh,useState:function(){return su(Gs)},useDebugValue:hm,useDeferredValue:function(r,s){var l=or();return kt===null?fm(l,r,s):kg(l,kt.memoizedState,r,s)},useTransition:function(){var r=su(Gs)[0],s=or().memoizedState;return[typeof r=="boolean"?r:Qi(r),s]},useSyncExternalStore:iu,useId:Og,useHostTransitionStatus:pm,useFormState:cu,useActionState:cu,useOptimistic:function(r,s){var l=or();return kt!==null?vh(l,kt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Ao,useCacheRefresh:Lg};Ig.useEffectEvent=xg;function bm(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:x({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ym={enqueueSetState:function(r,s,l){r=r._reactInternals;var d=js(),g=Ot(d);g.payload=s,l!=null&&(g.callback=l),s=Yt(r,g,d),s!==null&&(is(s,r,d),jn(s,r,d))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=js(),g=Ot(d);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Yt(r,g,d),s!==null&&(is(s,r,d),jn(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=js(),d=Ot(l);d.tag=2,s!=null&&(d.callback=s),s=Yt(r,d,l),s!==null&&(is(s,r,l),jn(s,r,l))}};function Bg(r,s,l,d,g,w,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,w,T):s.prototype&&s.prototype.isPureReactComponent?!mi(l,d)||!mi(g,w):!0}function Ug(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&ym.enqueueReplaceState(s,s.state,null)}function hc(r,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(r=r.defaultProps){l===s&&(l=x({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}function zg(r){tc(r)}function Fg(r){console.error(r)}function qg(r){tc(r)}function Nh(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Hg(r,s,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function xm(r,s,l){return l=Ot(l),l.tag=3,l.payload={element:null},l.callback=function(){Nh(r,s)},l}function Vg(r){return r=Ot(r),r.tag=3,r}function Gg(r,s,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var w=d.value;r.payload=function(){return g(w)},r.callback=function(){Hg(s,l,d)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Hg(s,l,d),typeof g!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function Mx(r,s,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&Yi(s,l,g,!0),l=tr.current,l!==null){switch(l.tag){case 31:case 13:return pn===null?Dh():l.alternate===null&&Sr===0&&(Sr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===pe?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),Gm(r,d,g)),!1;case 22:return l.flags|=65536,d===pe?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),Gm(r,d,g)),!1}throw Error(a(435,l.tag))}return Gm(r,d,g),Dh(),!1}if(rn)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==_s&&(r=Error(a(422),{cause:d}),cl(Ka(r,l)))):(d!==_s&&(s=Error(a(423),{cause:d}),cl(Ka(s,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Ka(d,l),g=xm(r.stateNode,d,g),Tr(r,g),Sr!==4&&(Sr=2)),!1;var w=Error(a(520),{cause:d});if(w=Ka(w,l),_d===null?_d=[w]:_d.push(w),Sr!==4&&(Sr=2),s===null)return!0;d=Ka(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=xm(l.stateNode,d,r),Tr(l,r),!1;case 1:if(s=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yl===null||!yl.has(w))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Vg(g),Gg(g,r,l,d),Tr(l,g),!1}l=l.return}while(l!==null);return!1}var wm=Error(a(461)),Ur=!1;function va(r,s,l,d){s.child=r===null?Gt(s,null,l,d):$n(s,r.child,l,d)}function $g(r,s,l,d,g){l=l.render;var w=s.ref;if("ref"in d){var T={};for(var F in d)F!=="ref"&&(T[F]=d[F])}else T=d;return Ki(s),d=id(r,s,l,T,w,g),F=od(),r!==null&&!Ur?(ld(r,s,g),Eo(r,s,g)):(rn&&F&&nd(s),s.flags|=1,va(r,s,d,g),s.child)}function Wg(r,s,l,d,g){if(r===null){var w=l.type;return typeof w=="function"&&!$c(w)&&w.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=w,Yg(r,s,w,d,g)):(r=il(l.type,null,d,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,!Em(r,g)){var T=w.memoizedProps;if(l=l.compare,l=l!==null?l:mi,l(T,d)&&r.ref===s.ref)return Eo(r,s,g)}return s.flags|=1,r=Ya(w,d),r.ref=s.ref,r.return=s,s.child=r}function Yg(r,s,l,d,g){if(r!==null){var w=r.memoizedProps;if(mi(w,d)&&r.ref===s.ref)if(Ur=!1,s.pendingProps=d=w,Em(r,g))(r.flags&131072)!==0&&(Ur=!0);else return s.lanes=r.lanes,Eo(r,s,g)}return _m(r,s,l,d,g)}function Kg(r,s,l,d){var g=d.children,w=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~w}else d=0,s.child=null;return Xg(r,s,w,l,d)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&$(s,w!==null?w.cachePool:null),w!==null?er(s,w):yn(),wr(s);else return d=s.lanes=536870912,Xg(r,s,w!==null?w.baseLanes|l:l,l,d)}else w!==null?($(s,w.cachePool),er(s,w),_r(),s.memoizedState=null):(r!==null&&$(s,null),yn(),_r());return va(r,s,g,l),s.child}function pd(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Xg(r,s,l,d,g){var w=V();return w=w===null?null:{parent:mr._currentValue,pool:w},s.memoizedState={baseLanes:l,cachePool:w},r!==null&&$(s,null),yn(),wr(s),r!==null&&Yi(r,s,d,!0),s.childLanes=g,null}function Sh(r,s){return s=Ah({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Jg(r,s,l){return $n(s,r.child,null,l),r=Sh(s,s.pendingProps),r.flags|=2,Ln(s),s.memoizedState=null,r}function Dx(r,s,l){var d=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(rn){if(d.mode==="hidden")return r=Sh(s,d),s.lanes=536870912,pd(null,r);if(An(s),(r=Gn)?(r=c2(r,sr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Vi!==null?{id:Qa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},l=Wc(r),l.return=s,s.child=l,Wr=s,Gn=null)):r=null,r===null)throw Gi(s);return s.lanes=536870912,null}return Sh(s,d)}var w=r.memoizedState;if(w!==null){var T=w.dehydrated;if(An(s),g)if(s.flags&256)s.flags&=-257,s=Jg(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(a(558));else if(Ur||Yi(r,s,l,!1),g=(l&r.childLanes)!==0,Ur||g){if(d=Wn,d!==null&&(T=Vn(d,l),T!==0&&T!==w.retryLane))throw w.retryLane=T,bi(r,T),is(d,r,T),wm;Dh(),s=Jg(r,s,l)}else r=w.treeContext,Gn=Ws(T.nextSibling),Wr=s,rn=!0,pa=null,sr=!1,r!==null&&mh(s,r),s=Sh(s,d),s.flags|=4096;return s}return r=Ya(r.child,{mode:d.mode,children:d.children}),r.ref=s.ref,s.child=r,r.return=s,r}function jh(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function _m(r,s,l,d,g){return Ki(s),l=id(r,s,l,d,void 0,g),d=od(),r!==null&&!Ur?(ld(r,s,g),Eo(r,s,g)):(rn&&d&&nd(s),s.flags|=1,va(r,s,l,g),s.child)}function Qg(r,s,l,d,g,w){return Ki(s),s.updateQueue=null,l=xi(s,d,l,g),nu(r),d=od(),r!==null&&!Ur?(ld(r,s,w),Eo(r,s,w)):(rn&&d&&nd(s),s.flags|=1,va(r,s,l,w),s.child)}function Zg(r,s,l,d,g){if(Ki(s),s.stateNode===null){var w=$r,T=l.contextType;typeof T=="object"&&T!==null&&(w=Kr(T)),w=new l(d,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ym,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=d,w.state=s.memoizedState,w.refs={},Xe(s),T=l.contextType,w.context=typeof T=="object"&&T!==null?Kr(T):$r,w.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(bm(s,l,T,d),w.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(T=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),T!==w.state&&ym.enqueueReplaceState(w,w.state,null),yr(s,d,w,g),Un(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(r===null){w=s.stateNode;var F=s.memoizedProps,ce=hc(l,F);w.props=ce;var ke=w.context,Pe=l.contextType;T=$r,typeof Pe=="object"&&Pe!==null&&(T=Kr(Pe));var Fe=l.getDerivedStateFromProps;Pe=typeof Fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",F=s.pendingProps!==F,Pe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F||ke!==T)&&Ug(s,w,d,T),nt=!1;var Ce=s.memoizedState;w.state=Ce,yr(s,d,w,g),Un(),ke=s.memoizedState,F||Ce!==ke||nt?(typeof Fe=="function"&&(bm(s,l,Fe,d),ke=s.memoizedState),(ce=nt||Bg(s,l,ce,d,Ce,ke,T))?(Pe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ke),w.props=d,w.state=ke,w.context=T,d=ce):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Zn(r,s),T=s.memoizedProps,Pe=hc(l,T),w.props=Pe,Fe=s.pendingProps,Ce=w.context,ke=l.contextType,ce=$r,typeof ke=="object"&&ke!==null&&(ce=Kr(ke)),F=l.getDerivedStateFromProps,(ke=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==Fe||Ce!==ce)&&Ug(s,w,d,ce),nt=!1,Ce=s.memoizedState,w.state=Ce,yr(s,d,w,g),Un();var Te=s.memoizedState;T!==Fe||Ce!==Te||nt||r!==null&&r.dependencies!==null&&Qc(r.dependencies)?(typeof F=="function"&&(bm(s,l,F,d),Te=s.memoizedState),(Pe=nt||Bg(s,l,Pe,d,Ce,Te,ce)||r!==null&&r.dependencies!==null&&Qc(r.dependencies))?(ke||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Te,ce),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Te,ce)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Te),w.props=d,w.state=Te,w.context=ce,d=Pe):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=1024),d=!1)}return w=d,jh(r,s),d=(s.flags&128)!==0,w||d?(w=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,r!==null&&d?(s.child=$n(s,r.child,null,g),s.child=$n(s,null,l,g)):va(r,s,l,g),s.memoizedState=w.state,r=s.child):r=Eo(r,s,g),r}function e1(r,s,l,d){return So(),s.flags|=256,va(r,s,l,d),s.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sm(r){return{baseLanes:r,cachePool:te()}}function jm(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Ss),r}function t1(r,s,l){var d=s.pendingProps,g=!1,w=(s.flags&128)!==0,T;if((T=w)||(T=r!==null&&r.memoizedState===null?!1:(fn.current&2)!==0),T&&(g=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(rn){if(g?pr(s):_r(),(r=Gn)?(r=c2(r,sr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Vi!==null?{id:Qa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},l=Wc(r),l.return=s,s.child=l,Wr=s,Gn=null)):r=null,r===null)throw Gi(s);return op(r)?s.lanes=32:s.lanes=536870912,null}var F=d.children;return d=d.fallback,g?(_r(),g=s.mode,F=Ah({mode:"hidden",children:F},g),d=Hi(d,g,l,null),F.return=s,d.return=s,F.sibling=d,s.child=F,d=s.child,d.memoizedState=Sm(l),d.childLanes=jm(r,T,l),s.memoizedState=Nm,pd(null,d)):(pr(s),Am(s,F))}var ce=r.memoizedState;if(ce!==null&&(F=ce.dehydrated,F!==null)){if(w)s.flags&256?(pr(s),s.flags&=-257,s=km(r,s,l)):s.memoizedState!==null?(_r(),s.child=r.child,s.flags|=128,s=null):(_r(),F=d.fallback,g=s.mode,d=Ah({mode:"visible",children:d.children},g),F=Hi(F,g,l,null),F.flags|=2,d.return=s,F.return=s,d.sibling=F,s.child=d,$n(s,r.child,null,l),d=s.child,d.memoizedState=Sm(l),d.childLanes=jm(r,T,l),s.memoizedState=Nm,s=pd(null,d));else if(pr(s),op(F)){if(T=F.nextSibling&&F.nextSibling.dataset,T)var ke=T.dgst;T=ke,d=Error(a(419)),d.stack="",d.digest=T,cl({value:d,source:null,stack:null}),s=km(r,s,l)}else if(Ur||Yi(r,s,l,!1),T=(l&r.childLanes)!==0,Ur||T){if(T=Wn,T!==null&&(d=Vn(T,l),d!==0&&d!==ce.retryLane))throw ce.retryLane=d,bi(r,d),is(T,r,d),wm;ip(F)||Dh(),s=km(r,s,l)}else ip(F)?(s.flags|=192,s.child=r.child,s=null):(r=ce.treeContext,Gn=Ws(F.nextSibling),Wr=s,rn=!0,pa=null,sr=!1,r!==null&&mh(s,r),s=Am(s,d.children),s.flags|=4096);return s}return g?(_r(),F=d.fallback,g=s.mode,ce=r.child,ke=ce.sibling,d=Ya(ce,{mode:"hidden",children:d.children}),d.subtreeFlags=ce.subtreeFlags&65011712,ke!==null?F=Ya(ke,F):(F=Hi(F,g,l,null),F.flags|=2),F.return=s,d.return=s,d.sibling=F,s.child=d,pd(null,d),d=s.child,F=r.child.memoizedState,F===null?F=Sm(l):(g=F.cachePool,g!==null?(ce=mr._currentValue,g=g.parent!==ce?{parent:ce,pool:ce}:g):g=te(),F={baseLanes:F.baseLanes|l,cachePool:g}),d.memoizedState=F,d.childLanes=jm(r,T,l),s.memoizedState=Nm,pd(r.child,d)):(pr(s),l=r.child,r=l.sibling,l=Ya(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function Am(r,s){return s=Ah({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ah(r,s){return r=aa(22,r,null,s),r.lanes=0,r}function km(r,s,l){return $n(s,r.child,null,l),r=Am(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function n1(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),ul(r.return,s,l)}function Cm(r,s,l,d,g,w){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g,treeForkCount:w}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=d,T.tail=l,T.tailMode=g,T.treeForkCount=w)}function r1(r,s,l){var d=s.pendingProps,g=d.revealOrder,w=d.tail;d=d.children;var T=fn.current,F=(T&2)!==0;if(F?(T=T&1|2,s.flags|=128):T&=1,B(fn,T),va(r,s,d,l),d=rn?oc:0,!F&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&n1(r,l,s);else if(r.tag===19)n1(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&ia(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Cm(s,!1,g,l,w,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&ia(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Cm(s,!0,l,null,w,d);break;case"together":Cm(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Eo(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),bl|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Yi(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,l=Ya(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ya(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Em(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qc(r)))}function Px(r,s,l){switch(s.tag){case 3:ge(s,s.stateNode.containerInfo),Wi(s,mr,r.memoizedState.cache),So();break;case 27:case 5:Oe(s);break;case 4:ge(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,An(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(pr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?t1(r,s,l):(pr(s),r=Eo(r,s,l),r!==null?r.sibling:null);pr(s);break;case 19:var g=(r.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(Yi(r,s,l,!1),d=(l&s.childLanes)!==0),g){if(d)return r1(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),B(fn,fn.current),d)break;return null;case 22:return s.lanes=0,Kg(r,s,l,s.pendingProps);case 24:Wi(s,mr,r.memoizedState.cache)}return Eo(r,s,l)}function a1(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ur=!0;else{if(!Em(r,l)&&(s.flags&128)===0)return Ur=!1,Px(r,s,l);Ur=(r.flags&131072)!==0}else Ur=!1,rn&&(s.flags&1048576)!==0&&fh(s,oc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(r=Ne(s.elementType),s.type=r,typeof r=="function")$c(r)?(d=hc(r,d),s.tag=1,s=Zg(null,s,r,d,l)):(s.tag=0,s=_m(null,s,r,d,l));else{if(r!=null){var g=r.$$typeof;if(g===M){s.tag=11,s=$g(null,s,r,d,l);break e}else if(g===J){s.tag=14,s=Wg(null,s,r,d,l);break e}}throw s=ie(r)||r,Error(a(306,s,""))}}return s;case 0:return _m(r,s,s.type,s.pendingProps,l);case 1:return d=s.type,g=hc(d,s.pendingProps),Zg(r,s,d,g,l);case 3:e:{if(ge(s,s.stateNode.containerInfo),r===null)throw Error(a(387));d=s.pendingProps;var w=s.memoizedState;g=w.element,Zn(r,s),yr(s,d,null,l);var T=s.memoizedState;if(d=T.cache,Wi(s,mr,d),d!==w.cache&&jo(s,[mr],l,!0),Un(),d=T.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=e1(r,s,d,l);break e}else if(d!==g){g=Ka(Error(a(424)),s),cl(g),s=e1(r,s,d,l);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Gn=Ws(r.firstChild),Wr=s,rn=!0,pa=null,sr=!0,l=Gt(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(So(),d===g){s=Eo(r,s,l);break e}va(r,s,d,l)}s=s.child}return s;case 26:return jh(r,s),r===null?(l=p2(s.type,null,s.pendingProps,null))?s.memoizedState=l:rn||(l=s.type,r=s.pendingProps,d=qh(oe.current).createElement(l),d[On]=s,d[Jn]=r,ba(d,l,r),ur(d),s.stateNode=d):s.memoizedState=p2(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Oe(s),r===null&&rn&&(d=s.stateNode=h2(s.type,s.pendingProps,oe.current),Wr=s,sr=!0,g=Gn,Nl(s.type)?(lp=g,Gn=Ws(d.firstChild)):Gn=g),va(r,s,s.pendingProps.children,l),jh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&rn&&((g=d=Gn)&&(d=hw(d,s.type,s.pendingProps,sr),d!==null?(s.stateNode=d,Wr=s,Gn=Ws(d.firstChild),sr=!1,g=!0):g=!1),g||Gi(s)),Oe(s),g=s.type,w=s.pendingProps,T=r!==null?r.memoizedProps:null,d=w.children,rp(g,w)?d=null:T!==null&&rp(g,T)&&(s.flags|=32),s.memoizedState!==null&&(g=id(r,s,um,null,null,l),Td._currentValue=g),jh(r,s),va(r,s,d,l),s.child;case 6:return r===null&&rn&&((r=l=Gn)&&(l=fw(l,s.pendingProps,sr),l!==null?(s.stateNode=l,Wr=s,Gn=null,r=!0):r=!1),r||Gi(s)),null;case 13:return t1(r,s,l);case 4:return ge(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=$n(s,null,d,l):va(r,s,d,l),s.child;case 11:return $g(r,s,s.type,s.pendingProps,l);case 7:return va(r,s,s.pendingProps,l),s.child;case 8:return va(r,s,s.pendingProps.children,l),s.child;case 12:return va(r,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,Wi(s,s.type,d.value),va(r,s,d.children,l),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,Ki(s),g=Kr(g),d=d(g),s.flags|=1,va(r,s,d,l),s.child;case 14:return Wg(r,s,s.type,s.pendingProps,l);case 15:return Yg(r,s,s.type,s.pendingProps,l);case 19:return r1(r,s,l);case 31:return Dx(r,s,l);case 22:return Kg(r,s,l,s.pendingProps);case 24:return Ki(s),d=Kr(mr),r===null?(g=V(),g===null&&(g=Wn,w=dl(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=l),g=w),s.memoizedState={parent:d,cache:g},Xe(s),Wi(s,mr,g)):((r.lanes&l)!==0&&(Zn(r,s),yr(s,null,null,l),Un()),g=r.memoizedState,w=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Wi(s,mr,d)):(d=w.cache,Wi(s,mr,d),d!==g.cache&&jo(s,[mr],l,!0))),va(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function To(r){r.flags|=4}function Tm(r,s,l,d,g){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(O1())r.flags|=8192;else throw Me=pe,je}else r.flags&=-16777217}function s1(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!x2(s))if(O1())r.flags|=8192;else throw Me=pe,je}function kh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Kn():536870912,r.lanes|=s,fu|=s)}function gd(r,s){if(!rn)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function nr(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function Ix(r,s,l){var d=s.pendingProps;switch(Xc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(s),null;case 1:return nr(s),null;case 3:return l=s.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),es(mr),we(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Yr(s)?To(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),nr(s),null;case 26:var g=s.type,w=s.memoizedState;return r===null?(To(s),w!==null?(nr(s),s1(s,w)):(nr(s),Tm(s,g,null,d,l))):w?w!==r.memoizedState?(To(s),nr(s),s1(s,w)):(nr(s),s.flags&=-16777217):(r=r.memoizedProps,r!==d&&To(s),nr(s),Tm(s,g,r,d,l)),null;case 27:if(He(s),l=oe.current,g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==d&&To(s);else{if(!d){if(s.stateNode===null)throw Error(a(166));return nr(s),null}r=H.current,Yr(s)?rd(s):(r=h2(g,d,l),s.stateNode=r,To(s))}return nr(s),null;case 5:if(He(s),g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==d&&To(s);else{if(!d){if(s.stateNode===null)throw Error(a(166));return nr(s),null}if(w=H.current,Yr(s))rd(s);else{var T=qh(oe.current);switch(w){case 1:w=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:w=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":w=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":w=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":w=T.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?T.createElement("select",{is:d.is}):T.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?T.createElement(g,{is:d.is}):T.createElement(g)}}w[On]=s,w[Jn]=d;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)w.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=w;e:switch(ba(w,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&To(s)}}return nr(s),Tm(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==d&&To(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(a(166));if(r=oe.current,Yr(s)){if(r=s.stateNode,l=s.memoizedProps,d=null,g=Wr,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[On]=s,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||t2(r.nodeValue,l)),r||Gi(s,!0)}else r=qh(r).createTextNode(d),r[On]=s,s.stateNode=r}return nr(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(d=Yr(s),l!==null){if(r===null){if(!d)throw Error(a(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[On]=s}else So(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nr(s),r=!1}else l=ad(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(Ln(s),s):(Ln(s),null);if((s.flags&128)!==0)throw Error(a(558))}return nr(s),null;case 13:if(d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Yr(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(a(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[On]=s}else So(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nr(s),g=!1}else g=ad(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ln(s),s):(Ln(s),null)}return Ln(s),(s.flags&128)!==0?(s.lanes=l,s):(l=d!==null,r=r!==null&&r.memoizedState!==null,l&&(d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==g&&(d.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),kh(s,s.updateQueue),nr(s),null);case 4:return we(),r===null&&Qm(s.stateNode.containerInfo),nr(s),null;case 10:return es(s.type),nr(s),null;case 19:if(O(fn),d=s.memoizedState,d===null)return nr(s),null;if(g=(s.flags&128)!==0,w=d.rendering,w===null)if(g)gd(d,!1);else{if(Sr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=ia(r),w!==null){for(s.flags|=128,gd(d,!1),r=w.updateQueue,s.updateQueue=r,kh(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)sc(l,r),l=l.sibling;return B(fn,fn.current&1|2),rn&&Ua(s,d.treeForkCount),s.child}r=r.sibling}d.tail!==null&&Ft()>Lh&&(s.flags|=128,g=!0,gd(d,!1),s.lanes=4194304)}else{if(!g)if(r=ia(w),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,kh(s,r),gd(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!rn)return nr(s),null}else 2*Ft()-d.renderingStartTime>Lh&&l!==536870912&&(s.flags|=128,g=!0,gd(d,!1),s.lanes=4194304);d.isBackwards?(w.sibling=s.child,s.child=w):(r=d.last,r!==null?r.sibling=w:s.child=w,d.last=w)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Ft(),r.sibling=null,l=fn.current,B(fn,g?l&1|2:l&1),rn&&Ua(s,d.treeForkCount),r):(nr(s),null);case 22:case 23:return Ln(s),Or(),d=s.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(nr(s),s.subtreeFlags&6&&(s.flags|=8192)):nr(s),l=s.updateQueue,l!==null&&kh(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),r!==null&&O(z),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),es(mr),nr(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Bx(r,s){switch(Xc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return es(mr),we(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 31:if(s.memoizedState!==null){if(Ln(s),s.alternate===null)throw Error(a(340));So()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Ln(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));So()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return O(fn),null;case 4:return we(),null;case 10:return es(s.type),null;case 22:case 23:return Ln(s),Or(),r!==null&&O(z),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return es(mr),null;case 25:return null;default:return null}}function i1(r,s){switch(Xc(s),s.tag){case 3:es(mr),we();break;case 26:case 27:case 5:He(s);break;case 4:we();break;case 31:s.memoizedState!==null&&Ln(s);break;case 13:Ln(s);break;case 19:O(fn);break;case 10:es(s.type);break;case 22:case 23:Ln(s),Or(),r!==null&&O(z);break;case 24:es(mr)}}function vd(r,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&r)===r){d=void 0;var w=l.create,T=l.inst;d=w(),T.destroy=d}l=l.next}while(l!==g)}}catch(F){Mn(s,s.return,F)}}function gl(r,s,l){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var w=g.next;d=w;do{if((d.tag&r)===r){var T=d.inst,F=T.destroy;if(F!==void 0){T.destroy=void 0,g=s;var ce=l,ke=F;try{ke()}catch(Pe){Mn(g,ce,Pe)}}}d=d.next}while(d!==w)}}catch(Pe){Mn(s,s.return,Pe)}}function o1(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{xr(s,l)}catch(d){Mn(r,r.return,d)}}}function l1(r,s,l){l.props=hc(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){Mn(r,s,d)}}function bd(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(g){Mn(r,s,g)}}function eo(r,s){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){Mn(r,s,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Mn(r,s,g)}else l.current=null}function c1(r){var s=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){Mn(r,r.return,g)}}function Om(r,s,l){try{var d=r.stateNode;iw(d,r.type,l,s),d[Jn]=s}catch(g){Mn(r,r.return,g)}}function u1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Nl(r.type)||r.tag===4}function Lm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||u1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Nl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rm(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gs));else if(d!==4&&(d===27&&Nl(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Rm(r,s,l),r=r.sibling;r!==null;)Rm(r,s,l),r=r.sibling}function Ch(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(d===27&&Nl(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Ch(r,s,l),r=r.sibling;r!==null;)Ch(r,s,l),r=r.sibling}function d1(r){var s=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ba(s,d,l),s[On]=r,s[Jn]=l}catch(w){Mn(r,r.return,w)}}var Oo=!1,zr=!1,Mm=!1,h1=typeof WeakSet=="function"?WeakSet:Set,oa=null;function Ux(r,s){if(r=r.containerInfo,tp=Kh,r=gi(r),qs(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var T=0,F=-1,ce=-1,ke=0,Pe=0,Fe=r,Ce=null;t:for(;;){for(var Te;Fe!==l||g!==0&&Fe.nodeType!==3||(F=T+g),Fe!==w||d!==0&&Fe.nodeType!==3||(ce=T+d),Fe.nodeType===3&&(T+=Fe.nodeValue.length),(Te=Fe.firstChild)!==null;)Ce=Fe,Fe=Te;for(;;){if(Fe===r)break t;if(Ce===l&&++ke===g&&(F=T),Ce===w&&++Pe===d&&(ce=T),(Te=Fe.nextSibling)!==null)break;Fe=Ce,Ce=Fe.parentNode}Fe=Te}l=F===-1||ce===-1?null:{start:F,end:ce}}else l=null}l=l||{start:0,end:0}}else l=null;for(np={focusedElem:r,selectionRange:l},Kh=!1,oa=s;oa!==null;)if(s=oa,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,oa=r;else for(;oa!==null;){switch(s=oa,w=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)g=r[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,l=s,g=w.memoizedProps,w=w.memoizedState,d=l.stateNode;try{var ut=hc(l.type,g);r=d.getSnapshotBeforeUpdate(ut,w),d.__reactInternalSnapshotBeforeUpdate=r}catch(Mt){Mn(l,l.return,Mt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)sp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":sp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,oa=r;break}oa=s.return}}function f1(r,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ro(r,l),d&4&&vd(5,l);break;case 1:if(Ro(r,l),d&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){Mn(l,l.return,T)}else{var g=hc(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(g,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Mn(l,l.return,T)}}d&64&&o1(l),d&512&&bd(l,l.return);break;case 3:if(Ro(r,l),d&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{xr(r,s)}catch(T){Mn(l,l.return,T)}}break;case 27:s===null&&d&4&&d1(l);case 26:case 5:Ro(r,l),s===null&&d&4&&c1(l),d&512&&bd(l,l.return);break;case 12:Ro(r,l);break;case 31:Ro(r,l),d&4&&g1(r,l);break;case 13:Ro(r,l),d&4&&v1(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Yx.bind(null,l),mw(r,l))));break;case 22:if(d=l.memoizedState!==null||Oo,!d){s=s!==null&&s.memoizedState!==null||zr,g=Oo;var w=zr;Oo=d,(zr=s)&&!w?Mo(r,l,(l.subtreeFlags&8772)!==0):Ro(r,l),Oo=g,zr=w}break;case 30:break;default:Ro(r,l)}}function m1(r){var s=r.alternate;s!==null&&(r.alternate=null,m1(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ii(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lr=null,ns=!1;function Lo(r,s,l){for(l=l.child;l!==null;)p1(r,s,l),l=l.sibling}function p1(r,s,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Kt,l)}catch{}switch(l.tag){case 26:zr||eo(l,s),Lo(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zr||eo(l,s);var d=lr,g=ns;Nl(l.type)&&(lr=l.stateNode,ns=!1),Lo(r,s,l),kd(l.stateNode),lr=d,ns=g;break;case 5:zr||eo(l,s);case 6:if(d=lr,g=ns,lr=null,Lo(r,s,l),lr=d,ns=g,lr!==null)if(ns)try{(lr.nodeType===9?lr.body:lr.nodeName==="HTML"?lr.ownerDocument.body:lr).removeChild(l.stateNode)}catch(w){Mn(l,s,w)}else try{lr.removeChild(l.stateNode)}catch(w){Mn(l,s,w)}break;case 18:lr!==null&&(ns?(r=lr,o2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),wu(r)):o2(lr,l.stateNode));break;case 4:d=lr,g=ns,lr=l.stateNode.containerInfo,ns=!0,Lo(r,s,l),lr=d,ns=g;break;case 0:case 11:case 14:case 15:gl(2,l,s),zr||gl(4,l,s),Lo(r,s,l);break;case 1:zr||(eo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&l1(l,s,d)),Lo(r,s,l);break;case 21:Lo(r,s,l);break;case 22:zr=(d=zr)||l.memoizedState!==null,Lo(r,s,l),zr=d;break;default:Lo(r,s,l)}}function g1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{wu(r)}catch(l){Mn(s,s.return,l)}}}function v1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wu(r)}catch(l){Mn(s,s.return,l)}}function zx(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new h1),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new h1),s;default:throw Error(a(435,r.tag))}}function Eh(r,s){var l=zx(r);s.forEach(function(d){if(!l.has(d)){l.add(d);var g=Kx.bind(null,r,d);d.then(g,g)}})}function rs(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],w=r,T=s,F=T;e:for(;F!==null;){switch(F.tag){case 27:if(Nl(F.type)){lr=F.stateNode,ns=!1;break e}break;case 5:lr=F.stateNode,ns=!1;break e;case 3:case 4:lr=F.stateNode.containerInfo,ns=!0;break e}F=F.return}if(lr===null)throw Error(a(160));p1(w,T,g),lr=null,ns=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)b1(s,r),s=s.sibling}var Si=null;function b1(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rs(s,r),as(r),d&4&&(gl(3,r,r.return),vd(3,r),gl(5,r,r.return));break;case 1:rs(s,r),as(r),d&512&&(zr||l===null||eo(l,l.return)),d&64&&Oo&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Si;if(rs(s,r),as(r),d&512&&(zr||l===null||eo(l,l.return)),d&4){var w=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":w=g.getElementsByTagName("title")[0],(!w||w[us]||w[On]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(d),g.head.insertBefore(w,g.querySelector("head > title"))),ba(w,d,l),w[On]=r,ur(w),d=w;break e;case"link":var T=b2("link","href",g).get(d+(l.href||""));if(T){for(var F=0;F<T.length;F++)if(w=T[F],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(F,1);break t}}w=g.createElement(d),ba(w,d,l),g.head.appendChild(w);break;case"meta":if(T=b2("meta","content",g).get(d+(l.content||""))){for(F=0;F<T.length;F++)if(w=T[F],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(F,1);break t}}w=g.createElement(d),ba(w,d,l),g.head.appendChild(w);break;default:throw Error(a(468,d))}w[On]=r,ur(w),d=w}r.stateNode=d}else y2(g,r.type,r.stateNode);else r.stateNode=v2(g,d,r.memoizedProps);else w!==d?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,d===null?y2(g,r.type,r.stateNode):v2(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Om(r,r.memoizedProps,l.memoizedProps)}break;case 27:rs(s,r),as(r),d&512&&(zr||l===null||eo(l,l.return)),l!==null&&d&4&&Om(r,r.memoizedProps,l.memoizedProps);break;case 5:if(rs(s,r),as(r),d&512&&(zr||l===null||eo(l,l.return)),r.flags&32){g=r.stateNode;try{ps(g,"")}catch(ut){Mn(r,r.return,ut)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,Om(r,g,l!==null?l.memoizedProps:g)),d&1024&&(Mm=!0);break;case 6:if(rs(s,r),as(r),d&4){if(r.stateNode===null)throw Error(a(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(ut){Mn(r,r.return,ut)}}break;case 3:if(Gh=null,g=Si,Si=Hh(s.containerInfo),rs(s,r),Si=g,as(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{wu(s.containerInfo)}catch(ut){Mn(r,r.return,ut)}Mm&&(Mm=!1,y1(r));break;case 4:d=Si,Si=Hh(r.stateNode.containerInfo),rs(s,r),as(r),Si=d;break;case 12:rs(s,r),as(r);break;case 31:rs(s,r),as(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Eh(r,d)));break;case 13:rs(s,r),as(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Oh=Ft()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Eh(r,d)));break;case 22:g=r.memoizedState!==null;var ce=l!==null&&l.memoizedState!==null,ke=Oo,Pe=zr;if(Oo=ke||g,zr=Pe||ce,rs(s,r),zr=Pe,Oo=ke,as(r),d&8192)e:for(s=r.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ce||Oo||zr||fc(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){ce=l=s;try{if(w=ce.stateNode,g)T=w.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{F=ce.stateNode;var Fe=ce.memoizedProps.style,Ce=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;F.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(ut){Mn(ce,ce.return,ut)}}}else if(s.tag===6){if(l===null){ce=s;try{ce.stateNode.nodeValue=g?"":ce.memoizedProps}catch(ut){Mn(ce,ce.return,ut)}}}else if(s.tag===18){if(l===null){ce=s;try{var Te=ce.stateNode;g?l2(Te,!0):l2(ce.stateNode,!1)}catch(ut){Mn(ce,ce.return,ut)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Eh(r,l))));break;case 19:rs(s,r),as(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Eh(r,d)));break;case 30:break;case 21:break;default:rs(s,r),as(r)}}function as(r){var s=r.flags;if(s&2){try{for(var l,d=r.return;d!==null;){if(u1(d)){l=d;break}d=d.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var g=l.stateNode,w=Lm(r);Ch(r,w,g);break;case 5:var T=l.stateNode;l.flags&32&&(ps(T,""),l.flags&=-33);var F=Lm(r);Ch(r,F,T);break;case 3:case 4:var ce=l.stateNode.containerInfo,ke=Lm(r);Rm(r,ke,ce);break;default:throw Error(a(161))}}catch(Pe){Mn(r,r.return,Pe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function y1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;y1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ro(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)f1(r,s.alternate,s),s=s.sibling}function fc(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:gl(4,s,s.return),fc(s);break;case 1:eo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&l1(s,s.return,l),fc(s);break;case 27:kd(s.stateNode);case 26:case 5:eo(s,s.return),fc(s);break;case 22:s.memoizedState===null&&fc(s);break;case 30:fc(s);break;default:fc(s)}r=r.sibling}}function Mo(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=r,w=s,T=w.flags;switch(w.tag){case 0:case 11:case 15:Mo(g,w,l),vd(4,w);break;case 1:if(Mo(g,w,l),d=w,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ke){Mn(d,d.return,ke)}if(d=w,g=d.updateQueue,g!==null){var F=d.stateNode;try{var ce=g.shared.hiddenCallbacks;if(ce!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ce.length;g++)sa(ce[g],F)}catch(ke){Mn(d,d.return,ke)}}l&&T&64&&o1(w),bd(w,w.return);break;case 27:d1(w);case 26:case 5:Mo(g,w,l),l&&d===null&&T&4&&c1(w),bd(w,w.return);break;case 12:Mo(g,w,l);break;case 31:Mo(g,w,l),l&&T&4&&g1(g,w);break;case 13:Mo(g,w,l),l&&T&4&&v1(g,w);break;case 22:w.memoizedState===null&&Mo(g,w,l),bd(w,w.return);break;case 30:break;default:Mo(g,w,l)}s=s.sibling}}function Dm(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&lc(l))}function Pm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&lc(r))}function ji(r,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)x1(r,s,l,d),s=s.sibling}function x1(r,s,l,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ji(r,s,l,d),g&2048&&vd(9,s);break;case 1:ji(r,s,l,d);break;case 3:ji(r,s,l,d),g&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&lc(r)));break;case 12:if(g&2048){ji(r,s,l,d),r=s.stateNode;try{var w=s.memoizedProps,T=w.id,F=w.onPostCommit;typeof F=="function"&&F(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ce){Mn(s,s.return,ce)}}else ji(r,s,l,d);break;case 31:ji(r,s,l,d);break;case 13:ji(r,s,l,d);break;case 23:break;case 22:w=s.stateNode,T=s.alternate,s.memoizedState!==null?w._visibility&2?ji(r,s,l,d):yd(r,s):w._visibility&2?ji(r,s,l,d):(w._visibility|=2,uu(r,s,l,d,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Dm(T,s);break;case 24:ji(r,s,l,d),g&2048&&Pm(s.alternate,s);break;default:ji(r,s,l,d)}}function uu(r,s,l,d,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=r,T=s,F=l,ce=d,ke=T.flags;switch(T.tag){case 0:case 11:case 15:uu(w,T,F,ce,g),vd(8,T);break;case 23:break;case 22:var Pe=T.stateNode;T.memoizedState!==null?Pe._visibility&2?uu(w,T,F,ce,g):yd(w,T):(Pe._visibility|=2,uu(w,T,F,ce,g)),g&&ke&2048&&Dm(T.alternate,T);break;case 24:uu(w,T,F,ce,g),g&&ke&2048&&Pm(T.alternate,T);break;default:uu(w,T,F,ce,g)}s=s.sibling}}function yd(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,d=s,g=d.flags;switch(d.tag){case 22:yd(l,d),g&2048&&Dm(d.alternate,d);break;case 24:yd(l,d),g&2048&&Pm(d.alternate,d);break;default:yd(l,d)}s=s.sibling}}var xd=8192;function du(r,s,l){if(r.subtreeFlags&xd)for(r=r.child;r!==null;)w1(r,s,l),r=r.sibling}function w1(r,s,l){switch(r.tag){case 26:du(r,s,l),r.flags&xd&&r.memoizedState!==null&&Aw(l,Si,r.memoizedState,r.memoizedProps);break;case 5:du(r,s,l);break;case 3:case 4:var d=Si;Si=Hh(r.stateNode.containerInfo),du(r,s,l),Si=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=xd,xd=16777216,du(r,s,l),xd=d):du(r,s,l));break;default:du(r,s,l)}}function _1(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function wd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];oa=d,S1(d,r)}_1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N1(r),r=r.sibling}function N1(r){switch(r.tag){case 0:case 11:case 15:wd(r),r.flags&2048&&gl(9,r,r.return);break;case 3:wd(r);break;case 12:wd(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Th(r)):wd(r);break;default:wd(r)}}function Th(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];oa=d,S1(d,r)}_1(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:gl(8,s,s.return),Th(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Th(s));break;default:Th(s)}r=r.sibling}}function S1(r,s){for(;oa!==null;){var l=oa;switch(l.tag){case 0:case 11:case 15:gl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:lc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,oa=d;else e:for(l=r;oa!==null;){d=oa;var g=d.sibling,w=d.return;if(m1(d),d===l){oa=null;break e}if(g!==null){g.return=w,oa=g;break e}oa=w}}}var Fx={getCacheForType:function(r){var s=Kr(mr),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return Kr(mr).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,kn=0,Wn=null,an=null,ln=0,Rn=0,Ns=null,vl=!1,hu=!1,Im=!1,Do=0,Sr=0,bl=0,mc=0,Bm=0,Ss=0,fu=0,_d=null,ss=null,Um=!1,Oh=0,j1=0,Lh=1/0,Rh=null,yl=null,Jr=0,xl=null,mu=null,Po=0,zm=0,Fm=null,A1=null,Nd=0,qm=null;function js(){return(kn&2)!==0&&ln!==0?ln&-ln:X.T!==null?Ym():kr()}function k1(){if(Ss===0)if((ln&536870912)===0||rn){var r=Sn;Sn<<=1,(Sn&3932160)===0&&(Sn=262144),Ss=r}else Ss=536870912;return r=tr.current,r!==null&&(r.flags|=32),Ss}function is(r,s,l){(r===Wn&&(Rn===2||Rn===9)||r.cancelPendingCommit!==null)&&(pu(r,0),wl(r,ln,Ss,!1)),et(r,l),((kn&2)===0||r!==Wn)&&(r===Wn&&((kn&2)===0&&(mc|=l),Sr===4&&wl(r,ln,Ss,!1)),to(r))}function C1(r,s,l){if((kn&6)!==0)throw Error(a(327));var d=!l&&(s&127)===0&&(s&r.expiredLanes)===0||wn(r,s),g=d?Gx(r,s):Vm(r,s,!0),w=d;do{if(g===0){hu&&!d&&wl(r,s,0,!1);break}else{if(l=r.current.alternate,w&&!Hx(l)){g=Vm(r,s,!1),w=!1;continue}if(g===2){if(w=s,r.errorRecoveryDisabledLanes&w)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var F=r;g=_d;var ce=F.current.memoizedState.isDehydrated;if(ce&&(pu(F,T).flags|=256),T=Vm(F,T,!1),T!==2){if(Im&&!ce){F.errorRecoveryDisabledLanes|=w,mc|=w,g=4;break e}w=ss,ss=g,w!==null&&(ss===null?ss=w:ss.push.apply(ss,w))}g=T}if(w=!1,g!==2)continue}}if(g===1){pu(r,0),wl(r,s,0,!0);break}e:{switch(d=r,w=g,w){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:wl(d,s,Ss,!vl);break e;case 2:ss=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(g=Oh+300-Ft(),10<g)){if(wl(d,s,Ss,!vl),Qe(d,0,!0)!==0)break e;Po=s,d.timeoutHandle=s2(E1.bind(null,d,l,ss,Rh,Um,s,Ss,mc,fu,vl,w,"Throttled",-0,0),g);break e}E1(d,l,ss,Rh,Um,s,Ss,mc,fu,vl,w,null,-0,0)}}break}while(!0);to(r)}function E1(r,s,l,d,g,w,T,F,ce,ke,Pe,Fe,Ce,Te){if(r.timeoutHandle=-1,Fe=s.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},w1(s,w,Fe);var ut=(w&62914560)===w?Oh-Ft():(w&4194048)===w?j1-Ft():0;if(ut=kw(Fe,ut),ut!==null){Po=w,r.cancelPendingCommit=ut(I1.bind(null,r,s,w,l,d,g,T,F,ce,Pe,Fe,null,Ce,Te)),wl(r,w,T,!ke);return}}I1(r,s,w,l,d,g,T,F,ce)}function Hx(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],w=g.getSnapshot;g=g.value;try{if(!Gr(w(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wl(r,s,l,d){s&=~Bm,s&=~mc,r.suspendedLanes|=s,r.pingedLanes&=~s,d&&(r.warmLanes|=s),d=r.expirationTimes;for(var g=s;0<g;){var w=31-Xt(g),T=1<<w;d[w]=-1,g&=~T}l!==0&&ca(r,l,s)}function Mh(){return(kn&6)===0?(Sd(0),!1):!0}function Hm(){if(an!==null){if(Rn===0)var r=an.return;else r=an,Vs=$i=null,ru(r),qe=null,dt=0,r=an;for(;r!==null;)i1(r.alternate,r),r=r.return;an=null}}function pu(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,cw(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Po=0,Hm(),Wn=r,an=l=Ya(r.current,null),ln=s,Rn=0,Ns=null,vl=!1,hu=wn(r,s),Im=!1,fu=Ss=Bm=mc=bl=Sr=0,ss=_d=null,Um=!1,(s&8)!==0&&(s|=s&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=s;0<d;){var g=31-Xt(d),w=1<<g;s|=r[g],d&=~w}return Do=s,nc(),l}function T1(r,s){jt=null,X.H=md,s===fe||s===Z?(s=Ue(),Rn=3):s===je?(s=Ue(),Rn=4):Rn=s===wm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ns=s,an===null&&(Sr=1,Nh(r,Ka(s,r.current)))}function O1(){var r=tr.current;return r===null?!0:(ln&4194048)===ln?pn===null:(ln&62914560)===ln||(ln&536870912)!==0?r===pn:!1}function L1(){var r=X.H;return X.H=md,r===null?md:r}function R1(){var r=X.A;return X.A=Fx,r}function Dh(){Sr=4,vl||(ln&4194048)!==ln&&tr.current!==null||(hu=!0),(bl&134217727)===0&&(mc&134217727)===0||Wn===null||wl(Wn,ln,Ss,!1)}function Vm(r,s,l){var d=kn;kn|=2;var g=L1(),w=R1();(Wn!==r||ln!==s)&&(Rh=null,pu(r,s)),s=!1;var T=Sr;e:do try{if(Rn!==0&&an!==null){var F=an,ce=Ns;switch(Rn){case 8:Hm(),T=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(s=!0);var ke=Rn;if(Rn=0,Ns=null,gu(r,F,ce,ke),l&&hu){T=0;break e}break;default:ke=Rn,Rn=0,Ns=null,gu(r,F,ce,ke)}}Vx(),T=Sr;break}catch(Pe){T1(r,Pe)}while(!0);return s&&r.shellSuspendCounter++,Vs=$i=null,kn=d,X.H=g,X.A=w,an===null&&(Wn=null,ln=0,nc()),T}function Vx(){for(;an!==null;)M1(an)}function Gx(r,s){var l=kn;kn|=2;var d=L1(),g=R1();Wn!==r||ln!==s?(Rh=null,Lh=Ft()+500,pu(r,s)):hu=wn(r,s);e:do try{if(Rn!==0&&an!==null){s=an;var w=Ns;t:switch(Rn){case 1:Rn=0,Ns=null,gu(r,s,w,1);break;case 2:case 9:if(xe(w)){Rn=0,Ns=null,D1(s);break}s=function(){Rn!==2&&Rn!==9||Wn!==r||(Rn=7),to(r)},w.then(s,s);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:xe(w)?(Rn=0,Ns=null,D1(s)):(Rn=0,Ns=null,gu(r,s,w,7));break;case 5:var T=null;switch(an.tag){case 26:T=an.memoizedState;case 5:case 27:var F=an;if(T?x2(T):F.stateNode.complete){Rn=0,Ns=null;var ce=F.sibling;if(ce!==null)an=ce;else{var ke=F.return;ke!==null?(an=ke,Ph(ke)):an=null}break t}}Rn=0,Ns=null,gu(r,s,w,5);break;case 6:Rn=0,Ns=null,gu(r,s,w,6);break;case 8:Hm(),Sr=6;break e;default:throw Error(a(462))}}$x();break}catch(Pe){T1(r,Pe)}while(!0);return Vs=$i=null,X.H=d,X.A=g,kn=l,an!==null?0:(Wn=null,ln=0,nc(),Sr)}function $x(){for(;an!==null&&!st();)M1(an)}function M1(r){var s=a1(r.alternate,r,Do);r.memoizedProps=r.pendingProps,s===null?Ph(r):an=s}function D1(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=Qg(l,s,s.pendingProps,s.type,void 0,ln);break;case 11:s=Qg(l,s,s.pendingProps,s.type.render,s.ref,ln);break;case 5:ru(s);default:i1(l,s),s=an=sc(s,Do),s=a1(l,s,Do)}r.memoizedProps=r.pendingProps,s===null?Ph(r):an=s}function gu(r,s,l,d){Vs=$i=null,ru(s),qe=null,dt=0;var g=s.return;try{if(Mx(r,g,s,l,ln)){Sr=1,Nh(r,Ka(l,r.current)),an=null;return}}catch(w){if(g!==null)throw an=g,w;Sr=1,Nh(r,Ka(l,r.current)),an=null;return}s.flags&32768?(rn||d===1?r=!0:hu||(ln&536870912)!==0?r=!1:(vl=r=!0,(d===2||d===9||d===3||d===6)&&(d=tr.current,d!==null&&d.tag===13&&(d.flags|=16384))),P1(s,r)):Ph(s)}function Ph(r){var s=r;do{if((s.flags&32768)!==0){P1(s,vl);return}r=s.return;var l=Ix(s.alternate,s,Do);if(l!==null){an=l;return}if(s=s.sibling,s!==null){an=s;return}an=s=r}while(s!==null);Sr===0&&(Sr=5)}function P1(r,s){do{var l=Bx(r.alternate,r);if(l!==null){l.flags&=32767,an=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){an=r;return}an=r=l}while(r!==null);Sr=6,an=null}function I1(r,s,l,d,g,w,T,F,ce){r.cancelPendingCommit=null;do Ih();while(Jr!==0);if((kn&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(w=s.lanes|s.childLanes,w|=Hc,ar(r,l,w,T,F,ce),r===Wn&&(an=Wn=null,ln=0),mu=s,xl=r,Po=l,zm=w,Fm=g,A1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Xx(Ht,function(){return q1(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,g=le.p,le.p=2,T=kn,kn|=4;try{Ux(r,s,l)}finally{kn=T,le.p=g,X.T=d}}Jr=1,B1(),U1(),z1()}}function B1(){if(Jr===1){Jr=0;var r=xl,s=mu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var d=le.p;le.p=2;var g=kn;kn|=4;try{b1(s,r);var w=np,T=gi(r.containerInfo),F=w.focusedElem,ce=w.selectionRange;if(T!==F&&F&&F.ownerDocument&&pi(F.ownerDocument.documentElement,F)){if(ce!==null&&qs(F)){var ke=ce.start,Pe=ce.end;if(Pe===void 0&&(Pe=ke),"selectionStart"in F)F.selectionStart=ke,F.selectionEnd=Math.min(Pe,F.value.length);else{var Fe=F.ownerDocument||document,Ce=Fe&&Fe.defaultView||window;if(Ce.getSelection){var Te=Ce.getSelection(),ut=F.textContent.length,Mt=Math.min(ce.start,ut),qn=ce.end===void 0?Mt:Math.min(ce.end,ut);!Te.extend&&Mt>qn&&(T=qn,qn=Mt,Mt=T);var be=sl(F,Mt),me=sl(F,qn);if(be&&me&&(Te.rangeCount!==1||Te.anchorNode!==be.node||Te.anchorOffset!==be.offset||Te.focusNode!==me.node||Te.focusOffset!==me.offset)){var Ae=Fe.createRange();Ae.setStart(be.node,be.offset),Te.removeAllRanges(),Mt>qn?(Te.addRange(Ae),Te.extend(me.node,me.offset)):(Ae.setEnd(me.node,me.offset),Te.addRange(Ae))}}}}for(Fe=[],Te=F;Te=Te.parentNode;)Te.nodeType===1&&Fe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Fe.length;F++){var ze=Fe[F];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Kh=!!tp,np=tp=null}finally{kn=g,le.p=d,X.T=l}}r.current=s,Jr=2}}function U1(){if(Jr===2){Jr=0;var r=xl,s=mu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var d=le.p;le.p=2;var g=kn;kn|=4;try{f1(r,s.alternate,s)}finally{kn=g,le.p=d,X.T=l}}Jr=3}}function z1(){if(Jr===4||Jr===3){Jr=0,pt();var r=xl,s=mu,l=Po,d=A1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jr=5:(Jr=0,mu=xl=null,F1(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(yl=null),En(l),s=s.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Kt,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=X.T,g=le.p,le.p=2,X.T=null;try{for(var w=r.onRecoverableError,T=0;T<d.length;T++){var F=d[T];w(F.value,{componentStack:F.stack})}}finally{X.T=s,le.p=g}}(Po&3)!==0&&Ih(),to(r),g=r.pendingLanes,(l&261930)!==0&&(g&42)!==0?r===qm?Nd++:(Nd=0,qm=r):Nd=0,Sd(0)}}function F1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,lc(s)))}function Ih(){return B1(),U1(),z1(),q1()}function q1(){if(Jr!==5)return!1;var r=xl,s=zm;zm=0;var l=En(Po),d=X.T,g=le.p;try{le.p=32>l?32:l,X.T=null,l=Fm,Fm=null;var w=xl,T=Po;if(Jr=0,mu=xl=null,Po=0,(kn&6)!==0)throw Error(a(331));var F=kn;if(kn|=4,N1(w.current),x1(w,w.current,T,l),kn=F,Sd(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Kt,w)}catch{}return!0}finally{le.p=g,X.T=d,F1(r,s)}}function H1(r,s,l){s=Ka(l,s),s=xm(r.stateNode,s,2),r=Yt(r,s,2),r!==null&&(et(r,2),to(r))}function Mn(r,s,l){if(r.tag===3)H1(r,r,l);else for(;s!==null;){if(s.tag===3){H1(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yl===null||!yl.has(d))){r=Ka(l,r),l=Vg(2),d=Yt(s,l,2),d!==null&&(Gg(l,d,s,r),et(d,2),to(d));break}}s=s.return}}function Gm(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new qx;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(l)||(Im=!0,g.add(l),r=Wx.bind(null,r,s,l),s.then(r,r))}function Wx(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Wn===r&&(ln&l)===l&&(Sr===4||Sr===3&&(ln&62914560)===ln&&300>Ft()-Oh?(kn&2)===0&&pu(r,0):Bm|=l,fu===ln&&(fu=0)),to(r)}function V1(r,s){s===0&&(s=Kn()),r=bi(r,s),r!==null&&(et(r,s),to(r))}function Yx(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),V1(r,l)}function Kx(r,s){var l=0;switch(r.tag){case 31:case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(s),V1(r,l)}function Xx(r,s){return at(r,s)}var Bh=null,vu=null,$m=!1,Uh=!1,Wm=!1,_l=0;function to(r){r!==vu&&r.next===null&&(vu===null?Bh=vu=r:vu=vu.next=r),Uh=!0,$m||($m=!0,Qx())}function Sd(r,s){if(!Wm&&Uh){Wm=!0;do for(var l=!1,d=Bh;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var w=0;else{var T=d.suspendedLanes,F=d.pingedLanes;w=(1<<31-Xt(42|r)+1)-1,w&=g&~(T&~F),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,Y1(d,w))}else w=ln,w=Qe(d,d===Wn?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||wn(d,w)||(l=!0,Y1(d,w));d=d.next}while(l);Wm=!1}}function Jx(){G1()}function G1(){Uh=$m=!1;var r=0;_l!==0&&lw()&&(r=_l);for(var s=Ft(),l=null,d=Bh;d!==null;){var g=d.next,w=$1(d,s);w===0?(d.next=null,l===null?Bh=g:l.next=g,g===null&&(vu=l)):(l=d,(r!==0||(w&3)!==0)&&(Uh=!0)),d=g}Jr!==0&&Jr!==5||Sd(r),_l!==0&&(_l=0)}function $1(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var T=31-Xt(w),F=1<<T,ce=g[T];ce===-1?((F&l)===0||(F&d)!==0)&&(g[T]=un(F,s)):ce<=s&&(r.expiredLanes|=F),w&=~F}if(s=Wn,l=ln,l=Qe(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===s&&(Rn===2||Rn===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ze(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||wn(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(d!==null&&Ze(d),En(l)){case 2:case 8:l=Zt;break;case 32:l=Ht;break;case 268435456:l=Et;break;default:l=Ht}return d=W1.bind(null,r),l=at(l,d),r.callbackPriority=s,r.callbackNode=l,s}return d!==null&&d!==null&&Ze(d),r.callbackPriority=2,r.callbackNode=null,2}function W1(r,s){if(Jr!==0&&Jr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Ih()&&r.callbackNode!==l)return null;var d=ln;return d=Qe(r,r===Wn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(C1(r,d,s),$1(r,Ft()),r.callbackNode!=null&&r.callbackNode===l?W1.bind(null,r):null)}function Y1(r,s){if(Ih())return null;C1(r,s,!0)}function Qx(){uw(function(){(kn&6)!==0?at(Lt,Jx):G1()})}function Ym(){if(_l===0){var r=p;r===0&&(r=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),_l=r}return _l}function K1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:_a(""+r)}function X1(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function Zx(r,s,l,d,g){if(s==="submit"&&l&&l.stateNode===g){var w=K1((g[Jn]||null).action),T=d.submitter;T&&(s=(s=T[Jn]||null)?K1(s.formAction):T.getAttribute("formAction"),s!==null&&(w=s,T=null));var F=new Ga("action","action",null,d,g);r.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_l!==0){var ce=T?X1(g,T):new FormData(g);mm(l,{pending:!0,data:ce,method:g.method,action:w},null,ce)}}else typeof w=="function"&&(F.preventDefault(),ce=T?X1(g,T):new FormData(g),mm(l,{pending:!0,data:ce,method:g.method,action:w},w,ce))},currentTarget:g}]})}}for(var Km=0;Km<wo.length;Km++){var Xm=wo[Km],ew=Xm.toLowerCase(),tw=Xm[0].toUpperCase()+Xm.slice(1);Wa(ew,"on"+tw)}Wa(xo,"onAnimationEnd"),Wa(ec,"onAnimationIteration"),Wa(Zu,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(uh,"onTransitionRun"),Wa(dh,"onTransitionStart"),Wa(hh,"onTransitionCancel"),Wa(ed,"onTransitionEnd"),Zs("onMouseEnter",["mouseout","mouseover"]),Zs("onMouseLeave",["mouseout","mouseover"]),Zs("onPointerEnter",["pointerout","pointerover"]),Zs("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jd));function J1(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var w=void 0;if(s)for(var T=d.length-1;0<=T;T--){var F=d[T],ce=F.instance,ke=F.currentTarget;if(F=F.listener,ce!==w&&g.isPropagationStopped())break e;w=F,g.currentTarget=ke;try{w(g)}catch(Pe){tc(Pe)}g.currentTarget=null,w=ce}else for(T=0;T<d.length;T++){if(F=d[T],ce=F.instance,ke=F.currentTarget,F=F.listener,ce!==w&&g.isPropagationStopped())break e;w=F,g.currentTarget=ke;try{w(g)}catch(Pe){tc(Pe)}g.currentTarget=null,w=ce}}}}function sn(r,s){var l=s[Oa];l===void 0&&(l=s[Oa]=new Set);var d=r+"__bubble";l.has(d)||(Q1(s,r,2,!1),l.add(d))}function Jm(r,s,l){var d=0;s&&(d|=4),Q1(l,r,d,s)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Qm(r){if(!r[zh]){r[zh]=!0,Il.forEach(function(l){l!=="selectionchange"&&(nw.has(l)||Jm(l,!1,r),Jm(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zh]||(s[zh]=!0,Jm("selectionchange",!1,s))}}function Q1(r,s,l,d){switch(k2(s)){case 2:var g=Tw;break;case 8:g=Ow;break;default:g=fp}l=g.bind(null,s,l,r),g=void 0,!Kl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function Zm(r,s,l,d,g){var w=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var F=d.stateNode.containerInfo;if(F===g)break;if(T===4)for(T=d.return;T!==null;){var ce=T.tag;if((ce===3||ce===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;F!==null;){if(T=ds(F),T===null)return;if(ce=T.tag,ce===5||ce===6||ce===26||ce===27){d=w=T;continue e}F=F.parentNode}}d=d.return}Bc(function(){var ke=w,Pe=fo(l),Fe=[];e:{var Ce=td.get(r);if(Ce!==void 0){var Te=Ga,ut=r;switch(r){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":Te=dn;break;case"focusin":ut="focus",Te=oi;break;case"focusout":ut="blur",Te=oi;break;case"beforeblur":case"afterblur":Te=oi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=ii;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Er;break;case xo:case ec:case Zu:Te=_;break;case ed:Te=Vr;break;case"scroll":case"scrollend":Te=Qo;break;case"wheel":Te=vs;break;case"copy":case"cut":case"paste":Te=re;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=dr;break;case"toggle":case"beforetoggle":Te=Jl}var Mt=(s&4)!==0,qn=!Mt&&(r==="scroll"||r==="scrollend"),be=Mt?Ce!==null?Ce+"Capture":null:Ce;Mt=[];for(var me=ke,Ae;me!==null;){var ze=me;if(Ae=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ae===null||be===null||(ze=Ma(me,be),ze!=null&&Mt.push(Ad(me,ze,Ae))),qn)break;me=me.return}0<Mt.length&&(Ce=new Te(Ce,ut,null,l,Pe),Fe.push({event:Ce,listeners:Mt}))}}if((s&7)===0){e:{if(Ce=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",Ce&&l!==ti&&(ut=l.relatedTarget||l.fromElement)&&(ds(ut)||ut[ta]))break e;if((Te||Ce)&&(Ce=Pe.window===Pe?Pe:(Ce=Pe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Te?(ut=l.relatedTarget||l.toElement,Te=ke,ut=ut?ds(ut):null,ut!==null&&(qn=o(ut),Mt=ut.tag,ut!==qn||Mt!==5&&Mt!==27&&Mt!==6)&&(ut=null)):(Te=null,ut=ke),Te!==ut)){if(Mt=Xl,ze="onMouseLeave",be="onMouseEnter",me="mouse",(r==="pointerout"||r==="pointerover")&&(Mt=dr,ze="onPointerLeave",be="onPointerEnter",me="pointer"),qn=Te==null?Ce:uo(Te),Ae=ut==null?Ce:uo(ut),Ce=new Mt(ze,me+"leave",Te,l,Pe),Ce.target=qn,Ce.relatedTarget=Ae,ze=null,ds(Pe)===ke&&(Mt=new Mt(be,me+"enter",ut,l,Pe),Mt.target=Ae,Mt.relatedTarget=qn,ze=Mt),qn=ze,Te&&ut)t:{for(Mt=rw,be=Te,me=ut,Ae=0,ze=be;ze;ze=Mt(ze))Ae++;ze=0;for(var Ct=me;Ct;Ct=Mt(Ct))ze++;for(;0<Ae-ze;)be=Mt(be),Ae--;for(;0<ze-Ae;)me=Mt(me),ze--;for(;Ae--;){if(be===me||me!==null&&be===me.alternate){Mt=be;break t}be=Mt(be),me=Mt(me)}Mt=null}else Mt=null;Te!==null&&Z1(Fe,Ce,Te,Mt,!1),ut!==null&&qn!==null&&Z1(Fe,qn,ut,Mt,!0)}}e:{if(Ce=ke?uo(ke):window,Te=Ce.nodeName&&Ce.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ce.type==="file")var _n=qi;else if(Ql(Ce))if(Na)_n=zs;else{_n=hr;var yt=rl}else Te=Ce.nodeName,!Te||Te.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?ke&&$l(ke.elementType)&&(_n=qi):_n=qc;if(_n&&(_n=_n(r,ke))){Pa(Fe,_n,l,Pe);break e}yt&&yt(r,Ce,ke),r==="focusout"&&ke&&Ce.type==="number"&&ke.memoizedProps.value!=null&&Hl(Ce,"number",Ce.value)}switch(yt=ke?uo(ke):window,r){case"focusin":(Ql(yt)||yt.contentEditable==="true")&&(Ia=yt,vi=ke,na=null);break;case"focusout":na=vi=Ia=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,bn(Fe,l,Pe);break;case"selectionchange":if(yo)break;case"keydown":case"keyup":bn(Fe,l,Pe)}var Jt;if(Ps)e:{switch(r){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else Is?Fi(r,l)&&(cn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(cn="onCompositionStart");cn&&(ui&&l.locale!=="ko"&&(Is||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&Is&&(Jt=Uc()):(Da=Pe,po="value"in Da?Da.value:Da.textContent,Is=!0)),yt=Fh(ke,cn),0<yt.length&&(cn=new ve(cn,r,null,l,Pe),Fe.push({event:cn,listeners:yt}),Jt?cn.data=Jt:(Jt=el(l),Jt!==null&&(cn.data=Jt)))),(Jt=bo?fa(r,l):di(r,l))&&(cn=Fh(ke,"onBeforeInput"),0<cn.length&&(yt=new ve("onBeforeInput","beforeinput",null,l,Pe),Fe.push({event:yt,listeners:cn}),yt.data=Jt)),Zx(Fe,r,ke,l,Pe)}J1(Fe,s)})}function Ad(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Fh(r,s){for(var l=s+"Capture",d=[];r!==null;){var g=r,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=Ma(r,l),g!=null&&d.unshift(Ad(r,g,w)),g=Ma(r,s),g!=null&&d.push(Ad(r,g,w))),r.tag===3)return d;r=r.return}return[]}function rw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Z1(r,s,l,d,g){for(var w=s._reactName,T=[];l!==null&&l!==d;){var F=l,ce=F.alternate,ke=F.stateNode;if(F=F.tag,ce!==null&&ce===d)break;F!==5&&F!==26&&F!==27||ke===null||(ce=ke,g?(ke=Ma(l,w),ke!=null&&T.unshift(Ad(l,ke,ce))):g||(ke=Ma(l,w),ke!=null&&T.push(Ad(l,ke,ce)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var aw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function e2(r){return(typeof r=="string"?r:""+r).replace(aw,`
`).replace(sw,"")}function t2(r,s){return s=e2(s),e2(r)===s}function Fn(r,s,l,d,g,w){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||ps(r,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&ps(r,""+d);break;case"className":ei(r,"class",d);break;case"tabIndex":ei(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(r,l,d);break;case"style":Dc(r,d,w);break;case"data":if(s!=="object"){ei(r,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=_a(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(s!=="input"&&Fn(r,s,"name",g.name,g,null),Fn(r,s,"formEncType",g.formEncType,g,null),Fn(r,s,"formMethod",g.formMethod,g,null),Fn(r,s,"formTarget",g.formTarget,g,null)):(Fn(r,s,"encType",g.encType,g,null),Fn(r,s,"method",g.method,g,null),Fn(r,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=_a(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=gs);break;case"onScroll":d!=null&&sn("scroll",r);break;case"onScrollEnd":d!=null&&sn("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=_a(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":sn("beforetoggle",r),sn("toggle",r),Ra(r,"popover",d);break;case"xlinkActuate":ms(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ms(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ms(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ms(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ms(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ms(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ms(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ms(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ms(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ra(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wl.get(l)||l,Ra(r,l,d))}}function ep(r,s,l,d,g,w){switch(l){case"style":Dc(r,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"children":typeof d=="string"?ps(r,d):(typeof d=="number"||typeof d=="bigint")&&ps(r,""+d);break;case"onScroll":d!=null&&sn("scroll",r);break;case"onScrollEnd":d!=null&&sn("scrollend",r);break;case"onClick":d!=null&&(r.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),w=r[Jn]||null,w=w!=null?w[l]:null,typeof w=="function"&&r.removeEventListener(s,w,g),typeof d=="function")){typeof w!="function"&&w!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,d,g);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):Ra(r,l,d)}}}function ba(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",r),sn("load",r);var d=!1,g=!1,w;for(w in l)if(l.hasOwnProperty(w)){var T=l[w];if(T!=null)switch(w){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Fn(r,s,w,T,l,null)}}g&&Fn(r,s,"srcSet",l.srcSet,l,null),d&&Fn(r,s,"src",l.src,l,null);return;case"input":sn("invalid",r);var F=w=T=g=null,ce=null,ke=null;for(d in l)if(l.hasOwnProperty(d)){var Pe=l[d];if(Pe!=null)switch(d){case"name":g=Pe;break;case"type":T=Pe;break;case"checked":ce=Pe;break;case"defaultChecked":ke=Pe;break;case"value":w=Pe;break;case"defaultValue":F=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(a(137,s));break;default:Fn(r,s,d,Pe,l,null)}}Rc(r,w,F,ce,ke,T,g,!1);return;case"select":sn("invalid",r),d=T=w=null;for(g in l)if(l.hasOwnProperty(g)&&(F=l[g],F!=null))switch(g){case"value":w=F;break;case"defaultValue":T=F;break;case"multiple":d=F;default:Fn(r,s,g,F,l,null)}s=w,l=T,r.multiple=!!d,s!=null?ha(r,!!d,s,!1):l!=null&&ha(r,!!d,l,!0);return;case"textarea":sn("invalid",r),w=g=d=null;for(T in l)if(l.hasOwnProperty(T)&&(F=l[T],F!=null))switch(T){case"value":d=F;break;case"defaultValue":g=F;break;case"children":w=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(91));break;default:Fn(r,s,T,F,l,null)}Gl(r,d,g,w);return;case"option":for(ce in l)l.hasOwnProperty(ce)&&(d=l[ce],d!=null)&&(ce==="selected"?r.selected=d&&typeof d!="function"&&typeof d!="symbol":Fn(r,s,ce,d,l,null));return;case"dialog":sn("beforetoggle",r),sn("toggle",r),sn("cancel",r),sn("close",r);break;case"iframe":case"object":sn("load",r);break;case"video":case"audio":for(d=0;d<jd.length;d++)sn(jd[d],r);break;case"image":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"embed":case"source":case"link":sn("error",r),sn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in l)if(l.hasOwnProperty(ke)&&(d=l[ke],d!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Fn(r,s,ke,d,l,null)}return;default:if($l(s)){for(Pe in l)l.hasOwnProperty(Pe)&&(d=l[Pe],d!==void 0&&ep(r,s,Pe,d,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(d=l[F],d!=null&&Fn(r,s,F,d,l,null))}function iw(r,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,T=null,F=null,ce=null,ke=null,Pe=null;for(Te in l){var Fe=l[Te];if(l.hasOwnProperty(Te)&&Fe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ce=Fe;default:d.hasOwnProperty(Te)||Fn(r,s,Te,null,d,Fe)}}for(var Ce in d){var Te=d[Ce];if(Fe=l[Ce],d.hasOwnProperty(Ce)&&(Te!=null||Fe!=null))switch(Ce){case"type":w=Te;break;case"name":g=Te;break;case"checked":ke=Te;break;case"defaultChecked":Pe=Te;break;case"value":T=Te;break;case"defaultValue":F=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,s));break;default:Te!==Fe&&Fn(r,s,Ce,Te,d,Fe)}}Ko(r,T,F,ce,ke,Pe,w,g);return;case"select":Te=T=F=Ce=null;for(w in l)if(ce=l[w],l.hasOwnProperty(w)&&ce!=null)switch(w){case"value":break;case"multiple":Te=ce;default:d.hasOwnProperty(w)||Fn(r,s,w,null,d,ce)}for(g in d)if(w=d[g],ce=l[g],d.hasOwnProperty(g)&&(w!=null||ce!=null))switch(g){case"value":Ce=w;break;case"defaultValue":F=w;break;case"multiple":T=w;default:w!==ce&&Fn(r,s,g,w,d,ce)}s=F,l=T,d=Te,Ce!=null?ha(r,!!l,Ce,!1):!!d!=!!l&&(s!=null?ha(r,!!l,s,!0):ha(r,!!l,l?[]:"",!1));return;case"textarea":Te=Ce=null;for(F in l)if(g=l[F],l.hasOwnProperty(F)&&g!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Fn(r,s,F,null,d,g)}for(T in d)if(g=d[T],w=l[T],d.hasOwnProperty(T)&&(g!=null||w!=null))switch(T){case"value":Ce=g;break;case"defaultValue":Te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==w&&Fn(r,s,T,g,d,w)}Vl(r,Ce,Te);return;case"option":for(var ut in l)Ce=l[ut],l.hasOwnProperty(ut)&&Ce!=null&&!d.hasOwnProperty(ut)&&(ut==="selected"?r.selected=!1:Fn(r,s,ut,null,d,Ce));for(ce in d)Ce=d[ce],Te=l[ce],d.hasOwnProperty(ce)&&Ce!==Te&&(Ce!=null||Te!=null)&&(ce==="selected"?r.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol":Fn(r,s,ce,Ce,d,Te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)Ce=l[Mt],l.hasOwnProperty(Mt)&&Ce!=null&&!d.hasOwnProperty(Mt)&&Fn(r,s,Mt,null,d,Ce);for(ke in d)if(Ce=d[ke],Te=l[ke],d.hasOwnProperty(ke)&&Ce!==Te&&(Ce!=null||Te!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,s));break;default:Fn(r,s,ke,Ce,d,Te)}return;default:if($l(s)){for(var qn in l)Ce=l[qn],l.hasOwnProperty(qn)&&Ce!==void 0&&!d.hasOwnProperty(qn)&&ep(r,s,qn,void 0,d,Ce);for(Pe in d)Ce=d[Pe],Te=l[Pe],!d.hasOwnProperty(Pe)||Ce===Te||Ce===void 0&&Te===void 0||ep(r,s,Pe,Ce,d,Te);return}}for(var be in l)Ce=l[be],l.hasOwnProperty(be)&&Ce!=null&&!d.hasOwnProperty(be)&&Fn(r,s,be,null,d,Ce);for(Fe in d)Ce=d[Fe],Te=l[Fe],!d.hasOwnProperty(Fe)||Ce===Te||Ce==null&&Te==null||Fn(r,s,Fe,Ce,d,Te)}function n2(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ow(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var g=l[d],w=g.transferSize,T=g.initiatorType,F=g.duration;if(w&&F&&n2(T)){for(T=0,F=g.responseEnd,d+=1;d<l.length;d++){var ce=l[d],ke=ce.startTime;if(ke>F)break;var Pe=ce.transferSize,Fe=ce.initiatorType;Pe&&n2(Fe)&&(ce=ce.responseEnd,T+=Pe*(ce<F?1:(F-ke)/(ce-ke)))}if(--d,s+=8*(w+T)/(g.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var tp=null,np=null;function qh(r){return r.nodeType===9?r:r.ownerDocument}function r2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function rp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ap=null;function lw(){var r=window.event;return r&&r.type==="popstate"?r===ap?!1:(ap=r,!0):(ap=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,i2=typeof Promise=="function"?Promise:void 0,uw=typeof queueMicrotask=="function"?queueMicrotask:typeof i2<"u"?function(r){return i2.resolve(null).then(r).catch(dw)}:s2;function dw(r){setTimeout(function(){throw r})}function Nl(r){return r==="head"}function o2(r,s){var l=s,d=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(d===0){r.removeChild(g),wu(s);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")kd(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,kd(l);for(var w=l.firstChild;w;){var T=w.nextSibling,F=w.nodeName;w[us]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=T}}else l==="body"&&kd(r.ownerDocument.body);l=g}while(l);wu(s)}function l2(r,s){var l=r;r=0;do{var d=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=d}while(l)}function sp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sp(l),Ii(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function hw(r,s,l,d){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[us])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Ws(r.nextSibling),r===null)break}return null}function fw(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ws(r.nextSibling),r===null))return null;return r}function c2(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Ws(r.nextSibling),r===null))return null;return r}function ip(r){return r.data==="$?"||r.data==="$~"}function op(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function mw(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ws(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var lp=null;function u2(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return Ws(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function d2(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function h2(r,s,l){switch(s=qh(l),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function kd(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ii(r)}var Ys=new Map,f2=new Set;function Hh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Io=le.d;le.d={f:pw,r:gw,D:vw,C:bw,L:yw,m:xw,X:_w,S:ww,M:Nw};function pw(){var r=Io.f(),s=Mh();return r||s}function gw(r){var s=hs(r);s!==null&&s.tag===5&&s.type==="form"?Tg(s):Io.r(r)}var bu=typeof document>"u"?null:document;function m2(r,s,l){var d=bu;if(d&&typeof s=="string"&&s){var g=vr(s);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),f2.has(g)||(f2.add(g),r={rel:r,crossOrigin:l,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),ba(s,"link",r),ur(s),d.head.appendChild(s)))}}function vw(r){Io.D(r),m2("dns-prefetch",r,null)}function bw(r,s){Io.C(r,s),m2("preconnect",r,s)}function yw(r,s,l){Io.L(r,s,l);var d=bu;if(d&&r&&s){var g='link[rel="preload"][as="'+vr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+vr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+vr(l.imageSizes)+'"]')):g+='[href="'+vr(r)+'"]';var w=g;switch(s){case"style":w=yu(r);break;case"script":w=xu(r)}Ys.has(w)||(r=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Ys.set(w,r),d.querySelector(g)!==null||s==="style"&&d.querySelector(Cd(w))||s==="script"&&d.querySelector(Ed(w))||(s=d.createElement("link"),ba(s,"link",r),ur(s),d.head.appendChild(s)))}}function xw(r,s){Io.m(r,s);var l=bu;if(l&&r){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+vr(d)+'"][href="'+vr(r)+'"]',w=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=xu(r)}if(!Ys.has(w)&&(r=x({rel:"modulepreload",href:r},s),Ys.set(w,r),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ed(w)))return}d=l.createElement("link"),ba(d,"link",r),ur(d),l.head.appendChild(d)}}}function ww(r,s,l){Io.S(r,s,l);var d=bu;if(d&&r){var g=Ls(d).hoistableStyles,w=yu(r);s=s||"default";var T=g.get(w);if(!T){var F={loading:0,preload:null};if(T=d.querySelector(Cd(w)))F.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Ys.get(w))&&cp(r,l);var ce=T=d.createElement("link");ur(ce),ba(ce,"link",r),ce._p=new Promise(function(ke,Pe){ce.onload=ke,ce.onerror=Pe}),ce.addEventListener("load",function(){F.loading|=1}),ce.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Vh(T,s,d)}T={type:"stylesheet",instance:T,count:1,state:F},g.set(w,T)}}}function _w(r,s){Io.X(r,s);var l=bu;if(l&&r){var d=Ls(l).hoistableScripts,g=xu(r),w=d.get(g);w||(w=l.querySelector(Ed(g)),w||(r=x({src:r,async:!0},s),(s=Ys.get(g))&&up(r,s),w=l.createElement("script"),ur(w),ba(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(g,w))}}function Nw(r,s){Io.M(r,s);var l=bu;if(l&&r){var d=Ls(l).hoistableScripts,g=xu(r),w=d.get(g);w||(w=l.querySelector(Ed(g)),w||(r=x({src:r,async:!0,type:"module"},s),(s=Ys.get(g))&&up(r,s),w=l.createElement("script"),ur(w),ba(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(g,w))}}function p2(r,s,l,d){var g=(g=oe.current)?Hh(g):null;if(!g)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=yu(l.href),l=Ls(g).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=yu(l.href);var w=Ls(g).hoistableStyles,T=w.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,T),(w=g.querySelector(Cd(r)))&&!w._p&&(T.instance=w,T.state.loading=5),Ys.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ys.set(r,l),w||Sw(g,r,l,T.state))),s&&d===null)throw Error(a(528,""));return T}if(s&&d!==null)throw Error(a(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xu(l),l=Ls(g).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function yu(r){return'href="'+vr(r)+'"'}function Cd(r){return'link[rel="stylesheet"]['+r+"]"}function g2(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function Sw(r,s,l,d){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=r.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),ba(s,"link",l),ur(s),r.head.appendChild(s))}function xu(r){return'[src="'+vr(r)+'"]'}function Ed(r){return"script[async]"+r}function v2(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=r.querySelector('style[data-href~="'+vr(l.href)+'"]');if(d)return s.instance=d,ur(d),d;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),ur(d),ba(d,"style",g),Vh(d,l.precedence,r),s.instance=d;case"stylesheet":g=yu(l.href);var w=r.querySelector(Cd(g));if(w)return s.state.loading|=4,s.instance=w,ur(w),w;d=g2(l),(g=Ys.get(g))&&cp(d,g),w=(r.ownerDocument||r).createElement("link"),ur(w);var T=w;return T._p=new Promise(function(F,ce){T.onload=F,T.onerror=ce}),ba(w,"link",d),s.state.loading|=4,Vh(w,l.precedence,r),s.instance=w;case"script":return w=xu(l.src),(g=r.querySelector(Ed(w)))?(s.instance=g,ur(g),g):(d=l,(g=Ys.get(w))&&(d=x({},l),up(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),ur(g),ba(g,"link",d),r.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Vh(d,l.precedence,r));return s.instance}function Vh(r,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,w=g,T=0;T<d.length;T++){var F=d[T];if(F.dataset.precedence===s)w=F;else if(w!==g)break}w?w.parentNode.insertBefore(r,w.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function cp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function up(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Gh=null;function b2(r,s,l){if(Gh===null){var d=new Map,g=Gh=new Map;g.set(l,d)}else g=Gh,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var w=l[g];if(!(w[us]||w[On]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var T=w.getAttribute(s)||"";T=r+T;var F=d.get(T);F?F.push(w):d.set(T,[w])}}return d}function y2(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function jw(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function x2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Aw(r,s,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=yu(d.href),w=s.querySelector(Cd(g));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=$h.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=w,ur(w);return}w=s.ownerDocument||s,d=g2(d),(g=Ys.get(g))&&cp(d,g),w=w.createElement("link"),ur(w);var T=w;T._p=new Promise(function(F,ce){T.onload=F,T.onerror=ce}),ba(w,"link",d),l.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=$h.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var dp=0;function kw(r,s){return r.stylesheets&&r.count===0&&Yh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var d=setTimeout(function(){if(r.stylesheets&&Yh(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+s);0<r.imgBytes&&dp===0&&(dp=62500*ow());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Yh(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>dp?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function $h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wh=null;function Yh(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wh=new Map,s.forEach(Cw,r),Wh=null,$h.call(r))}function Cw(r,s){if(!(s.state.loading&4)){var l=Wh.get(r);if(l)var d=l.get(null);else{l=new Map,Wh.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var T=g[w];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),d=T)}d&&l.set(null,d)}g=s.instance,T=g.getAttribute("data-precedence"),w=l.get(T)||d,w===d&&l.set(null,g),l.set(T,g),this.count++,d=$h.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),w?w.parentNode.insertBefore(g,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),s.state.loading|=4}}var Td={$$typeof:P,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Ew(r,s,l,d,g,w,T,F,ce){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function w2(r,s,l,d,g,w,T,F,ce,ke,Pe,Fe){return r=new Ew(r,s,l,T,ce,ke,Pe,Fe,F),s=1,w===!0&&(s|=24),w=aa(3,null,null,s),r.current=w,w.stateNode=r,s=dl(),s.refCount++,r.pooledCache=s,s.refCount++,w.memoizedState={element:d,isDehydrated:l,cache:s},Xe(w),r}function _2(r){return r?(r=$r,r):$r}function N2(r,s,l,d,g,w){g=_2(g),d.context===null?d.context=g:d.pendingContext=g,d=Ot(s),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=Yt(r,d,s),l!==null&&(is(l,r,s),jn(l,r,s))}function S2(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function hp(r,s){S2(r,s),(r=r.alternate)&&S2(r,s)}function j2(r){if(r.tag===13||r.tag===31){var s=bi(r,67108864);s!==null&&is(s,r,67108864),hp(r,67108864)}}function A2(r){if(r.tag===13||r.tag===31){var s=js();s=Tn(s);var l=bi(r,s);l!==null&&is(l,r,s),hp(r,s)}}var Kh=!0;function Tw(r,s,l,d){var g=X.T;X.T=null;var w=le.p;try{le.p=2,fp(r,s,l,d)}finally{le.p=w,X.T=g}}function Ow(r,s,l,d){var g=X.T;X.T=null;var w=le.p;try{le.p=8,fp(r,s,l,d)}finally{le.p=w,X.T=g}}function fp(r,s,l,d){if(Kh){var g=mp(d);if(g===null)Zm(r,s,d,Xh,l),C2(r,d);else if(Rw(g,r,s,l,d))d.stopPropagation();else if(C2(r,d),s&4&&-1<Lw.indexOf(r)){for(;g!==null;){var w=hs(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var T=vt(w.pendingLanes);if(T!==0){var F=w;for(F.pendingLanes|=2,F.entangledLanes|=2;T;){var ce=1<<31-Xt(T);F.entanglements[1]|=ce,T&=~ce}to(w),(kn&6)===0&&(Lh=Ft()+500,Sd(0))}}break;case 31:case 13:F=bi(w,2),F!==null&&is(F,w,2),Mh(),hp(w,2)}if(w=mp(d),w===null&&Zm(r,s,d,Xh,l),w===g)break;g=w}g!==null&&d.stopPropagation()}else Zm(r,s,d,null,l)}}function mp(r){return r=fo(r),pp(r)}var Xh=null;function pp(r){if(Xh=null,r=ds(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=h(s),r!==null)return r;r=null}else if(l===31){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Xh=r,null}function k2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Lt:return 2;case Zt:return 8;case Ht:case lt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var gp=!1,Sl=null,jl=null,Al=null,Od=new Map,Ld=new Map,kl=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C2(r,s){switch(r){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":Od.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(s.pointerId)}}function Rd(r,s,l,d,g,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[g]},s!==null&&(s=hs(s),s!==null&&j2(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function Rw(r,s,l,d,g){switch(s){case"focusin":return Sl=Rd(Sl,r,s,l,d,g),!0;case"dragenter":return jl=Rd(jl,r,s,l,d,g),!0;case"mouseover":return Al=Rd(Al,r,s,l,d,g),!0;case"pointerover":var w=g.pointerId;return Od.set(w,Rd(Od.get(w)||null,r,s,l,d,g)),!0;case"gotpointercapture":return w=g.pointerId,Ld.set(w,Rd(Ld.get(w)||null,r,s,l,d,g)),!0}return!1}function E2(r){var s=ds(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){r.blockedOn=s,Pi(r.priority,function(){A2(l)});return}}else if(s===31){if(s=u(l),s!==null){r.blockedOn=s,Pi(r.priority,function(){A2(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=mp(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ti=d,l.target.dispatchEvent(d),ti=null}else return s=hs(l),s!==null&&j2(s),r.blockedOn=l,!1;s.shift()}return!0}function T2(r,s,l){Jh(r)&&l.delete(s)}function Mw(){gp=!1,Sl!==null&&Jh(Sl)&&(Sl=null),jl!==null&&Jh(jl)&&(jl=null),Al!==null&&Jh(Al)&&(Al=null),Od.forEach(T2),Ld.forEach(T2)}function Qh(r,s){r.blockedOn===s&&(r.blockedOn=null,gp||(gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mw)))}var Zh=null;function O2(r){Zh!==r&&(Zh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zh===r&&(Zh=null);for(var s=0;s<r.length;s+=3){var l=r[s],d=r[s+1],g=r[s+2];if(typeof d!="function"){if(pp(d||l)===null)continue;break}var w=hs(l);w!==null&&(r.splice(s,3),s-=3,mm(w,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function wu(r){function s(ce){return Qh(ce,r)}Sl!==null&&Qh(Sl,r),jl!==null&&Qh(jl,r),Al!==null&&Qh(Al,r),Od.forEach(s),Ld.forEach(s);for(var l=0;l<kl.length;l++){var d=kl[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<kl.length&&(l=kl[0],l.blockedOn===null);)E2(l),l.blockedOn===null&&kl.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],w=l[d+1],T=g[Jn]||null;if(typeof w=="function")T||O2(l);else if(T){var F=null;if(w&&w.hasAttribute("formAction")){if(g=w,T=w[Jn]||null)F=T.formAction;else if(pp(g)!==null)continue}else F=T.action;typeof F=="function"?l[d+1]=F:(l.splice(d,3),d-=3),O2(l)}}}function L2(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(T){return g=T})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function vp(r){this._internalRoot=r}ef.prototype.render=vp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var l=s.current,d=js();N2(l,d,r,s,null,null)},ef.prototype.unmount=vp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;N2(r.current,2,null,r,null,null),Mh(),s[ta]=null}};function ef(r){this._internalRoot=r}ef.prototype.unstable_scheduleHydration=function(r){if(r){var s=kr();r={blockedOn:null,target:r,priority:s};for(var l=0;l<kl.length&&s!==0&&s<kl[l].priority;l++);kl.splice(l,0,r),l===0&&E2(r)}};var R2=e.version;if(R2!=="19.2.3")throw Error(a(527,R2,"19.2.3"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=m(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var Dw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Kt=tf.inject(Dw),At=tf}catch{}}return Dd.createRoot=function(r,s){if(!i(r))throw Error(a(299));var l=!1,d="",g=zg,w=Fg,T=qg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=w2(r,1,!1,null,null,l,d,null,g,w,T,L2),r[ta]=s.current,Qm(r),new vp(s)},Dd.hydrateRoot=function(r,s,l){if(!i(r))throw Error(a(299));var d=!1,g="",w=zg,T=Fg,F=qg,ce=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.formState!==void 0&&(ce=l.formState)),s=w2(r,1,!0,s,l??null,d,g,ce,w,T,F,L2),s.context=_2(null),l=s.current,d=js(),d=Tn(d),g=Ot(d),g.callback=null,Yt(l,g,d),l=d,s.current.lanes=l,et(s,l),to(s),r[ta]=s.current,Qm(r),new ef(s)},Dd.version="19.2.3",Dd}var H2;function Vw(){if(H2)return xp.exports;H2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=Hw(),xp.exports}var Gw=Vw(),Xf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$w={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ww=class{#e=$w;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},p0=new Ww;function Yw(t){setTimeout(t,0)}var Jf=typeof window>"u"||"Deno"in globalThis;function Ci(){}function Kw(t,e){return typeof t=="function"?t(e):t}function Xw(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function g0(t,e){return typeof t=="function"?t(e):t}function Qw(t,e){return typeof t=="function"?t(e):t}function V2(t,e){const{type:n="all",exact:a,fetchStatus:i,predicate:o,queryKey:h,stale:u}=t;if(h){if(a){if(e.queryHash!==X0(h,e.options))return!1}else if(!Xd(e.queryKey,h))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||o&&!o(e))}function G2(t,e){const{exact:n,status:a,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Kd(e.options.mutationKey)!==Kd(o))return!1}else if(!Xd(e.options.mutationKey,o))return!1}return!(a&&e.state.status!==a||i&&!i(e))}function X0(t,e){return(e?.queryKeyHashFn||Kd)(t)}function Kd(t){return JSON.stringify(t,(e,n)=>v0(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function Xd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xd(t[n],e[n])):!1}var Zw=Object.prototype.hasOwnProperty;function wy(t,e,n=0){if(t===e)return t;if(n>500)return e;const a=$2(t)&&$2(e);if(!a&&!(v0(t)&&v0(e)))return e;const o=(a?t:Object.keys(t)).length,h=a?e:Object.keys(e),u=h.length,f=a?new Array(u):{};let m=0;for(let v=0;v<u;v++){const x=a?v:h[v],N=t[x],y=e[x];if(N===y){f[x]=N,(a?v<o:Zw.call(t,x))&&m++;continue}if(N===null||y===null||typeof N!="object"||typeof y!="object"){f[x]=y;continue}const E=wy(N,y,n+1);f[x]=E,E===N&&m++}return o===u&&m===o?t:f}function $2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function v0(t){if(!W2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!W2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function W2(t){return Object.prototype.toString.call(t)==="[object Object]"}function e4(t){return new Promise(e=>{p0.setTimeout(e,t)})}function t4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wy(t,e):e}function n4(t,e,n=0){const a=[...t,e];return n&&a.length>n?a.slice(1):a}function r4(t,e,n=0){const a=[e,...t];return n&&a.length>n?a.slice(0,-1):a}var J0=Symbol();function _y(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===J0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function a4(t,e,n){let a=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),a||(a=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var s4=class extends Xf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Jf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ny=new s4;function i4(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},n.reject=i=>{a({status:"rejected",reason:i}),e(i)},n}var o4=Yw;function l4(){let t=[],e=0,n=u=>{u()},a=u=>{u()},i=o4;const o=u=>{e?t.push(u):i(()=>{n(u)})},h=()=>{const u=t;t=[],u.length&&i(()=>{a(()=>{u.forEach(f=>{n(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||h()}return f},batchCalls:u=>(...f)=>{o(()=>{u(...f)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{i=u}}}var za=l4(),c4=class extends Xf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Jf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Rf=new c4;function u4(t){return Math.min(1e3*2**t,3e4)}function Sy(t){return(t??"online")==="online"?Rf.isOnline():!0}var b0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function jy(t){let e=!1,n=0,a;const i=i4(),o=()=>i.status!=="pending",h=j=>{if(!o()){const A=new b0(j);N(A),t.onCancel?.(A)}},u=()=>{e=!0},f=()=>{e=!1},m=()=>Ny.isFocused()&&(t.networkMode==="always"||Rf.isOnline())&&t.canRun(),v=()=>Sy(t.networkMode)&&t.canRun(),x=j=>{o()||(a?.(),i.resolve(j))},N=j=>{o()||(a?.(),i.reject(j))},y=()=>new Promise(j=>{a=A=>{(o()||m())&&j(A)},t.onPause?.()}).then(()=>{a=void 0,o()||t.onContinue?.()}),E=()=>{if(o())return;let j;const A=n===0?t.initialPromise:void 0;try{j=A??t.fn()}catch(k){j=Promise.reject(k)}Promise.resolve(j).then(x).catch(k=>{if(o())return;const I=t.retry??(Jf?0:3),P=t.retryDelay??u4,M=typeof P=="function"?P(n,k):P,ae=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,k);if(e||!ae){N(k);return}n++,t.onFail?.(n,k),e4(M).then(()=>m()?void 0:y()).then(()=>{e?N(k):E()})})};return{promise:i,status:()=>i.status,cancel:h,continue:()=>(a?.(),i),cancelRetry:u,continueRetry:f,canStart:v,start:()=>(v()?E():y().then(E),i)}}var Ay=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xw(this.gcTime)&&(this.#e=p0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(p0.clearTimeout(this.#e),this.#e=void 0)}},d4=class extends Ay{#e;#t;#n;#a;#r;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=K2(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=K2(this.options);e.data!==void 0&&(this.setState(Y2(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=t4(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Ci).catch(Ci):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Qw(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>g0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Jw(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const u=_y(this.options,e),m=(()=>{const v={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(v),v})();return this.#o=!1,this.options.persister?this.options.persister(u,m,this):u(m)},h=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};return a(u),u})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#s({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=jy({initialPromise:e?.initialPromise,fn:h.fetchFn,onCancel:u=>{u instanceof b0&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof b0){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...h4(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Y2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?a:void 0,a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),za.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function h4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Y2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function K2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function X2(t){return{onFetch:(e,n)=>{const a=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],h=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},f=0;const m=async()=>{let v=!1;const x=E=>{a4(E,()=>e.signal,()=>v=!0)},N=_y(e.options,e.fetchOptions),y=async(E,j,A)=>{if(v)return Promise.reject();if(j==null&&E.pages.length)return Promise.resolve(E);const I=(()=>{const ee={client:e.client,queryKey:e.queryKey,pageParam:j,direction:A?"backward":"forward",meta:e.options.meta};return x(ee),ee})(),P=await N(I),{maxPages:M}=e.options,ae=A?r4:n4;return{pages:ae(E.pages,P,M),pageParams:ae(E.pageParams,j,M)}};if(i&&o.length){const E=i==="backward",j=E?f4:J2,A={pages:o,pageParams:h},k=j(a,A);u=await y(A,k,E)}else{const E=t??o.length;do{const j=f===0?h[0]??a.initialPageParam:J2(a,u);if(f>0&&j==null)break;u=await y(u,j),f++}while(f<E)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function J2(t,{pages:e,pageParams:n}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,n[a],n):void 0}function f4(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var m4=class extends Ay{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||p4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=jy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,h)=>{this.#r({type:"failed",failureCount:o,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",i=!this.#a.canStart();try{if(a)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const h=await this.options.onMutate?.(t,n);h!==this.state.context&&this.#r({type:"pending",context:h,variables:t,isPaused:i})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,t,this.state.context,this,n),await this.options.onSuccess?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,t,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,t,this.state.context,this,n)}catch(h){Promise.reject(h)}try{await this.options.onError?.(o,t,this.state.context,n)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,o,t,this.state.context,n)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),za.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function p4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var g4=class extends Xf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const a=new m4({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(a),a}add(t){this.#e.add(t);const e=nf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nf(t);if(typeof e=="string"){const a=this.#t.get(e)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const e=nf(t);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){za.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>G2(e,n))}findAll(t={}){return this.getAll().filter(e=>G2(t,e))}notify(t){za.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return za.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ci))))}};function nf(t){return t.options.scope?.id}var v4=class extends Xf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const a=e.queryKey,i=e.queryHash??X0(a,e);let o=this.get(i);return o||(o=new d4({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){za.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>V2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>V2(t,n)):e}notify(t){za.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){za.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){za.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},b4=class{#e;#t;#n;#a;#r;#i;#o;#s;constructor(t={}){this.#e=t.queryCache||new v4,this.#t=t.mutationCache||new g4,this.#n=t.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Ny.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Rf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(g0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const a=n.data;return[e,a]})}setQueryData(t,e,n){const a=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(a.queryHash)?.state.data,h=Kw(e,o);if(h!==void 0)return this.#e.build(this,a).setData(h,{...n,manual:!0})}setQueriesData(t,e,n){return za.batch(()=>this.#e.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;za.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return za.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},a=za.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(a).then(Ci).catch(Ci)}invalidateQueries(t,e={}){return za.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},a=za.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ci)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(Ci)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(g0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ci).catch(Ci)}fetchInfiniteQuery(t){return t.behavior=X2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ci).catch(Ci)}ensureInfiniteQueryData(t){return t.behavior=X2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#a.set(Kd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(a=>{Xd(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Kd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(a=>{Xd(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=X0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===J0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},y4=Ee.createContext(void 0),x4=({client:t,children:e})=>(Ee.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(y4.Provider,{value:t,children:e})),w4=xy();const _4=yy(w4);function N4(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const S4=t=>{switch(t){case"success":return k4;case"info":return E4;case"warning":return C4;case"error":return T4;default:return null}},j4=Array(12).fill(0),A4=({visible:t,className:e})=>We.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},We.createElement("div",{className:"sonner-spinner"},j4.map((n,a)=>We.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),k4=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C4=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E4=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),T4=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O4=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},We.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),We.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L4=()=>{const[t,e]=We.useState(document.hidden);return We.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let y0=1;class R4{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:a,...i}=e,o=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:y0++,h=this.toasts.find(f=>f.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),h?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:a}),{...f,...e,id:o,dismissible:u,title:a}):f):this.addToast({title:a,...i,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=a!==void 0,h;const u=i.then(async m=>{if(h=["resolve",m],We.isValidElement(m))o=!1,this.create({id:a,type:"default",message:m});else if(D4(m)&&!m.ok){o=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,N=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,E=typeof x=="object"&&!We.isValidElement(x)?x:{message:x};this.create({id:a,type:"error",description:N,...E})}else if(m instanceof Error){o=!1;const x=typeof n.error=="function"?await n.error(m):n.error,N=typeof n.description=="function"?await n.description(m):n.description,E=typeof x=="object"&&!We.isValidElement(x)?x:{message:x};this.create({id:a,type:"error",description:N,...E})}else if(n.success!==void 0){o=!1;const x=typeof n.success=="function"?await n.success(m):n.success,N=typeof n.description=="function"?await n.description(m):n.description,E=typeof x=="object"&&!We.isValidElement(x)?x:{message:x};this.create({id:a,type:"success",description:N,...E})}}).catch(async m=>{if(h=["reject",m],n.error!==void 0){o=!1;const v=typeof n.error=="function"?await n.error(m):n.error,x=typeof n.description=="function"?await n.description(m):n.description,y=typeof v=="object"&&!We.isValidElement(v)?v:{message:v};this.create({id:a,type:"error",description:x,...y})}}).finally(()=>{o&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,v)=>u.then(()=>h[0]==="reject"?v(h[1]):m(h[1])).catch(v));return typeof a!="string"&&typeof a!="number"?{unwrap:f}:Object.assign(a,{unwrap:f})},this.custom=(e,n)=>{const a=n?.id||y0++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const os=new R4,M4=(t,e)=>{const n=e?.id||y0++;return os.addToast({title:t,...e,id:n}),n},D4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",P4=M4,I4=()=>os.toasts,B4=()=>os.getActiveToasts(),xt=Object.assign(P4,{success:os.success,info:os.info,warning:os.warning,error:os.error,custom:os.custom,message:os.message,promise:os.promise,dismiss:os.dismiss,loading:os.loading},{getHistory:I4,getToasts:B4});N4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rf(t){return t.label!==void 0}const U4=3,z4="24px",F4="16px",Q2=4e3,q4=356,H4=14,V4=45,G4=200;function no(...t){return t.filter(Boolean).join(" ")}function $4(t){const[e,n]=t.split("-"),a=[];return e&&a.push(e),n&&a.push(n),a}const W4=t=>{var e,n,a,i,o,h,u,f,m;const{invert:v,toast:x,unstyled:N,interacting:y,setHeights:E,visibleToasts:j,heights:A,index:k,toasts:I,expanded:P,removeToast:M,defaultRichColors:ae,closeButton:ee,style:J,cancelButtonStyle:W,actionButtonStyle:Y,className:he="",descriptionClassName:D="",duration:q,position:Q,gap:ie,expandByDefault:ye,classNames:X,icons:le,closeButtonAriaLabel:se="Close toast"}=t,[_e,Le]=We.useState(null),[G,O]=We.useState(null),[B,H]=We.useState(!1),[ne,oe]=We.useState(!1),[ue,ge]=We.useState(!1),[we,Oe]=We.useState(!1),[He,$e]=We.useState(!1),[Je,rt]=We.useState(0),[K,Ke]=We.useState(0),Se=We.useRef(x.duration||q||Q2),Ye=We.useRef(null),Re=We.useRef(null),at=k===0,Ze=k+1<=j,st=x.type,pt=x.dismissible!==!1,Ft=x.className||"",Qt=x.descriptionClassName||"",Lt=We.useMemo(()=>A.findIndex(Qe=>Qe.toastId===x.id)||0,[A,x.id]),Zt=We.useMemo(()=>{var Qe;return(Qe=x.closeButton)!=null?Qe:ee},[x.closeButton,ee]),Ht=We.useMemo(()=>x.duration||q||Q2,[x.duration,q]),lt=We.useRef(0),Et=We.useRef(0),gt=We.useRef(0),Cn=We.useRef(null),[Kt,At]=Q.split("-"),Rt=We.useMemo(()=>A.reduce((Qe,wn,un)=>un>=Lt?Qe:Qe+wn.height,0),[A,Lt]),Xt=L4(),St=x.invert||v,xn=st==="loading";Et.current=We.useMemo(()=>Lt*ie+Rt,[Lt,Rt]),We.useEffect(()=>{Se.current=Ht},[Ht]),We.useEffect(()=>{H(!0)},[]),We.useEffect(()=>{const Qe=Re.current;if(Qe){const wn=Qe.getBoundingClientRect().height;return Ke(wn),E(un=>[{toastId:x.id,height:wn,position:x.position},...un]),()=>E(un=>un.filter(Kn=>Kn.toastId!==x.id))}},[E,x.id]),We.useLayoutEffect(()=>{if(!B)return;const Qe=Re.current,wn=Qe.style.height;Qe.style.height="auto";const un=Qe.getBoundingClientRect().height;Qe.style.height=wn,Ke(un),E(Kn=>Kn.find(et=>et.toastId===x.id)?Kn.map(et=>et.toastId===x.id?{...et,height:un}:et):[{toastId:x.id,height:un,position:x.position},...Kn])},[B,x.title,x.description,E,x.id,x.jsx,x.action,x.cancel]);const wt=We.useCallback(()=>{oe(!0),rt(Et.current),E(Qe=>Qe.filter(wn=>wn.toastId!==x.id)),setTimeout(()=>{M(x)},G4)},[x,M,E,Et]);We.useEffect(()=>{if(x.promise&&st==="loading"||x.duration===1/0||x.type==="loading")return;let Qe;return P||y||Xt?(()=>{if(gt.current<lt.current){const Kn=new Date().getTime()-lt.current;Se.current=Se.current-Kn}gt.current=new Date().getTime()})():Se.current!==1/0&&(lt.current=new Date().getTime(),Qe=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),wt()},Se.current)),()=>clearTimeout(Qe)},[P,y,x,st,Xt,wt]),We.useEffect(()=>{x.delete&&(wt(),x.onDismiss==null||x.onDismiss.call(x,x))},[wt,x.delete]);function Dt(){var Qe;if(le?.loading){var wn;return We.createElement("div",{className:no(X?.loader,x==null||(wn=x.classNames)==null?void 0:wn.loader,"sonner-loader"),"data-visible":st==="loading"},le.loading)}return We.createElement(A4,{className:no(X?.loader,x==null||(Qe=x.classNames)==null?void 0:Qe.loader),visible:st==="loading"})}const Sn=x.icon||le?.[st]||S4(st);var qt,vt;return We.createElement("li",{tabIndex:0,ref:Re,className:no(he,Ft,X?.toast,x==null||(e=x.classNames)==null?void 0:e.toast,X?.default,X?.[st],x==null||(n=x.classNames)==null?void 0:n[st]),"data-sonner-toast":"","data-rich-colors":(qt=x.richColors)!=null?qt:ae,"data-styled":!(x.jsx||x.unstyled||N),"data-mounted":B,"data-promise":!!x.promise,"data-swiped":He,"data-removed":ne,"data-visible":Ze,"data-y-position":Kt,"data-x-position":At,"data-index":k,"data-front":at,"data-swiping":ue,"data-dismissible":pt,"data-type":st,"data-invert":St,"data-swipe-out":we,"data-swipe-direction":G,"data-expanded":!!(P||ye&&B),"data-testid":x.testId,style:{"--index":k,"--toasts-before":k,"--z-index":I.length-k,"--offset":`${ne?Je:Et.current}px`,"--initial-height":ye?"auto":`${K}px`,...J,...x.style},onDragEnd:()=>{ge(!1),Le(null),Cn.current=null},onPointerDown:Qe=>{Qe.button!==2&&(xn||!pt||(Ye.current=new Date,rt(Et.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(ge(!0),Cn.current={x:Qe.clientX,y:Qe.clientY})))},onPointerUp:()=>{var Qe,wn,un;if(we||!pt)return;Cn.current=null;const Kn=Number(((Qe=Re.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qr=Number(((wn=Re.current)==null?void 0:wn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((un=Ye.current)==null?void 0:un.getTime()),ar=_e==="x"?Kn:qr,ca=Math.abs(ar)/et;if(Math.abs(ar)>=V4||ca>.11){rt(Et.current),x.onDismiss==null||x.onDismiss.call(x,x),O(_e==="x"?Kn>0?"right":"left":qr>0?"down":"up"),wt(),Oe(!0);return}else{var Hn,Vn;(Hn=Re.current)==null||Hn.style.setProperty("--swipe-amount-x","0px"),(Vn=Re.current)==null||Vn.style.setProperty("--swipe-amount-y","0px")}$e(!1),ge(!1),Le(null)},onPointerMove:Qe=>{var wn,un,Kn;if(!Cn.current||!pt||((wn=window.getSelection())==null?void 0:wn.toString().length)>0)return;const et=Qe.clientY-Cn.current.y,ar=Qe.clientX-Cn.current.x;var ca;const Hn=(ca=t.swipeDirections)!=null?ca:$4(Q);!_e&&(Math.abs(ar)>1||Math.abs(et)>1)&&Le(Math.abs(ar)>Math.abs(et)?"x":"y");let Vn={x:0,y:0};const Tn=En=>1/(1.5+Math.abs(En)/20);if(_e==="y"){if(Hn.includes("top")||Hn.includes("bottom"))if(Hn.includes("top")&&et<0||Hn.includes("bottom")&&et>0)Vn.y=et;else{const En=et*Tn(et);Vn.y=Math.abs(En)<Math.abs(et)?En:et}}else if(_e==="x"&&(Hn.includes("left")||Hn.includes("right")))if(Hn.includes("left")&&ar<0||Hn.includes("right")&&ar>0)Vn.x=ar;else{const En=ar*Tn(ar);Vn.x=Math.abs(En)<Math.abs(ar)?En:ar}(Math.abs(Vn.x)>0||Math.abs(Vn.y)>0)&&$e(!0),(un=Re.current)==null||un.style.setProperty("--swipe-amount-x",`${Vn.x}px`),(Kn=Re.current)==null||Kn.style.setProperty("--swipe-amount-y",`${Vn.y}px`)}},Zt&&!x.jsx&&st!=="loading"?We.createElement("button",{"aria-label":se,"data-disabled":xn,"data-close-button":!0,onClick:xn||!pt?()=>{}:()=>{wt(),x.onDismiss==null||x.onDismiss.call(x,x)},className:no(X?.closeButton,x==null||(a=x.classNames)==null?void 0:a.closeButton)},(vt=le?.close)!=null?vt:O4):null,(st||x.icon||x.promise)&&x.icon!==null&&(le?.[st]!==null||x.icon)?We.createElement("div",{"data-icon":"",className:no(X?.icon,x==null||(i=x.classNames)==null?void 0:i.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Dt():null,x.type!=="loading"?Sn:null):null,We.createElement("div",{"data-content":"",className:no(X?.content,x==null||(o=x.classNames)==null?void 0:o.content)},We.createElement("div",{"data-title":"",className:no(X?.title,x==null||(h=x.classNames)==null?void 0:h.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?We.createElement("div",{"data-description":"",className:no(D,Qt,X?.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),We.isValidElement(x.cancel)?x.cancel:x.cancel&&rf(x.cancel)?We.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||W,onClick:Qe=>{rf(x.cancel)&&pt&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Qe),wt())},className:no(X?.cancelButton,x==null||(f=x.classNames)==null?void 0:f.cancelButton)},x.cancel.label):null,We.isValidElement(x.action)?x.action:x.action&&rf(x.action)?We.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||Y,onClick:Qe=>{rf(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Qe),!Qe.defaultPrevented&&wt())},className:no(X?.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function Z2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Y4(t,e){const n={};return[t,e].forEach((a,i)=>{const o=i===1,h=o?"--mobile-offset":"--offset",u=o?F4:z4;function f(m){["top","right","bottom","left"].forEach(v=>{n[`${h}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof a=="number"||typeof a=="string"?f(a):typeof a=="object"?["top","right","bottom","left"].forEach(m=>{a[m]===void 0?n[`${h}-${m}`]=u:n[`${h}-${m}`]=typeof a[m]=="number"?`${a[m]}px`:a[m]}):f(u)}),n}const af=We.forwardRef(function(e,n){const{id:a,invert:i,position:o="bottom-right",hotkey:h=["altKey","KeyT"],expand:u,closeButton:f,className:m,offset:v,mobileOffset:x,theme:N="light",richColors:y,duration:E,style:j,visibleToasts:A=U4,toastOptions:k,dir:I=Z2(),gap:P=H4,icons:M,containerAriaLabel:ae="Notifications"}=e,[ee,J]=We.useState([]),W=We.useMemo(()=>a?ee.filter(B=>B.toasterId===a):ee.filter(B=>!B.toasterId),[ee,a]),Y=We.useMemo(()=>Array.from(new Set([o].concat(W.filter(B=>B.position).map(B=>B.position)))),[W,o]),[he,D]=We.useState([]),[q,Q]=We.useState(!1),[ie,ye]=We.useState(!1),[X,le]=We.useState(N!=="system"?N:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=We.useRef(null),_e=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),Le=We.useRef(null),G=We.useRef(!1),O=We.useCallback(B=>{J(H=>{var ne;return(ne=H.find(oe=>oe.id===B.id))!=null&&ne.delete||os.dismiss(B.id),H.filter(({id:oe})=>oe!==B.id)})},[]);return We.useEffect(()=>os.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{J(H=>H.map(ne=>ne.id===B.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{_4.flushSync(()=>{J(H=>{const ne=H.findIndex(oe=>oe.id===B.id);return ne!==-1?[...H.slice(0,ne),{...H[ne],...B},...H.slice(ne+1)]:[B,...H]})})})}),[ee]),We.useEffect(()=>{if(N!=="system"){le(N);return}if(N==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:H})=>{le(H?"dark":"light")})}catch{B.addListener(({matches:ne})=>{try{le(ne?"dark":"light")}catch(oe){console.error(oe)}})}},[N]),We.useEffect(()=>{ee.length<=1&&Q(!1)},[ee]),We.useEffect(()=>{const B=H=>{var ne;if(h.every(ge=>H[ge]||H.code===ge)){var ue;Q(!0),(ue=se.current)==null||ue.focus()}H.code==="Escape"&&(document.activeElement===se.current||(ne=se.current)!=null&&ne.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[h]),We.useEffect(()=>{if(se.current)return()=>{Le.current&&(Le.current.focus({preventScroll:!0}),Le.current=null,G.current=!1)}},[se.current]),We.createElement("section",{ref:n,"aria-label":`${ae} ${_e}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((B,H)=>{var ne;const[oe,ue]=B.split("-");return W.length?We.createElement("ol",{key:B,dir:I==="auto"?Z2():I,tabIndex:-1,ref:se,className:m,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":oe,"data-x-position":ue,style:{"--front-toast-height":`${((ne=he[0])==null?void 0:ne.height)||0}px`,"--width":`${q4}px`,"--gap":`${P}px`,...j,...Y4(v,x)},onBlur:ge=>{G.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(G.current=!1,Le.current&&(Le.current.focus({preventScroll:!0}),Le.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||G.current||(G.current=!0,Le.current=ge.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{ie||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||ye(!0)},onPointerUp:()=>ye(!1)},W.filter(ge=>!ge.position&&H===0||ge.position===B).map((ge,we)=>{var Oe,He;return We.createElement(W4,{key:ge.id,icons:M,index:we,toast:ge,defaultRichColors:y,duration:(Oe=k?.duration)!=null?Oe:E,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:A,closeButton:(He=k?.closeButton)!=null?He:f,interacting:ie,position:B,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:O,toasts:W.filter($e=>$e.position==ge.position),heights:he.filter($e=>$e.position==ge.position),setHeights:D,expandByDefault:u,gap:P,expanded:q,swipeDirections:e.swipeDirections})})):null}))});const K4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),ev=t=>{const e=X4(t);return e.charAt(0).toUpperCase()+e.slice(1)},ky=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),J4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z4=Ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:h,...u},f)=>Ee.createElement("svg",{ref:f,...Q4,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:ky("lucide",i),...!o&&!J4(u)&&{"aria-hidden":"true"},...u},[...h.map(([m,v])=>Ee.createElement(m,v)),...Array.isArray(o)?o:[o]]));const it=(t,e)=>{const n=Ee.forwardRef(({className:a,...i},o)=>Ee.createElement(Z4,{ref:o,iconNode:e,className:ky(`lucide-${K4(ev(t))}`,`lucide-${t}`,a),...i}));return n.displayName=ev(t),n};const e3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oo=it("arrow-left",e3);const t3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mf=it("arrow-right",t3);const n3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],r3=it("bell",n3);const a3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Xs=it("building-2",a3);const s3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q0=it("calendar",s3);const i3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],o3=it("camera",i3);const l3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qf=it("chart-column",l3);const c3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ks=it("check",c3);const u3=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Df=it("chef-hat",u3);const d3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cy=it("chevron-down",d3);const h3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],f3=it("chevron-left",h3);const m3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p3=it("chevron-right",m3);const g3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],v3=it("circle-alert",g3);const b3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lr=it("circle-check-big",b3);const y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jd=it("circle-check",y3);const x3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Z0=it("clipboard-check",x3);const w3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oi=it("clock",w3);const _3=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],N3=it("coffee",_3);const S3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],x0=it("credit-card",S3);const j3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ey=it("crown",j3);const A3=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],k3=it("delete",A3);const C3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eg=it("download",C3);const E3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],T3=it("ellipsis-vertical",E3);const O3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L3=it("eye",O3);const R3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],tv=it("file-check",R3);const M3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ty=it("file-text",M3);const D3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Oy=it("funnel",D3);const P3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ly=it("history",P3);const I3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ry=it("house",I3);const B3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Os=it("loader-circle",B3);const U3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],My=it("mail",U3);const z3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F3=it("map-pin",z3);const q3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],H3=it("mic-off",q3);const V3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Vo=it("mic",V3);const G3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$3=it("moon",G3);const W3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],w0=it("package",W3);const Y3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],K3=it("palette",Y3);const X3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],J3=it("pen",X3);const Q3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],io=it("plus",Q3);const Z3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Sp=it("radio",Z3);const e_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nv=it("rotate-ccw",e_);const t_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],n_=it("save",t_);const r_=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],a_=it("scan",r_);const s_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tg=it("search",s_);const i_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ng=it("settings",i_);const o_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rv=it("shield-check",o_);const l_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rg=it("shield",l_);const c_=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Li=it("snowflake",c_);const u_=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ag=it("sparkles",u_);const d_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],h_=it("sun",d_);const f_=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]],m_=it("thermometer-snowflake",f_);const p_=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Js=it("thermometer",p_);const g_=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],v_=it("timer",g_);const b_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Go=it("trash-2",b_);const y_=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jp=it("trending-down",y_);const x_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hu=it("trending-up",x_);const w_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ea=it("triangle-alert",w_);const __=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],N_=it("upload",__);const S_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],j_=it("user-plus",S_);const A_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sg=it("user",A_);const k_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pf=it("users",k_);const C_=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],E_=it("utensils-crossed",C_);const T_=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Qd=it("volume-2",T_);const O_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L_=it("wifi-off",O_);const R_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],av=it("wifi",R_);const M_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ec=it("x",M_);const D_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],If=it("zap",D_);function Dy(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Dy(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function P_(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Dy(t))&&(a&&(a+=" "),a+=e);return a}const I_=(t,e)=>{const n=new Array(t.length+e.length);for(let a=0;a<t.length;a++)n[a]=t[a];for(let a=0;a<e.length;a++)n[t.length+a]=e[a];return n},B_=(t,e)=>({classGroupId:t,validator:e}),Py=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Bf="-",sv=[],U_="arbitrary..",z_=t=>{const e=q_(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return F_(h);const u=h.split(Bf),f=u[0]===""&&u.length>1?1:0;return Iy(u,f,e)},getConflictingClassGroupIds:(h,u)=>{if(u){const f=a[h],m=n[h];return f?m?I_(m,f):f:m||sv}return n[h]||sv}}},Iy=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const m=Iy(t,e+1,o);if(m)return m}const h=n.validators;if(h===null)return;const u=e===0?t.join(Bf):t.slice(e).join(Bf),f=h.length;for(let m=0;m<f;m++){const v=h[m];if(v.validator(u))return v.classGroupId}},F_=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),a=e.slice(0,n);return a?U_+a:void 0})(),q_=t=>{const{theme:e,classGroups:n}=t;return H_(n,e)},H_=(t,e)=>{const n=Py();for(const a in t){const i=t[a];ig(i,n,a,e)}return n},ig=(t,e,n,a)=>{const i=t.length;for(let o=0;o<i;o++){const h=t[o];V_(h,e,n,a)}},V_=(t,e,n,a)=>{if(typeof t=="string"){G_(t,e,n);return}if(typeof t=="function"){$_(t,e,n,a);return}W_(t,e,n,a)},G_=(t,e,n)=>{const a=t===""?e:By(e,t);a.classGroupId=n},$_=(t,e,n,a)=>{if(Y_(t)){ig(t(a),e,n,a);return}e.validators===null&&(e.validators=[]),e.validators.push(B_(n,t))},W_=(t,e,n,a)=>{const i=Object.entries(t),o=i.length;for(let h=0;h<o;h++){const[u,f]=i[h];ig(f,By(e,u),n,a)}},By=(t,e)=>{let n=t;const a=e.split(Bf),i=a.length;for(let o=0;o<i;o++){const h=a[o];let u=n.nextPart.get(h);u||(u=Py(),n.nextPart.set(h,u)),n=u}return n},Y_=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,K_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),a=Object.create(null);const i=(o,h)=>{n[o]=h,e++,e>t&&(e=0,a=n,n=Object.create(null))};return{get(o){let h=n[o];if(h!==void 0)return h;if((h=a[o])!==void 0)return i(o,h),h},set(o,h){o in n?n[o]=h:i(o,h)}}},_0="!",iv=":",X_=[],ov=(t,e,n,a,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:a,isExternal:i}),J_=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=i=>{const o=[];let h=0,u=0,f=0,m;const v=i.length;for(let j=0;j<v;j++){const A=i[j];if(h===0&&u===0){if(A===iv){o.push(i.slice(f,j)),f=j+1;continue}if(A==="/"){m=j;continue}}A==="["?h++:A==="]"?h--:A==="("?u++:A===")"&&u--}const x=o.length===0?i:i.slice(f);let N=x,y=!1;x.endsWith(_0)?(N=x.slice(0,-1),y=!0):x.startsWith(_0)&&(N=x.slice(1),y=!0);const E=m&&m>f?m-f:void 0;return ov(o,y,N,E)};if(e){const i=e+iv,o=a;a=h=>h.startsWith(i)?o(h.slice(i.length)):ov(X_,!1,h,void 0,!0)}if(n){const i=a;a=o=>n({className:o,parseClassName:i})}return a},Q_=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,a)=>{e.set(n,1e6+a)}),n=>{const a=[];let i=[];for(let o=0;o<n.length;o++){const h=n[o],u=h[0]==="[",f=e.has(h);u||f?(i.length>0&&(i.sort(),a.push(...i),i=[]),a.push(h)):i.push(h)}return i.length>0&&(i.sort(),a.push(...i)),a}},Z_=t=>({cache:K_(t.cacheSize),parseClassName:J_(t),sortModifiers:Q_(t),...z_(t)}),eN=/\s+/,tN=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:o}=e,h=[],u=t.trim().split(eN);let f="";for(let m=u.length-1;m>=0;m-=1){const v=u[m],{isExternal:x,modifiers:N,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:j}=n(v);if(x){f=v+(f.length>0?" "+f:f);continue}let A=!!j,k=a(A?E.substring(0,j):E);if(!k){if(!A){f=v+(f.length>0?" "+f:f);continue}if(k=a(E),!k){f=v+(f.length>0?" "+f:f);continue}A=!1}const I=N.length===0?"":N.length===1?N[0]:o(N).join(":"),P=y?I+_0:I,M=P+k;if(h.indexOf(M)>-1)continue;h.push(M);const ae=i(k,A);for(let ee=0;ee<ae.length;++ee){const J=ae[ee];h.push(P+J)}f=v+(f.length>0?" "+f:f)}return f},nN=(...t)=>{let e=0,n,a,i="";for(;e<t.length;)(n=t[e++])&&(a=Uy(n))&&(i&&(i+=" "),i+=a);return i},Uy=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=Uy(t[a]))&&(n&&(n+=" "),n+=e);return n},rN=(t,...e)=>{let n,a,i,o;const h=f=>{const m=e.reduce((v,x)=>x(v),t());return n=Z_(m),a=n.cache.get,i=n.cache.set,o=u,u(f)},u=f=>{const m=a(f);if(m)return m;const v=tN(f,n);return i(f,v),v};return o=h,(...f)=>o(nN(...f))},aN=[],Qr=t=>{const e=n=>n[t]||aN;return e.isThemeGetter=!0,e},zy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Fy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sN=/^\d+\/\d+$/,iN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_u=t=>sN.test(t),tn=t=>!!t&&!Number.isNaN(Number(t)),El=t=>!!t&&Number.isInteger(Number(t)),Ap=t=>t.endsWith("%")&&tn(t.slice(0,-1)),Bo=t=>iN.test(t),dN=()=>!0,hN=t=>oN.test(t)&&!lN.test(t),qy=()=>!1,fN=t=>cN.test(t),mN=t=>uN.test(t),pN=t=>!ht(t)&&!ft(t),gN=t=>Xu(t,Gy,qy),ht=t=>zy.test(t),pc=t=>Xu(t,$y,hN),kp=t=>Xu(t,wN,tn),lv=t=>Xu(t,Hy,qy),vN=t=>Xu(t,Vy,mN),sf=t=>Xu(t,Wy,fN),ft=t=>Fy.test(t),Pd=t=>Ju(t,$y),bN=t=>Ju(t,_N),cv=t=>Ju(t,Hy),yN=t=>Ju(t,Gy),xN=t=>Ju(t,Vy),of=t=>Ju(t,Wy,!0),Xu=(t,e,n)=>{const a=zy.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},Ju=(t,e,n=!1)=>{const a=Fy.exec(t);return a?a[1]?e(a[1]):n:!1},Hy=t=>t==="position"||t==="percentage",Vy=t=>t==="image"||t==="url",Gy=t=>t==="length"||t==="size"||t==="bg-size",$y=t=>t==="length",wN=t=>t==="number",_N=t=>t==="family-name",Wy=t=>t==="shadow",NN=()=>{const t=Qr("color"),e=Qr("font"),n=Qr("text"),a=Qr("font-weight"),i=Qr("tracking"),o=Qr("leading"),h=Qr("breakpoint"),u=Qr("container"),f=Qr("spacing"),m=Qr("radius"),v=Qr("shadow"),x=Qr("inset-shadow"),N=Qr("text-shadow"),y=Qr("drop-shadow"),E=Qr("blur"),j=Qr("perspective"),A=Qr("aspect"),k=Qr("ease"),I=Qr("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...M(),ft,ht],ee=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto","contain","none"],W=()=>[ft,ht,f],Y=()=>[_u,"full","auto",...W()],he=()=>[El,"none","subgrid",ft,ht],D=()=>["auto",{span:["full",El,ft,ht]},El,ft,ht],q=()=>[El,"auto",ft,ht],Q=()=>["auto","min","max","fr",ft,ht],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...W()],le=()=>[_u,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],se=()=>[t,ft,ht],_e=()=>[...M(),cv,lv,{position:[ft,ht]}],Le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",yN,gN,{size:[ft,ht]}],O=()=>[Ap,Pd,pc],B=()=>["","none","full",m,ft,ht],H=()=>["",tn,Pd,pc],ne=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[tn,Ap,cv,lv],ge=()=>["","none",E,ft,ht],we=()=>["none",tn,ft,ht],Oe=()=>["none",tn,ft,ht],He=()=>[tn,ft,ht],$e=()=>[_u,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[dN],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[pN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:["px",tn],text:[Bo],"text-shadow":[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_u,ht,ft,A]}],container:["container"],columns:[{columns:[tn,ht,ft,u]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:J()}],"overscroll-x":[{"overscroll-x":J()}],"overscroll-y":[{"overscroll-y":J()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[El,"auto",ft,ht]}],basis:[{basis:[_u,"full","auto",u,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tn,_u,"auto","initial","none",ht]}],grow:[{grow:["",tn,ft,ht]}],shrink:[{shrink:["",tn,ft,ht]}],order:[{order:[El,"first","last","none",ft,ht]}],"grid-cols":[{"grid-cols":he()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":he()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[u,"screen",...le()]}],"min-w":[{"min-w":[u,"screen","none",...le()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[h]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,Pd,pc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ft,kp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ap,ht]}],"font-family":[{font:[bN,ht,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ft,ht]}],"line-clamp":[{"line-clamp":[tn,"none",ft,kp]}],leading:[{leading:[o,...W()]}],"list-image":[{"list-image":["none",ft,ht]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ht]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[tn,"from-font","auto",ft,pc]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[tn,"auto",ft,ht]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:Le()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},El,ft,ht],radial:["",ft,ht],conic:[El,ft,ht]},xN,vN]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tn,ft,ht]}],"outline-w":[{outline:["",tn,Pd,pc]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",v,of,sf]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",x,of,sf]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[tn,pc]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",N,of,sf]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[tn,ft,ht]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[ft,ht]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[tn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:Le()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ht]}],filter:[{filter:["","none",ft,ht]}],blur:[{blur:ge()}],brightness:[{brightness:[tn,ft,ht]}],contrast:[{contrast:[tn,ft,ht]}],"drop-shadow":[{"drop-shadow":["","none",y,of,sf]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",tn,ft,ht]}],"hue-rotate":[{"hue-rotate":[tn,ft,ht]}],invert:[{invert:["",tn,ft,ht]}],saturate:[{saturate:[tn,ft,ht]}],sepia:[{sepia:["",tn,ft,ht]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ht]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[tn,ft,ht]}],"backdrop-contrast":[{"backdrop-contrast":[tn,ft,ht]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tn,ft,ht]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tn,ft,ht]}],"backdrop-invert":[{"backdrop-invert":["",tn,ft,ht]}],"backdrop-opacity":[{"backdrop-opacity":[tn,ft,ht]}],"backdrop-saturate":[{"backdrop-saturate":[tn,ft,ht]}],"backdrop-sepia":[{"backdrop-sepia":["",tn,ft,ht]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ht]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tn,"initial",ft,ht]}],ease:[{ease:["linear","initial",k,ft,ht]}],delay:[{delay:[tn,ft,ht]}],animate:[{animate:["none",I,ft,ht]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ft,ht]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[ft,ht,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ht]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ht]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[tn,Pd,pc,kp]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SN=rN(NN);function Ie(...t){return SN(P_(t))}function jN(t){const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function Uu(t,e=new Date){return Math.floor((e.getTime()-t.getTime())/(1e3*60))}function AN(t,e=new Date){return Math.floor((e.getTime()-t.getTime())/1e3)}const Uf={SOFT_LIMIT_MINUTES:90,HARD_LIMIT_MINUTES:120};function uv(t,e){const n=Uu(t);return n>=Uf.HARD_LIMIT_MINUTES?"overdue":n>=Uf.SOFT_LIMIT_MINUTES?"warning":"active"}const dv=t=>{let e;const n=new Set,a=(m,v)=>{const x=typeof m=="function"?m(e):m;if(!Object.is(x,e)){const N=e;e=v??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(y=>y(e,N))}},i=()=>e,u={setState:a,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m))},f=e=t(a,i,u);return u},kN=(t=>t?dv(t):dv),CN=t=>t;function EN(t,e=CN){const n=We.useSyncExternalStore(t.subscribe,We.useCallback(()=>e(t.getState()),[t,e]),We.useCallback(()=>e(t.getInitialState()),[t,e]));return We.useDebugValue(n),n}const TN=t=>{const e=kN(t),n=a=>EN(e,a);return Object.assign(n,e),n},ON=(t=>TN);function LN(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),u=(o=n.getItem(i))!=null?o:null;return u instanceof Promise?u.then(h):h(u)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const N0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(a){return N0(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return N0(a)(n)}}}},RN=(t,e)=>(n,a,i)=>{let o={storage:LN(()=>localStorage),partialize:A=>A,version:0,merge:(A,k)=>({...k,...A}),...e},h=!1,u=0;const f=new Set,m=new Set;let v=o.storage;if(!v)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...A)},a,i);const x=()=>{const A=o.partialize({...a()});return v.setItem(o.name,{state:A,version:o.version})},N=i.setState;i.setState=(A,k)=>(N(A,k),x());const y=t((...A)=>(n(...A),x()),a,i);i.getInitialState=()=>y;let E;const j=()=>{var A,k;if(!v)return;const I=++u;h=!1,f.forEach(M=>{var ae;return M((ae=a())!=null?ae:y)});const P=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(A=a())!=null?A:y))||void 0;return N0(v.getItem.bind(v))(o.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==o.version){if(o.migrate){const ae=o.migrate(M.state,M.version);return ae instanceof Promise?ae.then(ee=>[!0,ee]):[!0,ae]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var ae;if(I!==u)return;const[ee,J]=M;if(E=o.merge(J,(ae=a())!=null?ae:y),n(E,!0),ee)return x()}).then(()=>{I===u&&(P?.(E,void 0),E=a(),h=!0,m.forEach(M=>M(E)))}).catch(M=>{I===u&&P?.(void 0,M)})};return i.persist={setOptions:A=>{o={...o,...A},A.storage&&(v=A.storage)},clearStorage:()=>{v?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>j(),hasHydrated:()=>h,onHydrate:A=>(f.add(A),()=>{f.delete(A)}),onFinishHydration:A=>(m.add(A),()=>{m.delete(A)})},o.skipHydration||j(),E||y},MN=RN,DN=[{id:"luma",label:"Luma",phrases:["luma","hey luma","hi luma","ok luma","okay luma"]},{id:"chef",label:"Chef",phrases:["chef","hey chef","hi chef","ok chef","okay chef"]},{id:"kitchen",label:"Kitchen",phrases:["kitchen","hey kitchen","hi kitchen","ok kitchen"]},{id:"assistant",label:"Assistant",phrases:["assistant","hey assistant","hi assistant"]}],PN={restaurantName:"Casa Rendezvous",openaiApiKey:null,openrouterApiKey:null,voiceProvider:"browser",audioModel:"openai/gpt-audio-mini",apiProvider:"openai",language:"en",theme:"day",subscriptionTier:"pro",ttsEnabled:!0,wakeWordEnabled:!1,activeWakeWords:["luma"]},IN=[{id:"bolognese",name:"Bolognese Sauce",icon:"",category:"sauce",use_count:0},{id:"tomato-sauce",name:"Tomato Sauce",icon:"",category:"sauce",use_count:0},{id:"bechamel",name:"Bchamel",icon:"",category:"sauce",use_count:0},{id:"gravy",name:"Gravy",icon:"",category:"sauce",use_count:0},{id:"curry-sauce",name:"Curry Sauce",icon:"",category:"sauce",use_count:0},{id:"soup",name:"Soup",icon:"",category:"soup",use_count:0},{id:"stock",name:"Stock",icon:"",category:"soup",use_count:0},{id:"stew",name:"Stew",icon:"",category:"soup",use_count:0},{id:"roast-beef",name:"Roast Beef",icon:"",category:"meat",use_count:0},{id:"chicken",name:"Chicken",icon:"",category:"meat",use_count:0},{id:"pulled-pork",name:"Pulled Pork",icon:"",category:"meat",use_count:0},{id:"vegetables",name:"Cooked Vegetables",icon:"",category:"vegetable",use_count:0},{id:"rice",name:"Rice",icon:"",category:"other",use_count:0},{id:"pasta",name:"Pasta",icon:"",category:"other",use_count:0}],qa=ON()(MN(t=>({currentSite:null,setCurrentSite:e=>t({currentSite:e}),staffMembers:[],setStaffMembers:e=>t({staffMembers:e}),addStaffMember:e=>t(n=>({staffMembers:[...n.staffMembers,e]})),updateStaffMember:(e,n)=>t(a=>({staffMembers:a.staffMembers.map(i=>i.id===e?{...i,...n}:i)})),removeStaffMember:e=>t(n=>({staffMembers:n.staffMembers.filter(a=>a.id!==e)})),foodPresets:IN,setFoodPresets:e=>t({foodPresets:e}),addFoodPreset:e=>t(n=>({foodPresets:[...n.foodPresets,e]})),updateFoodPreset:(e,n)=>t(a=>({foodPresets:a.foodPresets.map(i=>i.id===e?{...i,...n}:i)})),removeFoodPreset:e=>t(n=>({foodPresets:n.foodPresets.filter(a=>a.id!==e)})),incrementFoodUsage:e=>t(n=>({foodPresets:n.foodPresets.map(a=>a.id===e?{...a,use_count:(a.use_count||0)+1}:a)})),coolingSessions:[],addCoolingSession:e=>t(n=>({coolingSessions:[e,...n.coolingSessions]})),updateCoolingSession:(e,n)=>t(a=>({coolingSessions:a.coolingSessions.map(i=>i.id===e?{...i,...n}:i)})),removeCoolingSession:e=>t(n=>({coolingSessions:n.coolingSessions.filter(a=>a.id!==e)})),setCoolingSessions:e=>t({coolingSessions:e}),alerts:[],addAlert:e=>t(n=>({alerts:[e,...n.alerts]})),acknowledgeAlert:(e,n)=>t(a=>({alerts:a.alerts.map(i=>i.id===e?{...i,acknowledged:!0,acknowledged_at:new Date().toISOString(),acknowledged_by:n}:i)})),clearAlerts:()=>t({alerts:[]}),offlineQueue:[],addToOfflineQueue:e=>t(n=>({offlineQueue:[...n.offlineQueue,e]})),clearOfflineQueue:()=>t({offlineQueue:[]}),isOnline:typeof navigator<"u"?navigator.onLine:!0,setIsOnline:e=>t({isOnline:e}),isListening:!1,setIsListening:e=>t({isListening:e}),kioskMode:!0,setKioskMode:e=>t({kioskMode:e}),settings:PN,updateSettings:e=>t(n=>({settings:{...n.settings,...e}}))}),{name:"kitchen-compliance-storage",partialize:t=>({currentSite:t.currentSite,staffMembers:t.staffMembers,foodPresets:t.foodPresets,coolingSessions:t.coolingSessions,offlineQueue:t.offlineQueue,kioskMode:t.kioskMode,settings:t.settings})})),BN=t=>t.filter(e=>!e.closed_at&&(e.status==="active"||e.status==="warning"||e.status==="overdue")),UN=t=>t.filter(e=>!e.closed_at&&e.status==="overdue"),zN=t=>t.filter(e=>!e.acknowledged),FN=t=>[...t].sort((e,n)=>(n.use_count||0)-(e.use_count||0)),qN={basic:{label:"Basic",maxVenues:1,icon:ag},pro:{label:"Pro",maxVenues:5,icon:Ey},enterprise:{label:"Enterprise",maxVenues:999,icon:If}};function HN({currentScreen:t,onNavigate:e,siteName:n="Kitchen Ops"}){const{settings:a}=qa(),i=a.subscriptionTier||"basic",o=qN[i],h=o.icon,u=[{id:"home",label:"Command Center",icon:Ry,description:"Live monitoring"},{id:"goods_receipt",label:"Goods Receipt",icon:w0,description:"Delivery intake & OCR",badge:"NEW"},{id:"menu_engineering",label:"Menu Engineering",icon:Df,description:"Cost & Margin Control",badge:"PRO"},{id:"history",label:"Cooling Logs",icon:Ly,description:"Session history"},{id:"compliance",label:"FSAI Compliance",icon:Z0,description:"Audit reports"},{id:"reports",label:"Analytics",icon:Qf,description:"Insights & trends"},{id:"venues",label:"Venues",icon:Xs,description:"Multi-site management",badge:i!=="basic"?"NEW":void 0},{id:"settings",label:"Settings",icon:ng,description:"Configuration"}];return c.jsxs("aside",{className:"hidden lg:flex flex-col w-72 sidebar-stunning h-screen sticky top-0",children:[c.jsx("div",{className:"p-6 border-b border-theme-primary",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl gradient-primary flex items-center justify-center shadow-lg",children:c.jsx(Li,{className:"w-7 h-7 text-white"})}),c.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-green-500 border-2 border-white shadow-lg animate-pulse"})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-bold text-lg text-theme-primary tracking-tight",children:"KITCHEN OPS"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold gradient-text",children:"HACCP PRO"}),c.jsxs("span",{className:Ie("license-badge",i==="basic"&&"license-basic",i==="pro"&&"license-pro",i==="enterprise"&&"license-enterprise"),children:[c.jsx(h,{className:"w-2.5 h-2.5"}),o.label]})]})]})]})}),c.jsxs("nav",{className:"flex-1 p-4 space-y-1.5 overflow-y-auto",children:[c.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-theme-muted uppercase tracking-wider",children:"Main Menu"}),u.slice(0,4).map((f,m)=>{const v=f.icon,x=t===f.id;return c.jsxs("button",{onClick:()=>e(f.id),className:Ie("sidebar-item w-full text-left animate-slide-in",x&&"active",`stagger-${m+1}`),children:[c.jsx("div",{className:Ie("p-2 rounded-lg transition-colors",x?"bg-white/20":"bg-theme-ghost"),children:c.jsx(v,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium truncate",children:f.label}),f.badge&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold gradient-primary text-white rounded",children:f.badge})]}),c.jsx("p",{className:Ie("text-xs truncate",x?"text-white/70":"text-theme-muted"),children:f.description})]})]},f.id)}),c.jsx("div",{className:"py-3",children:c.jsx("div",{className:"h-px bg-theme-primary"})}),c.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-theme-muted uppercase tracking-wider",children:"Management"}),u.slice(4).map((f,m)=>{const v=f.icon,x=t===f.id,y=f.id==="venues"&&i==="basic";return c.jsxs("button",{onClick:()=>!y&&e(f.id),disabled:y,className:Ie("sidebar-item w-full text-left animate-slide-in",x&&"active",y&&"opacity-50 cursor-not-allowed",`stagger-${m+5}`),children:[c.jsx("div",{className:Ie("p-2 rounded-lg transition-colors",x?"bg-white/20":"bg-theme-ghost"),children:c.jsx(v,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium truncate",children:f.label}),f.badge&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold gradient-primary text-white rounded",children:f.badge}),y&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-theme-ghost text-theme-muted rounded",children:"PRO"})]}),c.jsx("p",{className:Ie("text-xs truncate",x?"text-white/70":"text-theme-muted"),children:f.description})]})]},f.id)})]}),c.jsx("div",{className:"p-4 border-t border-theme-primary",children:c.jsxs("div",{className:"card-glass p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("p",{className:"text-xs font-semibold text-theme-muted uppercase tracking-wide",children:"Active Venue"}),i!=="basic"&&c.jsx("button",{className:"p-1 hover:bg-theme-ghost rounded transition-colors",children:c.jsx(Cy,{className:"w-4 h-4 text-theme-muted"})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl gradient-success flex items-center justify-center",children:c.jsx(Xs,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-lg shadow-green-500/50"}),c.jsx("span",{className:"font-semibold text-theme-primary text-sm truncate",children:n})]}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Online  0 alerts"})]})]})]})})]})}function VN({currentScreen:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:Ry},{id:"history",label:"Logs",icon:Ly},{id:"compliance",label:"FSAI",icon:Z0},{id:"reports",label:"Reports",icon:Qf},{id:"settings",label:"Settings",icon:ng}];return c.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-glass-heavy border-t border-glass safe-area-bottom z-50",children:c.jsx("div",{className:"flex justify-around items-center h-16 px-1",children:n.map(a=>{const i=a.icon,o=t===a.id;return c.jsxs("button",{onClick:()=>e(a.id),className:Ie("flex flex-col items-center justify-center gap-0.5 px-3 py-2 rounded-xl transition-all min-w-0 flex-1",o?"text-white":"text-theme-muted"),children:[c.jsx("div",{className:Ie("p-2 rounded-xl transition-all",o?"gradient-primary shadow-lg":""),children:c.jsx(i,{className:Ie("w-5 h-5",o&&"scale-110")})}),c.jsx("span",{className:Ie("text-[10px] font-medium truncate",o?"text-theme-primary":"text-theme-muted"),children:a.label})]},a.id)})})})}function GN({complianceStatus:t="ready",lastAudit:e="Today",autoLogging:n=!0,notificationCount:a=0,onNotificationsClick:i}){const h={ready:{gradient:"gradient-success",bgLight:"bg-green-500/10",text:"text-green-500",icon:Lr,label:"INSPECTION READY",sublabel:"FSAI ALIGNED"},warning:{gradient:"gradient-warning",bgLight:"bg-amber-500/10",text:"text-amber-500",icon:Oi,label:"ATTENTION NEEDED",sublabel:"REVIEW REQUIRED"},critical:{gradient:"gradient-danger",bgLight:"bg-red-500/10",text:"text-red-500",icon:ea,label:"ACTION REQUIRED",sublabel:"NON-COMPLIANT"}}[t],u=h.icon;return c.jsxs("header",{className:"bg-glass-heavy border-b border-glass px-4 lg:px-6 py-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:Ie("flex items-center gap-3 px-4 py-3 rounded-xl",h.bgLight),children:[c.jsx("div",{className:Ie("p-2 rounded-lg",h.gradient),children:c.jsx(rg,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(u,{className:Ie("w-4 h-4",h.text)}),c.jsx("p",{className:Ie("text-sm font-bold",h.text),children:h.label})]}),c.jsxs("p",{className:"text-xs text-theme-muted",children:[h.sublabel,"  Last Audit: ",e]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[n&&c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-theme-card rounded-xl border border-theme-primary shadow-theme-sm",children:[c.jsxs("div",{className:"relative",children:[c.jsx(If,{className:"w-4 h-4 text-green-500"}),c.jsx("div",{className:"absolute inset-0 animate-ping",children:c.jsx(If,{className:"w-4 h-4 text-green-500 opacity-50"})})]}),c.jsx("span",{className:"text-xs font-semibold text-theme-primary",children:"AUTO-LOGGING"})]}),c.jsxs("button",{onClick:i,className:"relative p-2.5 rounded-xl bg-theme-card border border-theme-primary hover:shadow-theme-md transition-all",title:"View notifications",children:[c.jsx(r3,{className:"w-5 h-5 text-theme-secondary"}),a>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 gradient-danger rounded-full text-[10px] text-white font-bold flex items-center justify-center shadow-lg animate-pulse",children:a>9?"9+":a})]})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-4 mt-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-theme-primary to-theme-secondary",children:"Kitchen Command Center"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Real-time cooling compliance monitoring"})]}),c.jsx("div",{className:"flex-1 max-w-md ml-auto",children:c.jsxs("div",{className:"relative",children:[c.jsx(tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-theme-muted pointer-events-none"}),c.jsx("input",{type:"text",placeholder:"Search records, items, staff...",className:"input-stunning pl-11"})]})})]}),c.jsxs("div",{className:"md:hidden mt-4",children:[c.jsx("h1",{className:"text-xl font-bold text-theme-primary",children:"Command Center"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Real-time cooling compliance"})]})]})}function Cp({title:t,subtitle:e,value:n,maxValue:a=100,status:i,onClick:o}){const u={complete:{gradient:"gradient-success",bgLight:"bg-green-500/5",progressBg:"gradient-success",text:"text-green-500",icon:Lr},"in-progress":{gradient:"gradient-warning",bgLight:"bg-amber-500/5",progressBg:"gradient-warning",text:"text-amber-500",icon:Oi},pending:{gradient:"bg-theme-ghost",bgLight:"bg-theme-ghost",progressBg:"bg-theme-muted",text:"text-theme-muted",icon:Oi},warning:{gradient:"gradient-danger",bgLight:"bg-red-500/5",progressBg:"gradient-danger",text:"text-red-500",icon:ea}}[i],f=typeof n=="number"?n/a*100:0,m=u.icon;return c.jsxs("button",{onClick:o,className:Ie("flex-1 min-w-[160px] p-4 rounded-xl text-left transition-all card-stunning","hover:shadow-theme-lg hover:-translate-y-0.5",u.bgLight),children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("p",{className:"text-xs font-semibold text-theme-muted uppercase tracking-wide",children:t}),c.jsx(m,{className:Ie("w-4 h-4",u.text)})]}),c.jsxs("div",{className:"flex items-baseline gap-1 mb-3",children:[c.jsx("span",{className:Ie("text-3xl font-bold",u.text),children:n}),typeof n=="number"&&c.jsx("span",{className:Ie("text-lg font-semibold",u.text),children:"%"})]}),typeof n=="number"&&c.jsx("div",{className:"h-2 bg-theme-ghost rounded-full overflow-hidden",children:c.jsx("div",{className:Ie("h-full rounded-full transition-all duration-700",u.progressBg),style:{width:`${f}%`}})}),e&&c.jsx("p",{className:"text-xs text-theme-muted mt-2 truncate",children:e})]})}function hv({session:t,onClose:e,onDiscard:n}){const[a,i]=Ee.useState(""),[o,h]=Ee.useState(""),[u,f]=Ee.useState(0);Ee.useEffect(()=>{const x=()=>{const y=new Date,E=new Date(t.started_at),j=new Date(t.hard_due_at),A=y.getTime()-E.getTime(),k=Math.floor(A/(1e3*60)),I=Math.floor(k/60),P=k%60;I>0?h(`${I}h ${P}m`):h(`${P}m`);const M=j.getTime()-y.getTime();if(M<=0)i("OVERDUE");else{const J=Math.ceil(M/6e4);J>60?i(`${Math.floor(J/60)}h ${J%60}m`):i(`${J}m`)}const ae=j.getTime()-E.getTime(),ee=Math.min(100,A/ae*100);f(ee)};x();const N=setInterval(x,1e4);return()=>clearInterval(N)},[t]);const m=Ee.useMemo(()=>{switch(t.status){case"active":return{badge:"COOLING",badgeClass:"status-badge-active",cardClass:"cooling-card-active",iconGradient:"gradient-cool",progressGradient:"gradient-success",timerClass:"timer-safe",accent:"text-sky-500"};case"warning":return{badge:"WARNING",badgeClass:"status-badge-warning",cardClass:"cooling-card-warning",iconGradient:"gradient-warning",progressGradient:"gradient-warning",timerClass:"timer-warning",accent:"text-amber-500"};case"overdue":return{badge:"CRITICAL",badgeClass:"status-badge-danger",cardClass:"cooling-card-overdue",iconGradient:"gradient-danger",progressGradient:"gradient-danger",timerClass:"timer-danger",accent:"text-red-500"};default:return{badge:"COOLING",badgeClass:"status-badge-active",cardClass:"cooling-card",iconGradient:"bg-theme-ghost",progressGradient:"bg-theme-muted",timerClass:"",accent:"text-theme-muted"}}},[t.status]),v=()=>({sauce:"",soup:"",meat:"",vegetable:"",other:""})[t.item_category]||"";return c.jsxs("div",{className:Ie("cooling-card",m.cardClass),children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:Ie("w-14 h-14 rounded-xl flex items-center justify-center text-2xl shadow-lg",m.iconGradient),children:c.jsx("span",{className:"drop-shadow-md",children:v()})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-theme-primary",children:t.item_name}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-theme-muted",children:[c.jsx(Js,{className:"w-3 h-3"}),c.jsx("span",{children:"FSAI SC3 Cooling Protocol"})]})]})]}),c.jsxs("span",{className:Ie("status-badge",m.badgeClass),children:[t.status==="overdue"&&c.jsx(ea,{className:"w-3 h-3"}),t.status==="warning"&&c.jsx(Oi,{className:"w-3 h-3"}),t.status==="active"&&c.jsx(Li,{className:"w-3 h-3"}),m.badge]})]}),c.jsx("div",{className:"bg-theme-ghost rounded-xl p-4 mb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-theme-muted uppercase tracking-wide mb-1",children:"Elapsed Time"}),c.jsx("span",{className:Ie("text-4xl font-mono font-bold tracking-tight",m.timerClass),children:o})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-theme-muted uppercase tracking-wide mb-1",children:"Remaining"}),c.jsx("span",{className:Ie("text-2xl font-mono font-bold",t.status==="overdue"?"text-red-500 animate-pulse":m.accent),children:a})]})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[c.jsx("span",{className:"text-theme-muted font-medium",children:"2-hour limit progress"}),c.jsxs("span",{className:Ie("font-bold",m.accent),children:[Math.round(u),"%"]})]}),c.jsx("div",{className:"h-3 bg-theme-ghost rounded-full overflow-hidden shadow-inner",children:c.jsx("div",{className:Ie("h-full rounded-full transition-all duration-700 shadow-lg",m.progressGradient),style:{width:`${Math.min(100,u)}%`}})}),c.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-theme-muted",children:[c.jsx("span",{children:"Start"}),c.jsx("span",{className:"text-amber-500 font-medium",children:"90min"}),c.jsx("span",{className:"text-red-500 font-medium",children:"120min"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-theme-muted mb-4 p-3 bg-theme-ghost/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(v_,{className:"w-3 h-3"}),c.jsx("span",{children:"Target: <8C"})]}),c.jsx("div",{className:"h-3 w-px bg-theme-primary"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Oi,{className:"w-3 h-3"}),c.jsx("span",{children:"Max: 2 hours"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>e(t.id),className:Ie("flex-1 flex items-center justify-center gap-2 px-4 py-3.5 rounded-xl font-bold transition-all","shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",t.status==="overdue"?"gradient-warning text-white":"gradient-success text-white"),children:[c.jsx(Li,{className:"w-5 h-5"}),c.jsx("span",{children:"Move to Fridge"})]}),c.jsx("button",{onClick:()=>n(t.id),className:"px-4 py-3.5 rounded-xl bg-theme-ghost text-theme-muted hover:bg-red-500/20 hover:text-red-500 transition-all font-medium",title:"Discard item",children:c.jsx(Go,{className:"w-5 h-5"})})]})]})}const Zf=Ee.forwardRef(({className:t,variant:e="primary",size:n="md",fullWidth:a=!1,loading:i=!1,disabled:o,children:h,...u},f)=>{const m="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background",v={primary:"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 border border-transparent shadow hover:bg-zinc-800 dark:hover:bg-zinc-200 focus:ring-zinc-900 dark:focus:ring-zinc-100",secondary:"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50 border border-zinc-200 dark:border-zinc-700 shadow-sm hover:bg-zinc-50 dark:hover:bg-zinc-800 focus:ring-zinc-500",danger:"bg-red-500 text-white shadow-sm hover:bg-red-600 focus:ring-red-500 border border-transparent",warning:"bg-amber-500 text-white shadow-sm hover:bg-amber-600 focus:ring-amber-500 border border-transparent",cooling:"bg-sky-500 text-white shadow-sm hover:bg-sky-600 focus:ring-sky-500 border border-transparent",ghost:"bg-transparent text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100 focus:ring-zinc-500"},x={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base",kiosk:"min-h-[64px] px-8 text-xl font-semibold"};return c.jsx("button",{ref:f,className:Ie(m,v[e],x[n],a&&"w-full",t),disabled:o||i,...u,children:i?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):h})});Zf.displayName="Button";const $N=[{id:"bolognese",name:"Bolognese Sauce",icon:"",category:"sauce",use_count:0},{id:"tomato-sauce",name:"Tomato Sauce",icon:"",category:"sauce",use_count:0},{id:"bechamel",name:"Bchamel",icon:"",category:"sauce",use_count:0},{id:"gravy",name:"Gravy",icon:"",category:"sauce",use_count:0},{id:"curry-sauce",name:"Curry Sauce",icon:"",category:"sauce",use_count:0},{id:"soup",name:"Soup",icon:"",category:"soup",use_count:0},{id:"stock",name:"Stock",icon:"",category:"soup",use_count:0},{id:"stew",name:"Stew",icon:"",category:"soup",use_count:0},{id:"chili",name:"Chili",icon:"",category:"soup",use_count:0},{id:"roast-beef",name:"Roast Beef",icon:"",category:"meat",use_count:0},{id:"chicken",name:"Chicken",icon:"",category:"meat",use_count:0},{id:"pulled-pork",name:"Pulled Pork",icon:"",category:"meat",use_count:0},{id:"lamb",name:"Lamb",icon:"",category:"meat",use_count:0},{id:"vegetables",name:"Cooked Vegetables",icon:"",category:"vegetable",use_count:0},{id:"rice",name:"Rice",icon:"",category:"other",use_count:0},{id:"pasta",name:"Pasta",icon:"",category:"other",use_count:0},{id:"other",name:"Other",icon:"",category:"other",use_count:0}],Yy=$N;function WN(t){const e=t.toLowerCase().trim(),n=[/^(start|begin|new)\s*(cooling|cool)?\s*(.*)$/i,/^cool\s*(.*)$/i,/^cooling\s*(.*)$/i];for(const o of n){const h=e.match(o);if(h){const u=h[h.length-1]?.trim();return{type:"start_cooling",item:Yy.find(m=>m.name.toLowerCase().includes(u)||m.id.includes(u)||u.includes(m.name.toLowerCase()))?.name||u||void 0}}}const a=[/^(stop|done|close|finish|in\s*fridge|fridge)\s*(cooling)?/i,/^cooling\s*(done|finished|complete)/i];for(const o of a)if(o.test(e))return{type:"stop_cooling"};const i=[/^(discard|throw|bin|trash|waste)/i,/^(throw|toss)\s*(it)?\s*(away|out)?/i];for(const o of i)if(o.test(e))return{type:"discard"};return{type:"unknown"}}function og(t={}){const{onCommand:e,onTranscript:n,onError:a,language:i="en-IE"}=t,[o,h]=Ee.useState(!1),[u,f]=Ee.useState(""),[m,v]=Ee.useState(null),x=Ee.useRef(null),N=Ee.useRef(e),y=Ee.useRef(n),E=Ee.useRef(a);Ee.useEffect(()=>{N.current=e},[e]),Ee.useEffect(()=>{y.current=n},[n]),Ee.useEffect(()=>{E.current=a},[a]);const{isListening:j,setIsListening:A}=qa();Ee.useEffect(()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;h(!!M)},[]),Ee.useEffect(()=>{if(!o)return;const M=window.SpeechRecognition||window.webkitSpeechRecognition,ae=new M;return ae.continuous=!1,ae.interimResults=!1,ae.lang=i,ae.onstart=()=>{console.log("[Voice] Recognition started - listening for speech..."),A(!0),v(null)},ae.onend=()=>{console.log("[Voice] Recognition ended"),A(!1)},ae.onresult=ee=>{const J=ee.results[ee.resultIndex];if(console.log("[Voice] Got result:",J),J.isFinal){const W=J[0].transcript;console.log("[Voice] Final transcript:",W),f(W),y.current?.(W);const Y=WN(W);console.log("[Voice] Parsed command:",Y),console.log("[Voice] Calling onCommand callback..."),N.current?.(Y)}},ae.onerror=ee=>{let J,W=!0;switch(ee.error){case"aborted":J="Voice recognition stopped",W=!1;break;case"no-speech":J="No speech detected. Tap the mic and speak clearly.";break;case"audio-capture":J="Microphone not found. Check your device settings.";break;case"not-allowed":J="Microphone access denied. Please allow microphone access in your browser settings.";break;case"network":J="Network error. Voice recognition requires an internet connection.";break;case"service-not-allowed":J="Speech service not available. Try using Chrome or Edge browser.";break;default:J=`Voice error: ${ee.error}`}v(W?J:null),A(!1),W&&E.current?.(J)},x.current=ae,()=>{ae.abort()}},[o,i,A]);const k=Ee.useCallback(()=>{if(!(!x.current||j))try{f(""),v(null),x.current.start()}catch(M){console.error("Failed to start voice recognition:",M),v("Failed to start voice recognition")}},[j]),I=Ee.useCallback(()=>{if(!(!x.current||!j))try{x.current.stop()}catch(M){console.error("Failed to stop voice recognition:",M)}},[j]),P=Ee.useCallback(()=>{j?I():k()},[j,k,I]);return{isSupported:o,isListening:j,transcript:u,error:m,startListening:k,stopListening:I,toggleListening:P}}function Ky(){const[t,e]=Ee.useState(!1),[n,a]=Ee.useState(!1);Ee.useEffect(()=>{e("speechSynthesis"in window)},[]);const i=Ee.useCallback((h,u={})=>{if(!t||n)return;const f=new SpeechSynthesisUtterance(h);f.rate=u.rate||1.1,f.pitch=u.pitch||1,f.lang="en-IE",f.onstart=()=>a(!0),f.onend=()=>a(!1),f.onerror=()=>a(!1),window.speechSynthesis.speak(f)},[t,n]),o=Ee.useCallback(()=>{t&&(window.speechSynthesis.cancel(),a(!1))},[t]);return{isSupported:t,isSpeaking:n,speak:i,cancel:o}}class YN{mediaRecorder=null;audioChunks=[];stream=null;async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:16e3}}),this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:this.getSupportedMimeType()}),this.audioChunks=[],this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.audioChunks.push(e.data)},this.mediaRecorder.start(100),console.log("[Voice] Recording started")}catch(e){throw console.error("[Voice] Failed to start recording:",e),new Error("Microphone access denied or unavailable")}}async stop(){return new Promise((e,n)=>{if(!this.mediaRecorder){n(new Error("No recording in progress"));return}this.mediaRecorder.onstop=()=>{const a=new Blob(this.audioChunks,{type:this.getSupportedMimeType()});console.log("[Voice] Recording stopped, blob size:",a.size),this.stream&&(this.stream.getTracks().forEach(i=>i.stop()),this.stream=null),e(a)},this.mediaRecorder.stop()})}cancel(){this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.audioChunks=[]}get isRecording(){return this.mediaRecorder?.state==="recording"}getSupportedMimeType(){const e=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/ogg;codecs=opus","audio/wav"];for(const n of e)if(MediaRecorder.isTypeSupported(n))return n;return"audio/webm"}}async function KN(t){return new Promise((e,n)=>{const a=new FileReader;a.onloadend=()=>{const o=a.result.split(",")[1];e(o)},a.onerror=n,a.readAsDataURL(t)})}class XN{apiKey;language;constructor(e,n="en"){this.apiKey=e,this.language=n}async transcribe(e){const n=new FormData,a=this.getExtensionFromMimeType(e.type),i=new File([e],`audio.${a}`,{type:e.type});n.append("file",i),n.append("model","whisper-1"),n.append("language",this.language),n.append("response_format","json"),console.log("[Whisper] Sending audio to OpenAI");try{const o=await fetch("https://api.openai.com/v1/audio/transcriptions",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`},body:n});if(!o.ok){const u=await o.text();throw console.error("[Whisper] API error:",u),new Error(`Transcription failed: ${o.status}`)}const h=await o.json();return console.log("[Whisper] Transcription result:",h),{text:h.text||"",duration:h.duration}}catch(o){throw console.error("[Whisper] Transcription error:",o),o}}getExtensionFromMimeType(e){return e.includes("webm")?"webm":e.includes("mp4")?"m4a":e.includes("ogg")?"ogg":e.includes("wav")?"wav":"webm"}}class JN{apiKey;model;language;constructor(e,n="openai/gpt-audio-mini",a="en"){this.apiKey=e,this.model=n,this.language=a}async transcribe(e){const n=await KN(e),a=e.type||"audio/webm";console.log("[OpenRouter] Sending audio to",this.model,"format:",this.getAudioFormat(a));const i={model:this.model,modalities:["text"],messages:[{role:"user",content:[{type:"input_audio",input_audio:{data:n,format:this.getAudioFormat(a)}},{type:"text",text:`Transcribe this audio exactly. Output only the transcription, nothing else. Language: ${this.language}`}]}]};try{const o=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"ChefKiosk Voice"},body:JSON.stringify(i)});if(!o.ok){const m=await o.text();throw console.error("[OpenRouter] API error:",o.status,m),new Error(`Transcription failed: ${o.status} - ${m}`)}const h=await o.json();console.log("[OpenRouter] Response:",h);const u=h.choices?.[0]?.message;let f="";return typeof u?.content=="string"?f=u.content:Array.isArray(u?.content)&&(f=u.content.find(v=>v.type==="text")?.text||""),{text:f.trim()}}catch(o){throw console.error("[OpenRouter] Transcription error:",o),o}}getAudioFormat(e){return e.includes("webm")?"webm":e.includes("mp4")||e.includes("m4a")?"mp4":e.includes("ogg")?"ogg":e.includes("wav")?"wav":e.includes("mp3")?"mp3":e.includes("flac")?"flac":"webm"}}class QN{recorder;whisperClient=null;openRouterClient=null;activeProvider=null;isInitialized=!1;constructor(){this.recorder=new YN}initialize(e){e.provider==="openai"?(this.whisperClient=new XN(e.apiKey,e.language),this.activeProvider="openai",console.log("[Voice] Initialized with OpenAI Whisper")):e.provider==="openrouter"&&(this.openRouterClient=new JN(e.apiKey,e.model||"openai/gpt-audio-mini",e.language),this.activeProvider="openrouter",console.log("[Voice] Initialized with OpenRouter",e.model)),this.isInitialized=!0}get isConfigured(){return this.isInitialized&&(this.whisperClient!==null||this.openRouterClient!==null)}get provider(){return this.activeProvider}get isRecording(){return this.recorder.isRecording}async startRecording(){if(!this.isConfigured)throw new Error("Voice service not configured. Please set API key in Settings.");await this.recorder.start()}async stopAndTranscribe(){const e=await this.recorder.stop();if(e.size<1e3)return console.log("[Voice] Audio too short, skipping transcription"),"";if(this.activeProvider==="openai"&&this.whisperClient)return(await this.whisperClient.transcribe(e)).text;if(this.activeProvider==="openrouter"&&this.openRouterClient)return(await this.openRouterClient.transcribe(e)).text;throw new Error("No voice provider configured")}cancelRecording(){this.recorder.cancel()}}const Id=new QN;function ZN(t){const e=t.toLowerCase().trim(),n=[/^(start|begin|new)\s*(cooling|cool)?\s*(.*)$/i,/^cool\s*(.*)$/i,/^cooling\s*(.*)$/i];for(const o of n){const h=e.match(o);if(h){const u=h[h.length-1]?.trim();return{type:"start_cooling",item:Yy.find(m=>m.name.toLowerCase().includes(u)||m.id.includes(u)||u.includes(m.name.toLowerCase()))?.name||u||void 0}}}const a=[/^(stop|done|close|finish|in\s*fridge|fridge)\s*(cooling)?/i,/^cooling\s*(done|finished|complete)/i];for(const o of a)if(o.test(e))return{type:"stop_cooling"};const i=[/^(discard|throw|bin|trash|waste)/i,/^(throw|toss)\s*(it)?\s*(away|out)?/i];for(const o of i)if(o.test(e))return{type:"discard"};return{type:"unknown"}}function Xy(t={}){const{onCommand:e,onTranscript:n,onError:a}=t,[i,o]=Ee.useState(!1),[h,u]=Ee.useState(""),[f,m]=Ee.useState(null),[v,x]=Ee.useState(!1),N=Ee.useRef(!1),{isListening:y,setIsListening:E,settings:j}=qa();Ee.useEffect(()=>{j.voiceProvider==="openai"&&j.openaiApiKey?(Id.initialize({apiKey:j.openaiApiKey,provider:"openai",language:j.language||"en"}),o(!0),console.log("[WhisperHook] Initialized with OpenAI Whisper")):j.voiceProvider==="openrouter"&&j.openrouterApiKey?(Id.initialize({apiKey:j.openrouterApiKey,provider:"openrouter",model:j.audioModel,language:j.language||"en"}),o(!0),console.log("[WhisperHook] Initialized with OpenRouter",j.audioModel)):o(!1)},[j.voiceProvider,j.openaiApiKey,j.openrouterApiKey,j.audioModel,j.language]);const A=Ee.useCallback(async()=>{if(!i){const M="Please configure OpenAI API key in Settings to use voice";m(M),a?.(M);return}if(!(y||N.current))try{u(""),m(null),N.current=!0,E(!0),await Id.startRecording(),console.log("[WhisperHook] Recording started")}catch(M){const ae=M instanceof Error?M.message:"Failed to start recording";console.error("[WhisperHook] Start error:",ae),m(ae),a?.(ae),N.current=!1,E(!1)}},[i,y,E,a]),k=Ee.useCallback(async()=>{if(N.current)try{x(!0),N.current=!1;const M=await Id.stopAndTranscribe();if(console.log("[WhisperHook] Transcription:",M),u(M),n?.(M),M){const ae=ZN(M);console.log("[WhisperHook] Parsed command:",ae),e?.(ae)}}catch(M){const ae=M instanceof Error?M.message:"Transcription failed";console.error("[WhisperHook] Stop error:",ae),m(ae),a?.(ae)}finally{x(!1),E(!1)}},[E,e,n,a]),I=Ee.useCallback(async()=>{y||N.current?await k():await A()},[y,A,k]),P=Ee.useCallback(()=>{Id.cancelRecording(),N.current=!1,E(!1)},[E]);return{isSupported:!0,isConfigured:i,isListening:y,isProcessing:v,transcript:h,error:f,startListening:A,stopListening:k,toggleListening:I,cancelListening:P}}const eS=Ee.forwardRef(function({onCommand:e,onEnd:n,className:a,size:i="lg",wakeWordActive:o=!1,wakeWordTriggered:h=!1,wakeWordLabel:u="Hey Luma"},f){const{speak:m}=Ky(),{settings:v}=qa(),x=v.voiceProvider==="openai"&&v.openaiApiKey||v.voiceProvider==="openrouter"&&v.openrouterApiKey,N=v.voiceProvider==="openai"?"OpenAI Whisper":v.voiceProvider==="openrouter"?`OpenRouter (${v.audioModel?.split("/")[1]||"gpt-audio-mini"})`:"Browser",y=Ee.useCallback(D=>{console.log("[VoiceButton] Command received:",D),D.type==="start_cooling"?m(`Starting cooling${D.item?` for ${D.item}`:""}`):D.type==="stop_cooling"?m("Cooling complete, moved to fridge"):D.type==="discard"?m("Item discarded"):m("Sorry, I didn't understand that"),e(D)},[e,m]),E=Ee.useCallback(()=>{console.log("[VoiceButton] Voice ended"),n?.()},[n]),j=og({onCommand:y,onError:D=>{console.error("[BrowserVoice] Error:",D),E()}}),A=Xy({onCommand:y,onError:D=>{console.error("[WhisperVoice] Error:",D),E()}}),k=x?A:j,{isSupported:I,isListening:P,transcript:M,error:ae,toggleListening:ee,startListening:J}=k,W=x?A.isProcessing:!1;Ee.useImperativeHandle(f,()=>({triggerVoice:()=>{console.log("[VoiceButton] Triggered via ref (wake word)"),!P&&!W&&(J?J():ee())}}),[P,W,J,ee]),Ee.useEffect(()=>{h&&!P&&!W&&(console.log("[VoiceButton] Wake word triggered - starting voice"),J?J():ee())},[h,P,W,J,ee]),Ee.useEffect(()=>{if(!P&&!W&&M){const D=setTimeout(()=>{E()},500);return()=>clearTimeout(D)}},[P,W,M,E]);const Y={sm:"w-12 h-12",md:"w-20 h-20",lg:"w-28 h-28"},he={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-14 h-14"};return!I&&!x?c.jsxs("div",{className:Ie("flex flex-col items-center justify-center gap-2 text-theme-muted",a),children:[c.jsx(H3,{className:he[i]}),i!=="sm"&&c.jsx("span",{className:"text-sm",children:"Voice not supported"})]}):i==="sm"?c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:ee,disabled:W,className:Ie("voice-button rounded-full flex items-center justify-center transition-all duration-200",Y[i],W?"bg-purple-500 shadow-lg shadow-purple-500/50":P?"voice-listening bg-green-500 shadow-lg shadow-green-500/50":o?"bg-gradient-to-b from-rose-600 to-rose-700 hover:from-rose-500 hover:to-rose-600 shadow-lg shadow-rose-500/30":"bg-gradient-to-b from-theme-ghost to-theme-secondary hover:from-theme-secondary hover:to-theme-ghost shadow-lg","active:scale-95 disabled:opacity-50",a),"aria-label":P?"Stop listening":"Start voice command",children:W?c.jsx(Os,{className:Ie(he[i],"text-white animate-spin")}):P?c.jsx(Qd,{className:Ie(he[i],"text-white animate-pulse")}):o?c.jsx(Sp,{className:Ie(he[i],"text-white animate-pulse")}):c.jsx(Vo,{className:Ie(he[i],"text-white")})}),o&&!P&&!W&&c.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-rose-500 rounded-full animate-pulse"})]}):c.jsxs("div",{className:Ie("flex flex-col items-center gap-3",a),children:[o&&!P&&!W&&c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-rose-500/20 rounded-full border border-rose-500/30",children:[c.jsx(Sp,{className:"w-4 h-4 text-rose-400 animate-pulse"}),c.jsxs("span",{className:"text-xs text-rose-400 font-medium",children:['Say "',u,'"']})]}),c.jsx("button",{onClick:ee,disabled:W,className:Ie("voice-button rounded-full flex items-center justify-center transition-all duration-200",Y[i],W?"bg-purple-500 shadow-lg shadow-purple-500/50":P?"voice-listening bg-green-500 shadow-lg shadow-green-500/50":o?"bg-gradient-to-b from-rose-600 to-rose-700 hover:from-rose-500 hover:to-rose-600 shadow-lg shadow-rose-500/30 ring-2 ring-rose-500/50":"bg-gradient-to-b from-theme-ghost to-theme-secondary hover:from-theme-secondary hover:to-theme-ghost shadow-lg","active:scale-95 disabled:opacity-70"),"aria-label":P?"Stop listening":"Start voice command",children:W?c.jsx(Os,{className:Ie(he[i],"text-white animate-spin")}):P?c.jsx(Qd,{className:Ie(he[i],"text-white animate-pulse")}):o?c.jsx(Sp,{className:Ie(he[i],"text-white animate-pulse")}):c.jsx(Vo,{className:Ie(he[i],"text-white")})}),c.jsxs("div",{className:"text-center min-h-[60px]",children:[W&&c.jsx("p",{className:"text-purple-400 font-medium",children:" Processing..."}),P&&!W&&c.jsx("p",{className:"text-green-400 font-medium animate-pulse",children:" Listening..."}),M&&!P&&!W&&c.jsxs("p",{className:"text-theme-muted text-sm max-w-[200px]",children:['Heard: "',M,'"']}),ae&&!P&&!W&&c.jsx("div",{className:"text-amber-400 text-sm max-w-[220px]",children:c.jsxs("p",{children:[" ",ae]})}),!P&&!M&&!ae&&!W&&c.jsx("p",{className:"text-theme-muted text-sm",children:o?`Listening for "${u}"`:x?"Tap to record":"Tap to speak"})]}),c.jsxs("div",{className:"text-center text-xs text-theme-muted max-w-[250px]",children:[c.jsx("p",{className:"font-medium mb-1",children:"Say:"}),c.jsx("p",{children:'"Start cooling [item]"'}),c.jsx("p",{children:'"Done" or "In fridge"'}),c.jsx("p",{children:'"Discard"'}),x&&c.jsxs("p",{className:"mt-2 text-purple-400",children:["Using ",N]})]})]})});function tS({onCommand:t,className:e}){const{settings:n}=qa(),a=n.voiceProvider==="openai"&&n.openaiApiKey||n.voiceProvider==="openrouter"&&n.openrouterApiKey,i=og({onCommand:t}),o=Xy({onCommand:t}),h=a?o:i,{isSupported:u,isListening:f,toggleListening:m}=h,v=a?o.isProcessing:!1;return!u&&!a?null:c.jsx("button",{onClick:m,disabled:v,className:Ie("p-3 rounded-xl transition-all duration-200",v?"bg-purple-500 text-white shadow-lg shadow-purple-500/50":f?"bg-green-500 text-white shadow-lg shadow-green-500/50":"bg-theme-ghost text-theme-secondary hover:bg-theme-secondary","disabled:opacity-50",e),"aria-label":f?"Stop listening":"Start voice command",children:v?c.jsx(Os,{className:"w-6 h-6 animate-spin"}):f?c.jsx(Qd,{className:"w-6 h-6 animate-pulse"}):c.jsx(Vo,{className:"w-6 h-6"})})}function nS({isOpen:t,onClose:e,onStart:n}){const{foodPresets:a,incrementFoodUsage:i}=qa(),[o,h]=Ee.useState(null),[u,f]=Ee.useState(""),[m,v]=Ee.useState(""),x=Ee.useMemo(()=>FN(a),[a]),N=Ee.useMemo(()=>{let I=x;if(o&&(I=I.filter(P=>P.category===o)),m.trim()){const P=m.toLowerCase();I=I.filter(M=>M.name.toLowerCase().includes(P))}return!o&&!m.trim()&&(I=I.slice(0,12)),I},[x,o,m]);if(!t)return null;const y=[{id:"sauce",label:"Sauces",icon:""},{id:"soup",label:"Soups",icon:""},{id:"meat",label:"Meats",icon:""},{id:"vegetable",label:"Veg",icon:""},{id:"other",label:"Other",icon:""}],E=I=>{i(I.id),n(I.name,I.category),A()},j=()=>{u.trim()&&(n(u.trim(),o||"other"),A())},A=()=>{h(null),f(""),v(""),e()},k=I=>{if(I.type==="start_cooling"&&I.item){const P=a.find(M=>M.name.toLowerCase().includes(I.item.toLowerCase()));P?(i(P.id),n(P.name,P.category)):n(I.item,"other"),A()}};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:A}),c.jsxs("div",{className:"relative w-full sm:max-w-2xl h-[95vh] sm:h-auto sm:max-h-[90vh] overflow-hidden bg-theme-modal rounded-t-3xl sm:rounded-3xl shadow-2xl animate-slide-in border border-theme-primary",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-theme-primary",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-sky-500/20 rounded-xl",children:c.jsx(Li,{className:"w-6 h-6 text-sky-500"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-theme-primary",children:"Start Cooling"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Select food item"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tS,{onCommand:k}),c.jsx("button",{onClick:A,className:"p-3 hover:bg-theme-ghost rounded-xl transition-colors text-theme-primary",children:c.jsx(Ec,{className:"w-6 h-6"})})]})]}),c.jsx("div",{className:"px-4 py-3 border-b border-theme-primary",children:c.jsxs("div",{className:"relative",children:[c.jsx(tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-theme-muted"}),c.jsx("input",{type:"text",value:m,onChange:I=>v(I.target.value),placeholder:"Search food items...",className:"w-full pl-12 pr-4 py-3 bg-theme-input border border-theme-input rounded-xl text-theme-primary placeholder:text-theme-muted focus:outline-none focus:ring-2 focus:ring-sky-500"})]})}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto p-3 border-b border-theme-primary scrollbar-hide",children:[c.jsx("button",{onClick:()=>h(null),className:Ie("flex-shrink-0 px-5 py-3 rounded-xl font-semibold transition-all min-w-[80px] text-center",o?"bg-theme-ghost text-theme-secondary hover:bg-theme-elevated active:scale-95":"bg-sky-500 text-white shadow-lg shadow-sky-500/30"),children:"Top Used"}),y.map(I=>c.jsxs("button",{onClick:()=>h(I.id),className:Ie("flex-shrink-0 px-5 py-3 rounded-xl font-semibold transition-all flex items-center gap-2 min-w-[80px] justify-center",o===I.id?"bg-sky-500 text-white shadow-lg shadow-sky-500/30":"bg-theme-ghost text-theme-secondary hover:bg-theme-elevated active:scale-95"),children:[c.jsx("span",{className:"text-lg",children:I.icon}),c.jsx("span",{className:"hidden sm:inline",children:I.label})]},I.id))]}),c.jsxs("div",{className:"p-4 overflow-y-auto flex-1",style:{maxHeight:"calc(95vh - 280px)"},children:[c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-4",children:N.map(I=>c.jsxs("button",{onClick:()=>E(I),className:"flex flex-col items-center justify-center gap-2 p-5 bg-theme-card hover:bg-theme-elevated border border-theme-primary rounded-2xl transition-all active:scale-95 min-h-[100px] touch-manipulation",children:[c.jsx("span",{className:"text-4xl",children:I.icon}),c.jsx("span",{className:"font-semibold text-center text-sm leading-tight text-theme-primary",children:I.name}),(I.use_count||0)>0&&c.jsxs("span",{className:"text-[10px] text-theme-muted",children:["Used ",I.use_count,"x"]})]},I.id))}),N.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-theme-secondary",children:"No items found"}),c.jsx("p",{className:"text-sm text-theme-muted mt-1",children:"Try a different search or add custom item"})]}),c.jsxs("div",{className:"border-t border-theme-primary pt-4 mt-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Df,{className:"w-5 h-5 text-theme-muted"}),c.jsx("span",{className:"text-sm text-theme-muted",children:"Custom item:"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:u,onChange:I=>f(I.target.value),placeholder:"e.g., Mushroom risotto",className:"flex-1 px-4 py-4 bg-theme-input border border-theme-input rounded-xl text-theme-primary placeholder:text-theme-muted focus:outline-none focus:border-sky-500 text-lg",onKeyDown:I=>{I.key==="Enter"&&j()}}),c.jsx(Zf,{variant:"cooling",size:"lg",onClick:j,disabled:!u.trim(),className:"px-6",children:"Start"})]})]})]}),c.jsx("div",{className:"p-4 border-t border-theme-primary bg-theme-secondary safe-area-bottom",children:c.jsx("p",{className:"text-center text-sm text-theme-secondary",children:" Timer starts immediately  Move to fridge within 2 hours"})})]})]})}const rS=[2,4,5,6,7,8];function aS({isOpen:t,onClose:e,onConfirm:n,session:a}){const{staffMembers:i}=qa(),[o,h]=Ee.useState(void 0),[u,f]=Ee.useState(""),[m,v]=Ee.useState(null),[x,N]=Ee.useState(!1),y=Ee.useMemo(()=>i.filter(J=>J.active),[i]),E=Ee.useCallback(()=>{const J=x&&u?parseFloat(u):o;n({temperature:J,staffId:m?.id,staffName:m?.name}),h(void 0),f(""),v(null),N(!1)},[o,u,m,x,n]),j=Ee.useCallback(()=>{h(void 0),f(""),v(null),N(!1),e()},[e]);if(!t||!a)return null;const A=AN(new Date(a.started_at)),k=Math.floor(A/60),I=a.status==="overdue",P=a.status==="warning",M=x&&u?parseFloat(u):o,ae=M!==void 0&&M<8,ee=M!==void 0&&M>=8;return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:j}),c.jsxs("div",{className:"relative w-full sm:max-w-lg bg-theme-card rounded-t-3xl sm:rounded-2xl shadow-2xl border border-theme-primary max-h-[95vh] overflow-y-auto animate-slide-in",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-theme-primary",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl",children:c.jsx(Li,{className:"w-6 h-6 text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-theme-primary",children:"Move to Fridge"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"FSAI SC3 - Cooling Record"})]})]}),c.jsx("button",{onClick:j,className:"p-3 hover:bg-theme-hover rounded-xl transition-colors",children:c.jsx(Ec,{className:"w-6 h-6 text-theme-muted"})})]}),c.jsxs("div",{className:"p-4 space-y-5",children:[c.jsx("div",{className:Ie("p-4 rounded-xl border",I?"bg-red-500/10 border-red-500/30":P?"bg-amber-500/10 border-amber-500/30":"bg-theme-secondary border-theme-primary"),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-theme-primary text-xl",children:a.item_name}),c.jsxs("p",{className:"text-sm text-theme-muted",children:["Cooling time: ",jN(A)," (",k,"m)"]})]}),I&&c.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[c.jsx(ea,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Overdue"})]}),P&&!I&&c.jsxs("div",{className:"flex items-center gap-1 text-amber-400",children:[c.jsx(ea,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Warning"})]}),!I&&!P&&c.jsxs("div",{className:"flex items-center gap-1 text-emerald-400",children:[c.jsx(Lr,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"On time"})]})]})}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-theme-secondary mb-3",children:[c.jsx(sg,{className:"w-4 h-4 text-purple-400"}),"Who's recording?"]}),y.length>0?c.jsx("div",{className:"grid grid-cols-3 gap-2",children:y.map(J=>c.jsxs("button",{onClick:()=>v(J),className:Ie("p-4 rounded-xl transition-all flex flex-col items-center justify-center gap-1 min-h-[80px] touch-manipulation",m?.id===J.id?"bg-purple-500 text-white ring-2 ring-purple-400":"bg-theme-secondary text-theme-secondary hover:bg-theme-hover active:scale-95"),children:[c.jsx("span",{className:"text-2xl font-bold",children:J.initials}),c.jsx("span",{className:"text-xs truncate max-w-full",children:J.name})]},J.id))}):c.jsxs("div",{className:"p-4 bg-theme-secondary rounded-xl text-center",children:[c.jsx("p",{className:"text-theme-muted text-sm mb-2",children:"No staff members configured"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Add staff in Settings  Staff"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-theme-secondary mb-3",children:[c.jsx(Js,{className:"w-4 h-4 text-sky-400"}),"Final Temperature (C)",c.jsx("span",{className:"text-theme-muted",children:"- should be <8C"})]}),x?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",inputMode:"decimal",step:"0.1",value:u,onChange:J=>f(J.target.value),placeholder:"Enter temperature",className:Ie("w-full p-5 text-3xl font-mono text-center bg-theme-secondary text-theme-primary border rounded-xl focus:outline-none focus:ring-2 transition-all",u&&parseFloat(u)>=8?"border-amber-500 focus:ring-amber-500":"border-theme-primary focus:ring-sky-500"),autoFocus:!0}),c.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-2xl text-theme-muted",children:"C"})]}),c.jsx("button",{onClick:()=>{N(!1),f("")},className:"w-full py-3 text-sm text-theme-muted hover:text-theme-secondary transition-colors bg-theme-secondary rounded-xl",children:"Use preset temperatures"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:rS.map(J=>c.jsxs("button",{onClick:()=>h(J),className:Ie("py-5 rounded-xl text-xl font-bold transition-all touch-manipulation active:scale-95",o===J?J<8?"bg-emerald-500 text-white ring-2 ring-emerald-400":"bg-amber-500 text-white ring-2 ring-amber-400":"bg-theme-secondary text-theme-secondary hover:bg-theme-hover"),children:[J,""]},J))}),c.jsx("button",{onClick:()=>N(!0),className:"w-full py-3 text-sm text-theme-muted hover:text-theme-secondary transition-colors bg-theme-secondary rounded-xl",children:"Enter custom temperature"})]}),ee&&c.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-xl flex items-start gap-2",children:[c.jsx(ea,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-amber-300",children:"Temperature is 8C. FSAI requires food to be cooled to <8C within 2 hours. Consider continuing to cool or document exception."})]})]})]}),c.jsxs("div",{className:"p-4 border-t border-theme-primary space-y-3 safe-area-bottom",children:[c.jsxs(Zf,{variant:"primary",size:"kiosk",fullWidth:!0,onClick:E,className:Ie("flex items-center justify-center gap-2 py-5",ae&&"bg-emerald-600 hover:bg-emerald-500"),children:[c.jsx(Li,{className:"w-6 h-6"}),c.jsx("span",{className:"font-bold text-lg",children:M!==void 0?`Confirm at ${M}C`:"Confirm Move to Fridge"})]}),M===void 0&&c.jsx("button",{onClick:E,className:"w-full py-3 text-sm text-theme-muted hover:text-theme-secondary transition-colors",children:"Skip temperature (not recommended)"})]})]})]})}function em(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function sS(t,e,n,a){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function u(v){try{m(a.next(v))}catch(x){h(x)}}function f(v){try{m(a.throw(v))}catch(x){h(x)}}function m(v){v.done?o(v.value):i(v.value).then(u,f)}m((a=a.apply(t,e||[])).next())})}const iS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class lg extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class oS extends lg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fv extends lg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mv extends lg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var S0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(S0||(S0={}));class lS{constructor(e,{headers:n={},customFetch:a,region:i=S0.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iS(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return sS(this,arguments,void 0,function*(n,a={}){var i;let o,h;try{const{headers:u,method:f,body:m,signal:v,timeout:x}=a;let N={},{region:y}=a;y||(y=this.region);const E=new URL(`${this.url}/${n}`);y&&y!=="any"&&(N["x-region"]=y,E.searchParams.set("forceFunctionRegion",y));let j;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(N["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(N["Content-Type"]="application/json",j=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?j=JSON.stringify(m):j=m;let A=v;x&&(h=new AbortController,o=setTimeout(()=>h.abort(),x),v?(A=h.signal,v.addEventListener("abort",()=>h.abort())):A=h.signal);const k=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),u),body:j,signal:A}).catch(ae=>{throw new oS(ae)}),I=k.headers.get("x-relay-error");if(I&&I==="true")throw new fv(k);if(!k.ok)throw new mv(k);let P=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return P==="application/json"?M=yield k.json():P==="application/octet-stream"||P==="application/pdf"?M=yield k.blob():P==="text/event-stream"?M=k:P==="multipart/form-data"?M=yield k.formData():M=yield k.text(),{data:M,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof mv||u instanceof fv?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var cS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},uS=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let i=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let h=null,u=null,f=null,m=o.status,v=o.statusText;if(o.ok){var x,N;if(n.method!=="HEAD"){var y;const k=await o.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?u=k:u=JSON.parse(k))}const j=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),A=(N=o.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");j&&A&&A.length>1&&(f=parseInt(A[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(h={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var E;const j=await o.text();try{h=JSON.parse(j),Array.isArray(h)&&o.status===404&&(u=[],h=null,m=200,v="OK")}catch{o.status===404&&j===""?(m=204,v="No Content"):h={message:j}}if(h&&n.isMaybeSingle&&(!(h==null||(E=h.details)===null||E===void 0)&&E.includes("0 rows"))&&(h=null,m=200,v="OK"),h&&n.shouldThrowOnError)throw new cS(h)}return{error:h,data:u,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(i=i.catch(o=>{var h;let u="";const f=o?.cause;if(f){var m,v,x,N;const E=(m=f?.message)!==null&&m!==void 0?m:"",j=(v=f?.code)!==null&&v!==void 0?v:"";u=`${(x=o?.name)!==null&&x!==void 0?x:"FetchError"}: ${o?.message}`,u+=`

Caused by: ${(N=f?.name)!==null&&N!==void 0?N:"Error"}: ${E}`,j&&(u+=` (${j})`),f?.stack&&(u+=`
${f.stack}`)}else{var y;u=(y=o?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(h=o?.name)!==null&&h!==void 0?h:"FetchError"}: ${o?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},dS=class extends uS{select(t){let e=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",h=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${h?`${h},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var h;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const pv=new RegExp("[,()]");var Mu=class extends dS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&pv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&pv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},hS=class{constructor(t,{headers:e={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:a}=e??{},i=n?"HEAD":"GET";let o=!1;const h=(t??"*").split("").map(m=>/\s/.test(m)&&!o?"":(m==='"'&&(o=!o),m)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",h),a&&f.append("Prefer",`count=${a}`),new Mu({method:i,url:u,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var a;const i="POST",{url:o,headers:h}=this.cloneRequestState();if(e&&h.append("Prefer",`count=${e}`),n||h.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(u.length>0){const f=[...new Set(u)].map(m=>`"${m}"`);o.searchParams.set("columns",f.join(","))}}return new Mu({method:i,url:o,headers:h,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const h="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),a&&f.append("Prefer",`count=${a}`),i||f.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(m.length>0){const v=[...new Set(m)].map(x=>`"${x}"`);u.searchParams.set("columns",v.join(","))}}return new Mu({method:h,url:u,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const a="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Mu({method:a,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Mu({method:n,url:a,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},fS=class Jy{constructor(e,{headers:n={},schema:a,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:i=!1,count:o}={}){var h;let u;const f=new URL(`${this.url}/rpc/${e}`);let m;const v=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(v)),x=a&&Object.values(n).some(v);x?(u="POST",m=n):a||i?(u=a?"HEAD":"GET",Object.entries(n).filter(([y,E])=>E!==void 0).map(([y,E])=>[y,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([y,E])=>{f.searchParams.append(y,E)})):(u="POST",m=n);const N=new Headers(this.headers);return x?N.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&N.set("Prefer",`count=${o}`),new Mu({method:u,url:f,headers:N,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class mS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const i=a.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pS="2.90.1",gS=`realtime-js/${pS}`,Qy="1.0.0",vS="2.0.0",gv=Qy,j0=1e4,bS=1e3,yS=100;var Rl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rl||(Rl={}));var Zr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Zr||(Zr={}));var Ti;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ti||(Ti={}));var A0;(function(t){t.websocket="websocket"})(A0||(A0={}));var _c;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_c||(_c={}));class xS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const i=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,a;const i=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(e,n,a){var i,o;const h=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+h.length+m.length+x.length,y=new ArrayBuffer(this.HEADER_LENGTH+N);let E=new DataView(y),j=0;E.setUint8(j++,this.KINDS.userBroadcastPush),E.setUint8(j++,f.length),E.setUint8(j++,u.length),E.setUint8(j++,h.length),E.setUint8(j++,m.length),E.setUint8(j++,x.length),E.setUint8(j++,n),Array.from(f,k=>E.setUint8(j++,k.charCodeAt(0))),Array.from(u,k=>E.setUint8(j++,k.charCodeAt(0))),Array.from(h,k=>E.setUint8(j++,k.charCodeAt(0))),Array.from(m,k=>E.setUint8(j++,k.charCodeAt(0))),Array.from(x,k=>E.setUint8(j++,k.charCodeAt(0)));var A=new Uint8Array(y.byteLength+a.byteLength);return A.set(new Uint8Array(y),0),A.set(new Uint8Array(a),y.byteLength),A.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,o,h,u,f]=a;return n({join_ref:i,ref:o,topic:h,event:u,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),i=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,a){const i=n.getUint8(1),o=n.getUint8(2),h=n.getUint8(3),u=n.getUint8(4);let f=this.HEADER_LENGTH+4;const m=a.decode(e.slice(f,f+i));f=f+i;const v=a.decode(e.slice(f,f+o));f=f+o;const x=a.decode(e.slice(f,f+h));f=f+h;const N=e.slice(f,e.byteLength),y=u===this.JSON_ENCODING?JSON.parse(a.decode(N)):N,E={type:this.BROADCAST_EVENT,event:v,payload:y};return h>0&&(E.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class Zy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xn||(Xn={}));const vv=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,h)=>(o[h]=wS(h,t,e,i),o),{}):{}},wS=(t,e,n,a)=>{const i=e.find(u=>u.name===t),o=i?.type,h=n[t];return o&&!a.includes(o)?e5(o,h):k0(h)},e5=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return jS(e,n)}switch(t){case Xn.bool:return _S(e);case Xn.float4:case Xn.float8:case Xn.int2:case Xn.int4:case Xn.int8:case Xn.numeric:case Xn.oid:return NS(e);case Xn.json:case Xn.jsonb:return SS(e);case Xn.timestamp:return AS(e);case Xn.abstime:case Xn.date:case Xn.daterange:case Xn.int4range:case Xn.int8range:case Xn.money:case Xn.reltime:case Xn.text:case Xn.time:case Xn.timestamptz:case Xn.timetz:case Xn.tsrange:case Xn.tstzrange:return k0(e);default:return k0(e)}},k0=t=>t,_S=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},NS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},SS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},jS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let o;const h=t.slice(1,n);try{o=JSON.parse("["+h+"]")}catch{o=h?h.split(","):[]}return o.map(u=>e5(e,u))}return t},AS=t=>typeof t=="string"?t.replace(" ","T"):t,t5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ep{constructor(e,n,a={},i=j0){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bv||(bv={}));class Hd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:o,onLeave:h,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hd.syncState(this.state,i,o,h),this.pendingDiffs.forEach(f=>{this.state=Hd.syncDiff(this.state,f,o,h)}),this.pendingDiffs=[],u()}),this.channel._on(a.diff,{},i=>{const{onJoin:o,onLeave:h,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hd.syncDiff(this.state,i,o,h),u())}),this.onJoin((i,o,h)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:h})}),this.onLeave((i,o,h)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const o=this.cloneDeep(e),h=this.transformState(n),u={},f={};return this.map(o,(m,v)=>{h[m]||(f[m]=v)}),this.map(h,(m,v)=>{const x=o[m];if(x){const N=v.map(A=>A.presence_ref),y=x.map(A=>A.presence_ref),E=v.filter(A=>y.indexOf(A.presence_ref)<0),j=x.filter(A=>N.indexOf(A.presence_ref)<0);E.length>0&&(u[m]=E),j.length>0&&(f[m]=j)}else u[m]=v}),this.syncDiff(o,{joins:u,leaves:f},a,i)}static syncDiff(e,n,a,i){const{joins:o,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(o,(u,f)=>{var m;const v=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(f),v.length>0){const x=e[u].map(y=>y.presence_ref),N=v.filter(y=>x.indexOf(y.presence_ref)<0);e[u].unshift(...N)}a(u,v,f)}),this.map(h,(u,f)=>{let m=e[u];if(!m)return;const v=f.map(x=>x.presence_ref);m=m.filter(x=>v.indexOf(x.presence_ref)<0),e[u]=m,i(u,m,f),m.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yv||(yv={}));var Vd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vd||(Vd={}));var Fo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fo||(Fo={}));class zu{constructor(e,n={config:{}},a){var i,o;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ep(this,Ti.join,this.params,this.timeout),this.rejoinTimer=new Zy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zr.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ti.reply,{},(h,u)=>{this._trigger(this._replyEventName(u),h)}),this.presence=new Hd(this),this.broadcastEndpointURL=t5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Zr.closed){const{config:{broadcast:h,presence:u,private:f}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[Vd.PRESENCE]&&this.bindings[Vd.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},N={broadcast:h,presence:Object.assign(Object.assign({},u),{enabled:v}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Fo.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Fo.CLOSED)),this.updateJoinPayload(Object.assign({config:N},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(Fo.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,A=(E=j?.length)!==null&&E!==void 0?E:0,k=[];for(let I=0;I<A;I++){const P=j[I],{filter:{event:M,schema:ae,table:ee,filter:J}}=P,W=y&&y[I];if(W&&W.event===M&&zu.isFilterValueEqual(W.schema,ae)&&zu.isFilterValueEqual(W.table,ee)&&zu.isFilterValueEqual(W.filter,J))k.push(Object.assign(Object.assign({},P),{id:W.id}));else{this.unsubscribe(),this.state=Zr.errored,e?.(Fo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Fo.SUBSCRIBED);return}}).receive("error",y=>{this.state=Zr.errored,e?.(Fo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Fo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Zr.joined&&e===Vd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const m=await u.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:h}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var h,u,f;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(h=this.params)===null||h===void 0?void 0:h.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ti.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Ep(this,Ti.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zr.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,o=setTimeout(()=>i.abort(),a),h=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),h}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ep(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,o;const h=e.toLocaleLowerCase(),{close:u,error:f,leave:m,join:v}=Ti;if(a&&[u,f,m,v].indexOf(h)>=0&&a!==this._joinRef())return;let N=this._onMessage(h,n,a);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var E,j,A;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(j=y.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===h}).map(y=>y.callback(N,a)):(o=this.bindings[h])===null||o===void 0||o.filter(y=>{var E,j,A,k,I,P,M,ae;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in y){const ee=y.id,J=(E=y.filter)===null||E===void 0?void 0:E.event;return ee&&((j=n.ids)===null||j===void 0?void 0:j.includes(ee))&&(J==="*"||J?.toLocaleLowerCase()===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((k=y.filter)===null||k===void 0)&&k.table)||y.filter.table===((I=n.data)===null||I===void 0?void 0:I.table))}else{const ee=(M=(P=y?.filter)===null||P===void 0?void 0:P.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return ee==="*"||ee===((ae=n?.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===h}).map(y=>{if(typeof N=="object"&&"ids"in N){const E=N.data,{schema:j,table:A,commit_timestamp:k,type:I,errors:P}=E;N=Object.assign(Object.assign({},{schema:j,table:A,commit_timestamp:k,eventType:I,new:{},old:{},errors:P}),this._getPayloadRecords(E))}y.callback(N,a)})}_isClosed(){return this.state===Zr.closed}_isJoined(){return this.state===Zr.joined}_isJoining(){return this.state===Zr.joining}_isLeaving(){return this.state===Zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&zu.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ti.close,{},e)}_onError(e){this._on(Ti.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vv(e.columns,e.old_record)),n}}const Tp=()=>{},lf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kS=[1e3,2e3,5e3,1e4],CS=1e4,ES=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TS{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j0,this.transport=null,this.heartbeatIntervalMs=lf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tp,this.ref=0,this.reconnectTimer=null,this.vsn=gv,this.logger=Tp,this.conn=null,this.sendBuffer=[],this.serializer=new xS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${A0.websocket}`,this.httpEndpoint=t5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Rl.connecting:return _c.Connecting;case Rl.open:return _c.Open;case Rl.closing:return _c.Closing;default:return _c.Closed}}isConnected(){return this.connectionState()===_c.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===a);if(i)return i;{const o=new zu(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:a,payload:i,ref:o}=e,h=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${a} (${o})`,i),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},lf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:i,payload:o,ref:h}=n,u=h?`(${h})`:"",f=o.status||"";this.log("receive",`${f} ${a} ${i} ${u}`.trim(),o),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,o,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Rl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rl.open||this.conn.readyState===Rl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ti.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([ES],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:gS};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ti.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Zy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,o,h,u,f,m,v,x,N,y;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:j0,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:lf.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(h=e?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Tp,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:gv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(E=>kS[E-1]||CS),this.vsn){case Qy:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((E,j)=>j(JSON.stringify(E))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((E,j)=>j(JSON.parse(E)));break;case vS:this.encode=(N=e?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Zd=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OS(t,e,n){const a=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&a.searchParams.set(i,o);return a.toString()}async function LS(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function RS(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:i,body:o,headers:h}){const u=OS(t.baseUrl,a,i),f=await LS(t.auth),m=await e(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...h},body:o?JSON.stringify(o):void 0}),v=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),N=x&&v?JSON.parse(v):v;if(!m.ok){const y=x?N:void 0,E=y?.error;throw new Zd(E?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:E?.type,icebergCode:E?.code,details:y})}return{status:m.status,headers:m.headers,data:N}}}}function cf(t){return t.join("")}var MS=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:cf(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cf(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cf(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cf(t.namespace)}`}),!0}catch(e){if(e instanceof Zd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Zd&&n.status===409)return;throw n}}};function Nu(t){return t.join("")}var DS=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Zd&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Zd&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},PS=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=RS({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new MS(this.client,e),this.tableOps=new DS(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},tm=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function gr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var IS=class extends tm{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},C0=class extends tm{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const cg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BS=()=>Response,E0=t=>{if(Array.isArray(t))return t.map(n=>E0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=E0(a)}),e},US=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zS=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function FS(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(eh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qS(t){var e=FS(t,"string");return eh(e)=="symbol"?e:e+""}function HS(t,e,n){return(e=qS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(n),!0).forEach(function(a){HS(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const Op=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VS=async(t,e,n)=>{t instanceof await BS()&&!n?.noResolveJson?t.json().then(a=>{const i=t.status||500,o=a?.statusCode||i+"";e(new IS(Op(a),i,o))}).catch(a=>{e(new C0(Op(a),a))}):e(new C0(Op(t),t))},GS=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(US(a)?(i.headers=Bt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Bt(Bt({},i),n))};async function lh(t,e,n,a,i,o){return new Promise((h,u)=>{t(n,GS(e,a,i,o)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>h(f)).catch(f=>VS(f,u,a))})}async function th(t,e,n,a){return lh(t,"GET",e,n,a)}async function Ei(t,e,n,a,i){return lh(t,"POST",e,a,i,n)}async function T0(t,e,n,a,i){return lh(t,"PUT",e,a,i,n)}async function $S(t,e,n,a){return lh(t,"HEAD",e,Bt(Bt({},n),{},{noResolveJson:!0}),a)}async function ug(t,e,n,a,i){return lh(t,"DELETE",e,a,i,n)}var WS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(gr(e))return{data:null,error:e};throw e}}};let n5;n5=Symbol.toStringTag;var YS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[n5]="BlobDownloadBuilder",this.promise=null}asStream(){return new WS(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(gr(e))return{data:null,error:e};throw e}}};const KS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XS=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=cg(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,a){var i=this;try{let o;const h=Bt(Bt({},wv),a);let u=Bt(Bt({},i.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const f=h.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",h.cacheControl),f&&o.append("metadata",i.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",h.cacheControl),f&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(f))):(o=n,u["cache-control"]=`max-age=${h.cacheControl}`,u["content-type"]=h.contentType,f&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!h.duplex&&(h.duplex="half")),a?.headers&&(u=Bt(Bt({},u),a.headers));const m=i._removeEmptyFolders(e),v=i._getFinalPath(m),x=await(t=="PUT"?T0:Ei)(i.fetch,`${i.url}/object/${v}`,o,Bt({headers:u},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(gr(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,a){var i=this;const o=i._removeEmptyFolders(t),h=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${h}`);u.searchParams.set("token",e);try{let f;const m=Bt({upsert:wv.upsert},a),v=Bt(Bt({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{data:{path:o,fullPath:(await T0(i.fetch,u.toString(),f,{headers:v})).Key},error:null}}catch(f){if(i.shouldThrowOnError)throw f;if(gr(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let a=n._getFinalPath(t);const i=Bt({},n.headers);e?.upsert&&(i["x-upsert"]="true");const o=await Ei(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:i}),h=new URL(n.url+o.url),u=h.searchParams.get("token");if(!u)throw new tm("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:u},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var a=this;try{return{data:await Ei(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}}async copy(t,e,n){var a=this;try{return{data:{path:(await Ei(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var a=this;try{let i=a._getFinalPath(t),o=await Ei(a.fetch,`${a.url}/object/sign/${i}`,Bt({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const h=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${a.url}${o.signedURL}${h}`)},{data:o,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var a=this;try{const i=await Ei(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(h=>Bt(Bt({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${o}`):null})),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),i=a?`?${a}`:"",o=this._getFinalPath(t),h=()=>th(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new YS(h,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:E0(await th(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await $S(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(gr(a)&&a instanceof C0){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const n=this._getFinalPath(t),a=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&a.push(i);const o=typeof e?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(e?.transform||{});h!==""&&a.push(h);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await ug(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async list(t,e,n){var a=this;try{const i=Bt(Bt(Bt({},KS),e),{},{prefix:t||""});return{data:await Ei(a.fetch,`${a.url}/object/list/${a.bucketId}`,i,{headers:a.headers},n),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const a=Bt({},t);return{data:await Ei(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const r5="2.90.1",a5={"X-Client-Info":`storage-js/${r5}`};var JS=class{constructor(t,e={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Bt(Bt({},a5),e),this.fetch=cg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await th(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await th(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ei(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async updateBucket(t,e){var n=this;try{return{data:await T0(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async emptyBucket(t){var e=this;try{return{data:await Ei(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ug(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},QS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Bt(Bt({},a5),e),this.fetch=cg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ei(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),i=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await th(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ug(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!zS(t))throw new tm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new PS({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const h=i[o];return typeof h!="function"?h:async(...u)=>{try{return{data:await h.apply(i,u),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}};const dg={"X-Client-Info":`storage-js/${r5}`,"Content-Type":"application/json"};var s5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Cs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Lp=class extends s5{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ZS=class extends s5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const hg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),e6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_v=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),t6=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const h=o?.statusCode||o?.code||a+"";e(new Lp(_v(o),a,h))}).catch(()=>{const o=a+"";e(new Lp(i.statusText||`HTTP ${a} error`,a,o))});else{const o=a+"";e(new Lp(i.statusText||`HTTP ${a} error`,a,o))}}else e(new ZS(_v(t),t))},n6=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return a?(e6(a)?(i.headers=Bt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,Bt(Bt({},i),n)):i};async function r6(t,e,n,a,i,o){return new Promise((h,u)=>{t(n,n6(e,a,i,o)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>h(f)).catch(f=>t6(f,u,a))})}async function Es(t,e,n,a,i){return r6(t,"POST",e,a,i,n)}var a6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Bt(Bt({},dg),e),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Es(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Cs(a))return{data:null,error:a};throw a}}async listIndexes(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Es(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Cs(a))return{data:null,error:a};throw a}}},s6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Bt(Bt({},dg),e),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Es(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Es(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Es(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}},i6=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Bt(Bt({},dg),e),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Es(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Es(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n))return{data:null,error:n};throw n}}},o6=class extends i6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new l6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},l6=class extends a6{constructor(t,e,n,a){super(t,e,a),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new c6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},c6=class extends s6{constructor(t,e,n,a,i){super(t,e,i),this.vectorBucketName=n,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Bt(Bt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},u6=class extends JS{constructor(t,e={},n,a){super(t,e,n,a)}from(t){return new XS(this.url,this.headers,t,this.fetch)}get vectors(){return new o6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QS(this.url+"/iceberg",this.headers,this.fetch)}};const i5="2.90.1",Du=30*1e3,O0=3,Rp=O0*Du,d6="http://localhost:9999",h6="supabase.auth.token",f6={"X-Client-Info":`gotrue-js/${i5}`},L0="X-Supabase-Api-Version",o5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p6=600*1e3;class nh extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class g6 extends nh{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function v6(t){return _t(t)&&t.name==="AuthApiError"}class Nc extends nh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yo extends nh{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class ks extends Yo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function b6(t){return _t(t)&&t.name==="AuthSessionMissingError"}class Su extends Yo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uf extends Yo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class df extends Yo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y6(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nv extends Yo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x6 extends Yo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class R0 extends Yo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Mp(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class Sv extends Yo{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class M0 extends Yo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jv=` 	
\r=`.split(""),w6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jv.length;e+=1)t[jv[e].charCodeAt(0)]=-2;for(let e=0;e<zf.length;e+=1)t[zf[e].charCodeAt(0)]=e;return t})();function Av(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(zf[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(zf[a]),e.queuedBits-=6}}function l5(t,e,n){const a=w6[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kv(t){const e=[],n=h=>{e.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=h=>{S6(h,a,n)};for(let h=0;h<t.length;h+=1)l5(t.charCodeAt(h),i,o);return e.join("")}function _6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function N6(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}_6(a,e)}}function S6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Vu(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)l5(t.charCodeAt(i),n,a);return new Uint8Array(e)}function j6(t){const e=[];return N6(t,n=>e.push(n)),new Uint8Array(e)}function jc(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>Av(i,n,a)),Av(null,n,a),e.join("")}function A6(t){return Math.round(Date.now()/1e3)+t}function k6(){return Symbol("auth-callback")}const wa=()=>typeof window<"u"&&typeof document<"u",gc={tested:!1,writable:!1},c5=()=>{if(!wa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gc.tested)return gc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gc.tested=!0,gc.writable=!0}catch{gc.tested=!0,gc.writable=!1}return gc.writable};function C6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const u5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ya=async(t,e)=>{await t.removeItem(e)};class nm{constructor(){this.promise=new nm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}nm.promiseConstructor=Promise;function Dp(t){const e=t.split(".");if(e.length!==3)throw new M0("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!m6.test(e[a]))throw new M0("JWT not in base64url format");return{header:JSON.parse(kv(e[0])),payload:JSON.parse(kv(e[1])),signature:Vu(e[2]),raw:{header:e[0],payload:e[1]}}}async function T6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function O6(t,e){return new Promise((a,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const h=await t(o);if(!e(o,null,h)){a(h);return}}catch(h){if(!e(o,h)){i(h);return}}})()})}function L6(t){return("0"+t.toString(16)).substr(-2)}function R6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,L6).join("")}async function M6(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function D6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await M6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ju(t,e,n=!1){const a=R6();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Pu(t,`${e}-code-verifier`,i);const o=await D6(a);return[o,a===o?"plain":"s256"]}const P6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I6(t){const e=t.headers.get(L0);if(!e||!e.match(P6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function B6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function U6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Au(t){if(!z6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F6(t,e){return new Proxy(t,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,i)}})}function Cv(t){return JSON.parse(JSON.stringify(t))}const yc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q6=[502,503,504];async function Ev(t){var e;if(!E6(t))throw new R0(yc(t),0);if(q6.includes(t.status))throw new R0(yc(t),t.status);let n;try{n=await t.json()}catch(o){throw new Nc(yc(o),o)}let a;const i=I6(t);if(i&&i.getTime()>=o5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Sv(yc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ks}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,h)=>o&&typeof h=="string",!0))throw new Sv(yc(n),t.status,n.weak_password.reasons);throw new g6(yc(n),t.status||500,a)}const H6=(t,e,n,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function It(t,e,n,a){var i;const o=Object.assign({},a?.headers);o[L0]||(o[L0]=o5["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const h=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const u=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",f=await V6(t,e,n+u,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function V6(t,e,n,a,i,o){const h=H6(e,a,i,o);let u;try{u=await t(n,Object.assign({},h))}catch(f){throw console.error(f),new R0(yc(f),0)}if(u.ok||await Ev(u),a?.noResolveJson)return u;try{return await u.json()}catch(f){await Ev(f)}}function ki(t){var e;let n=null;W6(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=A6(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function Tv(t){const e=ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ml(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G6(t){return{data:t,error:null}}function $6(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:o}=t,h=em(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:o},f=Object.assign({},h);return{data:{properties:u,user:f},error:null}}function Ov(t){return t}function W6(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ip=["global","local","others"];class Y6{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=u5(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ip[0]){if(Ip.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ip.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ml})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=em(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$6,redirectTo:n?.redirectTo})}catch(n){if(_t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ml})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,o,h,u,f;try{const m={nextPage:null,lastPage:0,total:0},v=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ov});if(v.error)throw v.error;const x=await v.json(),N=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,y=(f=(u=v.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(E=>{const j=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);m[`${A}Page`]=j}),m.total=parseInt(N)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(_t(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Au(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ml})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Au(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ml})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Au(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ml})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Au(e.userId);try{const{data:n,error:a}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Au(e.userId),Au(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,o,h,u,f;try{const m={nextPage:null,lastPage:0,total:0},v=await It(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ov});if(v.error)throw v.error;const x=await v.json(),N=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,y=(f=(u=v.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(E=>{const j=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);m[`${A}Page`]=j}),m.total=parseInt(N)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(_t(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await It(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await It(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await It(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}}function Lv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ku={debug:!!(globalThis&&c5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class K6 extends d5{}async function X6(t,e,n){ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ku.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new K6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ku.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function J6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Q6(t){return parseInt(t,16)}function Z6(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function ej(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:o=new Date,nonce:h,notBefore:u,requestId:f,resources:m,scheme:v,uri:x,version:N}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=h5(t.address),E=v?`${v}://${a}`:a,j=t.statement?`${t.statement}
`:"",A=`${E} wants you to sign in with your Ethereum account:
${y}

${j}`;let k=`URI: ${x}
Version: ${N}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),f&&(k+=`
Request ID: ${f}`),m){let I=`
Resources:`;for(const P of m){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);I+=`
- ${P}`}k+=I}return`${A}
${k}`}class Fr extends Error{constructor({message:e,code:n,cause:a,name:i}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=i??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ff extends Fr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function tj({error:t,options:e}){var n,a,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Fr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Fr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Fr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Fr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const h=window.location.hostname;if(f5(h)){if(o.rp.id!==h)return new Fr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Fr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Fr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function nj({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(f5(a)){if(n.rpId!==a)return new Fr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Fr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class rj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const aj=new rj;function sj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=em(t,["challenge","user","excludeCredentials"]),o=Vu(e).buffer,h=Object.assign(Object.assign({},n),{id:Vu(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:h});if(a&&a.length>0){u.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const m=a[f];u.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Vu(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function ij(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=em(t,["challenge","allowCredentials"]),i=Vu(e).buffer,o=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const u=n[h];o.allowCredentials[h]=Object.assign(Object.assign({},u),{id:Vu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function oj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:jc(new Uint8Array(t.response.attestationObject)),clientDataJSON:jc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:jc(new Uint8Array(i.authenticatorData)),clientDataJSON:jc(new Uint8Array(i.clientDataJSON)),signature:jc(new Uint8Array(i.signature)),userHandle:i.userHandle?jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rv(){var t,e;return!!(wa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ff("Browser returned unexpected credential type",e)}:{data:null,error:new Ff("Empty credential response",e)}}catch(e){return{data:null,error:tj({error:e,options:t})}}}async function uj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ff("Browser returned unexpected credential type",e)}:{data:null,error:new Ff("Empty credential response",e)}}catch(e){return{data:null,error:nj({error:e,options:t})}}}const dj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const o in i){const h=i[o];if(h!==void 0)if(Array.isArray(h))a[o]=h;else if(n(h))a[o]=h;else if(e(h)){const u=a[o];e(u)?a[o]=qf(u,h):a[o]=qf(h)}else a[o]=h}return a}function fj(t,e){return qf(dj,t,e||{})}function mj(t,e){return qf(hj,t,e||{})}class pj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},o){try{const{data:h,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!h)return{data:null,error:u};const f=i??aj.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:m}=h.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(h.webauthn.type){case"create":{const m=fj(h.webauthn.credential_options.publicKey,o?.create),{data:v,error:x}=await cj({publicKey:m,signal:f});return v?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const m=mj(h.webauthn.credential_options.publicKey,o?.request),{data:v,error:x}=await uj(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m,signal:f}));return v?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(h){return _t(h)?{data:null,error:h}:{data:null,error:new Nc("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nh("rpId is required for WebAuthn authentication")};try{if(!Rv())return{data:null,error:new Nc("Browser does not support WebAuthn",null)};const{data:h,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:o});if(!h)return{data:null,error:u};const{webauthn:f}=h;return this._verify({factorId:e,challengeId:h.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(h){return _t(h)?{data:null,error:h}:{data:null,error:new Nc("Unexpected error in authenticate",h)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nh("rpId is required for WebAuthn registration")};try{if(!Rv())return{data:null,error:new Nc("Browser does not support WebAuthn",null)};const{data:h,error:u}=await this._enroll({friendlyName:e});if(!h)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===e&&N.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:u};const{data:f,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:o});return f?this._verify({factorId:h.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(h){return _t(h)?{data:null,error:h}:{data:null,error:new Nc("Unexpected error in register",h)}}}}J6();const gj={url:d6,storageKey:h6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mv(t,e,n){return await n()}const Cu={};class rh{get jwks(){var e,n;return(n=(e=Cu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Cu[this.storageKey]=Object.assign(Object.assign({},Cu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Cu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cu[this.storageKey]=Object.assign(Object.assign({},Cu[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},gj),e);if(this.storageKey=o.storageKey,this.instanceID=(n=rh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&wa()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Y6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=u5(o.fetch),this.lock=o.lock||Mv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&wa()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=X6:this.lock=Mv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:c5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),wa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${i5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(wa()&&(n=C6(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),wa()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),y6(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:h,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",h,"redirect type",u),await this._saveSession(h),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _t(n)?this._returnResult({error:n}):this._returnResult({error:new Nc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const o=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ki}),{data:h,error:u}=o;if(u||!h)return this._returnResult({data:{user:null,session:null},error:u});const f=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,a,i;try{let o;if("email"in e){const{email:v,password:x,options:N}=e;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await ju(this.storage,this.storageKey)),o=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:v,password:x,data:(n=N?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:y,code_challenge_method:E},xform:ki})}else if("phone"in e){const{phone:v,password:x,options:N}=e;o=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(a=N?.data)!==null&&a!==void 0?a:{},channel:(i=N?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:ki})}else throw new uf("You must provide either an email or phone number and a password");const{data:h,error:u}=o;if(u||!h)return await ya(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:h,options:u}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:h,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Tv})}else if("phone"in e){const{phone:o,password:h,options:u}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:h,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Tv})}else throw new uf("You must provide either an email or phone number and a password");const{data:a,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const o=new Su;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,o,h,u,f,m,v,x,N;let y,E;if("message"in e)y=e.message,E=e.signature;else{const{chain:j,wallet:A,statement:k,options:I}=e;let P;if(wa())if(typeof A=="object")P=A;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")P=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const M=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href),ae=await P.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=h5(ae[0]);let J=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!J){const Y=await P.request({method:"eth_chainId"});J=Q6(Y)}const W={domain:M.host,address:ee,statement:k,uri:M.href,version:"1",chainId:J,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(h=(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=I?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=I?.signInWithEthereum)===null||v===void 0?void 0:v.resources};y=ej(W),E=await P.request({method:"personal_sign",params:[Z6(y),ee]})}try{const{data:j,error:A}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ki});if(A)throw A;if(!j||!j.session||!j.user){const k=new Su;return this._returnResult({data:{user:null,session:null},error:k})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(_t(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(e){var n,a,i,o,h,u,f,m,v,x,N,y;let E,j;if("message"in e)E=e.message,j=e.signature;else{const{chain:A,wallet:k,statement:I,options:P}=e;let M;if(wa())if(typeof k=="object")M=k;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))M=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const ae=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const ee=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),I?{statement:I}:null));let J;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")J=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)J=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)E=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),j=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${ae.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(i=(a=P?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=P?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((m=P?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((x=(v=P?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...P.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ee=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=ee}}try{const{data:A,error:k}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:jc(j)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ki});if(k)throw k;if(!A||!A.session||!A.user){const I=new Su;return this._returnResult({data:{user:null,session:null},error:I})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:k})}catch(A){if(_t(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const n=await vc(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new x6;const{data:o,error:h}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ki});if(await ya(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!o||!o.session||!o.user){const u=new Su;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:h})}catch(o){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:o,nonce:h}=e,u=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:o,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ki}),{data:f,error:m}=u;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const v=new Su;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,i,o,h;try{if("email"in e){const{email:u,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ju(this.storage,this.storageKey));const{error:x}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:u,options:f}=e,{data:m,error:v}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(h=f?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new uf("You must provide either an email or phone number.")}catch(u){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,a;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:u}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ki});if(u)throw u;if(!h)throw new Error("An error occurred on token verification.");const f=h.session,m=h.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,a,i,o,h;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ju(this.storage,this.storageKey));const m=await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:G6});return!((o=m.data)===null||o===void 0)&&o.url&&wa()&&!(!((h=e.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(u){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new ks;const{error:i}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:o}=e,{error:h}=await It(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in e){const{phone:a,type:i,options:o}=e,{data:h,error:u}=await It(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:u})}throw new uf("You must provide either an email or phone number and a type")}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Rp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const h=await vc(this.userStorage,this.storageKey+"-user");h?.user?e.user=h.user:e.user=Pp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};e.user=F6(e.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ml}):await this._useSession(async n=>{var a,i,o;const{data:h,error:u}=n;if(u)throw u;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ks}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=h.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ml})})}catch(n){if(_t(n))return b6(n)&&(await this._removeSession(),await ya(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:o}=a;if(o)throw o;if(!i.session)throw new ks;const h=i.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await ju(this.storage,this.storageKey));const{data:m,error:v}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:h.access_token,xform:Ml});if(v)throw v;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ks;const n=Date.now()/1e3;let a=n,i=!0,o=null;const{payload:h}=Dp(e.access_token);if(h.exp&&(a=h.exp,i=a<=n),i){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:h,error:u}=n;if(u)throw u;e=(a=h.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new ks;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wa())throw new df("No browser detected.");if(e.error||e.error_description||e.error_code)throw new df(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new df("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nv("No code detected.");const{data:I,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:o,refresh_token:h,expires_in:u,expires_at:f,token_type:m}=e;if(!o||!u||!h||!m)throw new df("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(u);let N=v+x;f&&(N=parseInt(f));const y=N-v;y*1e3<=Du&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${x}s`);const E=N-x;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,N,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,N,v);const{data:j,error:A}=await this._getUser(o);if(A)throw A;const k={provider_token:a,provider_refresh_token:i,access_token:o,expires_in:x,expires_at:N,refresh_token:h,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(a){if(_t(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const h=(a=i.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:u}=await this.admin.signOut(h,e);if(u&&!(v6(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await ya(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=k6(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:o},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await ju(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async o=>{var h,u,f,m,v;const{data:x,error:N}=o;if(N)throw N;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",y,{headers:this.headers,jwt:(v=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return wa()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(_t(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:h,provider:u,token:f,access_token:m,nonce:v}=e,x=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:u,id_token:f,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ki}),{data:N,error:y}=x;return y?this._returnResult({data:{user:null,session:null},error:y}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Su}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:y}))}catch(i){if(await ya(this.storage,`${this.storageKey}-code-verifier`),_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:o,error:h}=n;if(h)throw h;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await O6(async i=>(i>0&&await T6(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(i,o)=>{const h=200*Math.pow(2,i);return o&&Mp(o)&&Date.now()+h-a<Du})}catch(a){if(this._debug(n,"error",a),_t(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),wa()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await vc(this.storage,this.storageKey);if(i&&this.userStorage){let h=await vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:i.user},await Pu(this.userStorage,this.storageKey+"-user",h)),i.user=(e=h?.user)!==null&&e!==void 0?e:Pp()}else if(i&&!i.user&&!i.user){const h=await vc(this.storage,this.storageKey+"-user");h&&h?.user?(i.user=h.user,await ya(this.storage,this.storageKey+"-user"),await Pu(this.storage,this.storageKey,i)):i.user=Pp()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rp;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Rp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:h}=await this._callRefreshToken(i.refresh_token);h&&(console.error(h),Mp(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:u}=await this._getUser(i.access_token);!u&&h?.user?(i.user=h.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nm;const{data:o,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!o.session)throw new ks;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),_t(o)){const h={data:null,error:o};return Mp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],h=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(h),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ya(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Pu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Cv(i);await Pu(this.storage,this.storageKey,o)}else{const i=Cv(n);await Pu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ya(this.storage,this.storageKey),await ya(this.storage,this.storageKey+"-code-verifier"),await ya(this.storage,this.storageKey+"-user"),this.userStorage&&await ya(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wa()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Du);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Du);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Du}ms, refresh threshold is ${O0} ticks`),i<=O0&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof d5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wa()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,h]=await ju(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(h)}`});i.push(u.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);i.push(o.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:o,error:h}=n;if(h)return this._returnResult({data:null,error:h});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await It(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const h=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?oj(e.webauthn.credential_response):lj(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const h=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:u}=h;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:sj(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ij(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Dp(a.access_token);let h=null;o.aal&&(h=o.aal);let u=h;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const m=o.amr||[];return{data:{currentLevel:h,nextLevel:u,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?await It(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ks})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new ks});const h=await It(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return h.data&&h.data.redirect_url&&wa()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new ks});const h=await It(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return h.data&&h.data.redirect_url&&wa()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await It(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ks})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?(await It(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ks})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(u=>u.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(u=>u.kid===e),a&&this.jwks_cached_at+p6>i)return a;const{data:o,error:h}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,a=o.keys.find(u=>u.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:y,error:E}=await this.getSession();if(E||!y.session)return this._returnResult({data:null,error:E});a=y.session.access_token}const{header:i,payload:o,signature:h,raw:{header:u,payload:f}}=Dp(a);n?.allowExpired||B6(o.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:o,header:i,signature:h},error:null}}const v=U6(i.alg),x=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,h,j6(`${u}.${f}`)))throw new M0("Invalid JWT signature");return{data:{claims:o,header:i,signature:h},error:null}}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}}rh.nextInstanceID={};const vj=rh,bj="2.90.1";let qd="";typeof Deno<"u"?qd="deno":typeof document<"u"?qd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qd="react-native":qd="node";const yj={"X-Client-Info":`supabase-js-${qd}/${bj}`},xj={headers:yj},wj={schema:"public"},_j={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nj={};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Sj(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(ah(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jj(t){var e=Sj(t,"string");return ah(e)=="symbol"?e:e+""}function Aj(t,e,n){return(e=jj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dv(Object(n),!0).forEach(function(a){Aj(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const kj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Cj=()=>Headers,Ej=(t,e,n)=>{const a=kj(n),i=Cj();return async(o,h)=>{var u;const f=(u=await e())!==null&&u!==void 0?u:t;let m=new i(h?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),a(o,Ar(Ar({},h),{},{headers:m}))}};function Tj(t){return t.endsWith("/")?t:t+"/"}function Oj(t,e){var n,a;const{db:i,auth:o,realtime:h,global:u}=t,{db:f,auth:m,realtime:v,global:x}=e,N={db:Ar(Ar({},f),i),auth:Ar(Ar({},m),o),realtime:Ar(Ar({},v),h),storage:{},global:Ar(Ar(Ar({},x),u),{},{headers:Ar(Ar({},(n=x?.headers)!==null&&n!==void 0?n:{}),(a=u?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}function Lj(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Rj=class extends vj{constructor(t){super(t)}},Mj=class{constructor(t,e,n){var a,i;this.supabaseUrl=t,this.supabaseKey=e;const o=Lj(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const h=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:wj,realtime:Nj,auth:Ar(Ar({},_j),{},{storageKey:h}),global:xj},f=Oj(n??{},u);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=Ej(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Ar({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new fS(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new u6(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new lS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:h,lock:u,debug:f,throwOnError:m},v,x){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rj({url:this.authUrl.href,headers:Ar(Ar({},N),v),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:i,flowType:h,lock:u,debug:f,throwOnError:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new TS(this.realtimeUrl.href,Ar(Ar({},t),{},{params:Ar(Ar({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Dj=(t,e,n)=>new Mj(t,e,n);function Pj(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Pj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ij="https://uwobjrgouqtkawgcvabr.supabase.co",m5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3b2JqcmdvdXF0a2F3Z2N2YWJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2MTc1NjEsImV4cCI6MjA4NDE5MzU2MX0.zpqMrZXNy_Z2zO-_Cwu0bQX-o6g-ow3dhJXXz6lfTW8",Fa=()=>!!m5;let p5=null;Fa()&&(p5=Dj(Ij,m5,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}));const on=p5,g5={basic:1,pro:2,enterprise:1/0};async function v5(t){if(!Fa())return[{id:"demo-fridge-1",site_id:t,name:"Main Fridge",sort_order:0,min_temp:0,max_temp:5,active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];const{data:e,error:n}=await on.from("fridges").select("*").eq("site_id",t).eq("active",!0).order("sort_order",{ascending:!0});if(n)throw n;return e||[]}async function Bj(t,e){if(!Fa())throw new Error("Database not configured");const{data:n}=await on.from("fridges").select("id").eq("site_id",t).eq("active",!0),a=n?.length||0,{data:i,error:o}=await on.from("fridges").insert({site_id:t,name:e,sort_order:a}).select().single();if(o)throw o;return i}async function Uj(t,e){if(!Fa())throw new Error("Database not configured");const{data:n,error:a}=await on.from("fridges").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return n}async function zj(t){if(!Fa())throw new Error("Database not configured");const{error:e}=await on.from("fridges").update({active:!1}).eq("id",t);if(e)throw e}async function Fj(t){if(!Fa())return{id:`demo-log-${Date.now()}`,site_id:t.site_id,fridge_id:t.fridge_id,temperature:t.temperature,recorded_by:t.recorded_by||null,recorded_by_name:t.recorded_by_name||null,notes:t.notes||null,is_compliant:t.temperature>=0&&t.temperature<=5,created_at:new Date().toISOString()};const{data:e,error:n}=await on.from("fridge_temp_logs").insert(t).select().single();if(n)throw n;return e}function qj({isOpen:t,onClose:e,onSuccess:n}){const{currentSite:a,settings:i,staffMembers:o}=qa(),[h,u]=Ee.useState([]),[f,m]=Ee.useState(0),[v,x]=Ee.useState(""),[N,y]=Ee.useState(!1),[E,j]=Ee.useState(!1),A=g5[i.subscriptionTier]||1;Ee.useEffect(()=>{t&&a?.id&&k()},[t,a?.id]);const k=async()=>{if(a?.id)try{const q=await v5(a.id);u(q.slice(0,A))}catch(q){console.error("Failed to load fridges:",q),u([{id:"demo-fridge-1",site_id:a.id,name:"Main Fridge",sort_order:0,min_temp:0,max_temp:5,active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])}},I=h[f],P=v?parseFloat(v):null,M=P!==null&&P>=0&&P<=5,ae=P!==null&&(P<0||P>5),ee=Ee.useCallback(q=>{if(!(v.length>=4))if(q==="."){if(v.includes("."))return;x(Q=>Q+".")}else if(q==="-"){if(v.length>0)return;x("-")}else{if(v.includes(".")){const[,Q]=v.split(".");if(Q&&Q.length>=1)return}x(Q=>Q+q)}},[v]),J=Ee.useCallback(()=>{x(q=>q.slice(0,-1))},[]),W=Ee.useCallback(()=>{x("")},[]),Y=async()=>{if(!(!a?.id||!I||P===null)){y(!0);try{await Fj({site_id:a.id,fridge_id:I.id,temperature:P,recorded_by_name:o[0]?.name||void 0}),j(!0),xt.success(`${I.name}: ${P}C logged`),h.length>1&&f<h.length-1?setTimeout(()=>{m(q=>q+1),x(""),j(!1)},800):setTimeout(()=>{j(!1),x(""),m(0),n?.(),e()},1e3)}catch(q){console.error("Failed to log temperature:",q),xt.error("Failed to log temperature")}finally{y(!1)}}},he=()=>{f>0&&(m(q=>q-1),x(""))},D=()=>{f<h.length-1&&(m(q=>q+1),x(""))};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"w-full max-w-md mx-4 bg-theme-card rounded-3xl shadow-2xl overflow-hidden border border-theme-primary",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-theme-primary",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:Ie("p-2 rounded-xl",M?"bg-emerald-500/20 text-emerald-400":ae?"bg-red-500/20 text-red-400":"bg-sky-500/20 text-sky-400"),children:c.jsx(Js,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-theme-primary",children:"Log Fridge Temp"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"FSAI SC1 Compliance"})]})]}),c.jsx("button",{onClick:e,className:"p-2 text-theme-muted hover:text-theme-primary hover:bg-theme-ghost rounded-xl transition-colors",children:c.jsx(Ec,{className:"w-6 h-6"})})]}),h.length>1&&c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-theme-secondary",children:[c.jsx("button",{onClick:he,disabled:f===0,className:"p-2 rounded-xl disabled:opacity-30 hover:bg-theme-ghost transition-colors",children:c.jsx(f3,{className:"w-5 h-5 text-theme-secondary"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm font-semibold text-theme-primary",children:I?.name}),c.jsxs("p",{className:"text-xs text-theme-muted",children:[f+1," of ",h.length]})]}),c.jsx("button",{onClick:D,disabled:f===h.length-1,className:"p-2 rounded-xl disabled:opacity-30 hover:bg-theme-ghost transition-colors",children:c.jsx(p3,{className:"w-5 h-5 text-theme-secondary"})})]}),h.length===1&&I&&c.jsx("div",{className:"px-4 py-3 bg-theme-secondary text-center",children:c.jsx("p",{className:"text-sm font-semibold text-theme-primary",children:I.name})}),c.jsxs("div",{className:"p-6 flex flex-col items-center",children:[c.jsx("div",{className:Ie("w-full py-6 px-4 rounded-2xl text-center transition-colors",E?"bg-emerald-500/20 border-2 border-emerald-500":ae?"bg-red-500/10 border-2 border-red-500":M?"bg-emerald-500/10 border-2 border-emerald-500/50":"bg-theme-secondary border-2 border-theme-primary"),children:E?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ks,{className:"w-12 h-12 text-emerald-400"}),c.jsx("span",{className:"text-lg text-emerald-400 font-semibold",children:"Logged!"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-5xl font-bold text-theme-primary font-mono min-h-[60px]",children:[v||c.jsx("span",{className:"text-theme-muted",children:""}),v&&c.jsx("span",{className:"text-3xl ml-1 text-theme-muted",children:"C"})]}),ae&&c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-red-400",children:[c.jsx(ea,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Out of range (0-5C)"})]}),M&&P!==null&&c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-emerald-400",children:[c.jsx(Ks,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Compliant"})]})]})}),c.jsx("div",{className:"mt-3 text-xs text-theme-muted text-center",children:"Target range: 0C to 5C"})]}),c.jsxs("div",{className:"px-4 pb-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[["7","8","9","4","5","6","1","2","3"].map(q=>c.jsx("button",{onClick:()=>ee(q),className:"h-16 text-2xl font-bold bg-theme-ghost hover:bg-theme-secondary active:bg-theme-input text-theme-primary rounded-xl transition-colors border border-theme-primary",children:q},q)),c.jsx("button",{onClick:()=>ee("-"),className:"h-16 text-2xl font-bold bg-theme-ghost hover:bg-theme-secondary active:bg-theme-input text-theme-primary rounded-xl transition-colors border border-theme-primary",children:""}),c.jsx("button",{onClick:()=>ee("0"),className:"h-16 text-2xl font-bold bg-theme-ghost hover:bg-theme-secondary active:bg-theme-input text-theme-primary rounded-xl transition-colors border border-theme-primary",children:"0"}),c.jsx("button",{onClick:()=>ee("."),className:"h-16 text-2xl font-bold bg-theme-ghost hover:bg-theme-secondary active:bg-theme-input text-theme-primary rounded-xl transition-colors border border-theme-primary",children:"."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[c.jsx("button",{onClick:W,className:"h-12 text-sm font-semibold bg-theme-secondary hover:bg-theme-ghost text-theme-secondary rounded-xl transition-colors border border-theme-primary",children:"Clear"}),c.jsx("button",{onClick:J,className:"h-12 flex items-center justify-center bg-theme-secondary hover:bg-theme-ghost text-theme-secondary rounded-xl transition-colors border border-theme-primary",children:c.jsx(k3,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"p-4 pt-0",children:c.jsx("button",{onClick:Y,disabled:P===null||N||E,className:Ie("w-full py-4 rounded-xl font-bold text-lg transition-all",P!==null&&!N?"bg-emerald-500 hover:bg-emerald-400 active:bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-theme-ghost text-theme-muted cursor-not-allowed"),children:N?"Saving...":"Log Temperature"})})]})}):null}const xa=[];for(let t=0;t<256;++t)xa.push((t+256).toString(16).slice(1));function Hj(t,e=0){return(xa[t[e+0]]+xa[t[e+1]]+xa[t[e+2]]+xa[t[e+3]]+"-"+xa[t[e+4]]+xa[t[e+5]]+"-"+xa[t[e+6]]+xa[t[e+7]]+"-"+xa[t[e+8]]+xa[t[e+9]]+"-"+xa[t[e+10]]+xa[t[e+11]]+xa[t[e+12]]+xa[t[e+13]]+xa[t[e+14]]+xa[t[e+15]]).toLowerCase()}let Bp;const Vj=new Uint8Array(16);function Gj(){if(!Bp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bp=crypto.getRandomValues.bind(crypto)}return Bp(Vj)}const $j=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Pv={randomUUID:$j};function Wj(t,e,n){t=t||{};const a=t.random??t.rng?.()??Gj();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Hj(a)}function fg(t,e,n){return Pv.randomUUID&&!t?Pv.randomUUID():Wj(t)}function Yj(t,e,n,a){const i=new Date,o=new Date(i.getTime()+Uf.SOFT_LIMIT_MINUTES*60*1e3),h=new Date(i.getTime()+Uf.HARD_LIMIT_MINUTES*60*1e3);return{id:fg(),item_name:t,item_category:e,started_at:i.toISOString(),soft_due_at:o.toISOString(),hard_due_at:h.toISOString(),status:"active",site_id:n,created_by:a,synced:!1}}function hf(t,e,n,a={}){return{id:fg(),session_id:t,site_id:e,event_type:n,timestamp:new Date().toISOString(),payload:a,synced:!1}}function Iv(t,e,n){const a=e==="warning"?` ${n} cooling for 90 minutes - check soon!`:` ${n} OVERDUE - action required NOW!`;return{id:fg(),session_id:t,type:e,message:a,triggered_at:new Date().toISOString(),acknowledged:!1}}async function ff(t){if(!Fa())return console.log("Supabase not configured, skipping sync"),!1;try{const{error:e}=await on.from("cooling_sessions").upsert({id:t.id,site_id:t.site_id,item_name:t.item_name,item_category:t.item_category,started_at:t.started_at,soft_due_at:t.soft_due_at,hard_due_at:t.hard_due_at,closed_at:t.closed_at,status:t.status,close_action:t.close_action,start_temperature:t.start_temperature,end_temperature:t.end_temperature,started_by_id:t.started_by_id,staff_name:t.staff_name,closed_by:t.closed_by,closed_by_id:t.closed_by_id,food_item_id:t.food_item_id,exception_reason:t.exception_reason,exception_approved_by:t.exception_approved_by,created_by:t.created_by});if(e)throw e;return!0}catch(e){return console.error("Failed to sync session to Supabase:",e),!1}}async function mf(t){if(!Fa())return console.log("Supabase not configured, skipping sync"),!1;try{const{error:e}=await on.from("cooling_events").insert({id:t.id,session_id:t.session_id,site_id:t.site_id,event_type:t.event_type,timestamp:t.timestamp,payload:t.payload});if(e)throw e;return!0}catch(e){return console.error("Failed to sync event to Supabase:",e),!1}}function Kj(){const{coolingSessions:t,addCoolingSession:e,updateCoolingSession:n,addAlert:a,addToOfflineQueue:i,currentSite:o,isOnline:h}=qa();return{startCooling:async(N,y="other")=>{if(!o)return console.error("No site selected"),null;const E=Yj(N,y,o.id);e(E);const j=hf(E.id,o.id,"started",{item_name:N,item_category:y});return h?await ff(E)&&(n(E.id,{synced:!0}),await mf(j)):i(j),E},closeCooling:async(N,y)=>{const E=t.find(ae=>ae.id===N);if(!E||!o)return!1;const j=new Date().toISOString(),A=uv(new Date(E.started_at)),k=A==="overdue"?"overdue":"closed",I=Math.floor((Date.now()-new Date(E.started_at).getTime())/(1e3*60)),P={closed_at:j,status:k,close_action:"in_fridge",end_temperature:y?.temperature,closed_by_id:y?.staffId,closed_by:y?.staffName};n(N,P);const M=hf(N,o.id,"closed",{close_action:"in_fridge",was_overdue:A==="overdue",elapsed_minutes:I,end_temperature:y?.temperature,closed_by:y?.staffName,temperature_compliant:y?.temperature!==void 0?y.temperature<8:void 0});return h?await ff({...E,...P})&&(n(N,{synced:!0}),await mf(M)):i(M),!0},discardCooling:async(N,y)=>{const E=t.find(I=>I.id===N);if(!E||!o)return!1;const A={closed_at:new Date().toISOString(),status:"discarded",close_action:"discarded",exception_reason:y};n(N,A);const k=hf(N,o.id,"discarded",{reason:y,elapsed_minutes:Math.floor((Date.now()-new Date(E.started_at).getTime())/(1e3*60))});return h?await ff({...E,...A})&&(n(N,{synced:!0}),await mf(k)):i(k),!0},addException:async(N,y,E)=>{const j=t.find(P=>P.id===N);if(!j||!o)return!1;const k={closed_at:new Date().toISOString(),status:"closed",close_action:"exception",exception_reason:y,exception_approved_by:E};n(N,k);const I=hf(N,o.id,"exception_added",{reason:y,approved_by:E,elapsed_minutes:Math.floor((Date.now()-new Date(j.started_at).getTime())/(1e3*60))});return h?await ff({...j,...k})&&(n(N,{synced:!0}),await mf(I)):i(I),!0},updateSessionStatuses:()=>{t.forEach(N=>{if(N.closed_at)return;const y=uv(new Date(N.started_at));y!==N.status&&(n(N.id,{status:y}),y==="warning"&&N.status==="active"?a(Iv(N.id,"warning",N.item_name)):y==="overdue"&&N.status!=="overdue"&&a(Iv(N.id,"overdue",N.item_name)))})},coolingSessions:t}}function Xj({onNavigate:t,currentScreen:e="home"}){const[n,a]=Ee.useState(!1),[i,o]=Ee.useState(null),[h,u]=Ee.useState(!1),{coolingSessions:f,currentSite:m,alerts:v,acknowledgeAlert:x}=qa(),{startCooling:N,closeCooling:y,discardCooling:E,updateSessionStatuses:j}=Kj(),{speak:A}=Ky(),k=Ee.useMemo(()=>BN(f),[f]),I=Ee.useMemo(()=>UN(f),[f]),P=Ee.useMemo(()=>zN(v),[v]),M=Ee.useMemo(()=>f.find(Q=>Q.id===i)||null,[f,i]);Ee.useEffect(()=>{const Q=setInterval(j,1e4);return()=>clearInterval(Q)},[j]);const ae=Ee.useMemo(()=>I.length>0?"critical":k.some(Q=>Q.status==="warning")?"warning":"ready",[k,I]),ee=Ee.useCallback(async(Q,ie)=>{await N(Q,ie)&&A(`Cooling started for ${Q}`)},[N,A]),J=Ee.useCallback(Q=>{o(Q)},[]),W=Ee.useCallback(async Q=>{if(!i)return;if(await y(i,Q)){const ye=Q.temperature!==void 0?` at ${Q.temperature}C`:"";A(`Item moved to fridge${ye}. Well done!`),o(null)}},[i,y,A]),Y=Ee.useCallback(async Q=>{await E(Q)&&A("Item discarded and logged")},[E,A]),he=Ee.useCallback(Q=>{switch(Q.type){case"start_cooling":Q.item?ee(Q.item,"other"):a(!0);break;case"stop_cooling":k.length>0&&J(k[0].id);break;case"discard":k.length>0&&Y(k[0].id);break}},[k,ee,J,Y]),D=Ee.useCallback(Q=>{t?.(Q)},[t]),q=Ee.useCallback(()=>{if(P.length===0){xt.info("No new notifications");return}P.forEach((Q,ie)=>{setTimeout(()=>{Q.type==="overdue"?xt.error(Q.message,{duration:5e3}):xt.warning(Q.message,{duration:5e3}),x(Q.id)},ie*500)})},[P,x]);return c.jsxs("div",{className:"min-h-screen bg-theme-primary flex",children:[c.jsx(HN,{currentScreen:e,onNavigate:D,siteName:m?.name||"Kitchen Ops"}),c.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[c.jsx(GN,{complianceStatus:ae,lastAudit:"Today",autoLogging:!0,notificationCount:P.length,onNotificationsClick:q}),c.jsxs("main",{className:"flex-1 p-4 lg:p-6 pb-24 lg:pb-6 overflow-auto",children:[c.jsx("section",{className:"mb-6",children:c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-cyan-500/20 to-sky-500/20 border-2 border-cyan-500/50 rounded-2xl hover:border-cyan-400 hover:from-cyan-500/30 hover:to-sky-500/30 transition-all group",children:[c.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/20 text-cyan-500 group-hover:bg-cyan-500/30 transition-colors",children:c.jsx(Js,{className:"w-6 h-6"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"font-bold text-theme-primary text-lg",children:"Log Fridge Temp"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"FSAI SC1 Compliance"})]})]}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-sky-500/20 to-blue-500/20 border-2 border-sky-500/50 rounded-2xl hover:border-sky-400 hover:from-sky-500/30 hover:to-blue-500/30 transition-all group",children:[c.jsx("div",{className:"p-3 rounded-xl bg-sky-500/20 text-sky-500 group-hover:bg-sky-500/30 transition-colors",children:c.jsx(io,{className:"w-6 h-6"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"font-bold text-theme-primary text-lg",children:"Start Cooling"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Track hot food"})]})]})]})}),c.jsxs("section",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"text-emerald-500",children:""}),c.jsx("h2",{className:"text-sm font-semibold text-theme-secondary uppercase tracking-wide",children:"Daily Compliance Cycles"})]}),c.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:[c.jsx(Cp,{title:"Cooling Records",value:k.length>0?65:100,status:k.length>0?"in-progress":"complete",subtitle:k.length>0?`${k.length} active`:"All complete"}),c.jsx(Cp,{title:"Mid-Day Logs",value:65,status:"in-progress",subtitle:"Next: 15:00 Probe Test"}),c.jsx(Cp,{title:"Closing Routine",value:"Pending",status:"pending",subtitle:"Starts at 22:30 PM"})]})]}),I.length>0&&c.jsxs("section",{className:"mb-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ea,{className:"w-5 h-5 text-red-500"}),c.jsx("h2",{className:"text-sm font-semibold text-red-600 uppercase tracking-wide",children:"Critical Actions"}),c.jsxs("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs font-bold rounded-full",children:[I.length," ALERT",I.length>1?"S":""]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:I.map(Q=>c.jsx(hv,{session:Q,onClose:J,onDiscard:Y},Q.id))})]}),c.jsxs("section",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Li,{className:"w-5 h-5 text-sky-500"}),c.jsx("h2",{className:"text-sm font-semibold text-theme-secondary uppercase tracking-wide",children:"Active Cooling Monitors"}),k.length>0&&c.jsx("span",{className:"px-2 py-0.5 bg-sky-100 text-sky-700 text-xs font-bold rounded-full",children:k.filter(Q=>Q.status!=="overdue").length})]}),c.jsxs("button",{className:"text-sm text-sky-600 font-medium hover:underline flex items-center gap-1",children:[c.jsx(L3,{className:"w-4 h-4"}),"View All"]})]}),k.filter(Q=>Q.status!=="overdue").length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:k.filter(Q=>Q.status!=="overdue").map(Q=>c.jsx(hv,{session:Q,onClose:J,onDiscard:Y},Q.id))}):c.jsxs("div",{className:"bg-theme-card rounded-2xl border border-theme-primary p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-theme-secondary flex items-center justify-center mx-auto mb-4",children:c.jsx(Li,{className:"w-8 h-8 text-theme-muted"})}),c.jsx("h3",{className:"text-lg font-semibold text-theme-primary mb-2",children:"No Active Cooling"}),c.jsx("p",{className:"text-theme-secondary mb-6 max-w-sm mx-auto",children:"All items have been processed. Start a new cooling session when needed."}),c.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 text-white rounded-xl font-semibold hover:bg-sky-600 transition-colors",children:[c.jsx(io,{className:"w-5 h-5"}),"Start Cooling"]})]})]}),c.jsxs("section",{className:"bg-theme-card rounded-2xl border border-theme-primary p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Vo,{className:"w-5 h-5 text-purple-500"}),c.jsx("h2",{className:"text-sm font-semibold text-theme-secondary uppercase tracking-wide",children:"Voice Commands"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[c.jsx(eS,{onCommand:he,size:"md"}),c.jsxs("div",{className:"text-sm text-theme-secondary space-y-2",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-purple-500",children:'"Start cooling [item]"'})," - Begin tracking"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-emerald-500",children:'"Done"'})," or ",c.jsx("span",{className:"font-medium text-emerald-500",children:'"In fridge"'})," - Complete session"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-red-500",children:'"Discard"'})," - Log waste"]})]})]})]})]}),c.jsx("button",{onClick:()=>a(!0),className:"lg:hidden fixed right-4 bottom-20 w-14 h-14 rounded-full bg-sky-500 text-white shadow-lg shadow-sky-500/30 flex items-center justify-center hover:bg-sky-600 transition-all active:scale-95 z-40",children:c.jsx(io,{className:"w-6 h-6"})})]}),c.jsx(VN,{currentScreen:e,onNavigate:D}),c.jsx(nS,{isOpen:n,onClose:()=>a(!1),onStart:ee}),c.jsx(aS,{isOpen:i!==null,onClose:()=>o(null),onConfirm:W,session:M}),c.jsx(qj,{isOpen:h,onClose:()=>u(!1)})]})}const b5=6048e5,Jj=864e5,Bv=Symbol.for("constructDateFrom");function $o(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Bv in t?t[Bv](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ta(t,e){return $o(e||t,t)}function Qj(t,e,n){const a=Ta(t,n?.in);return isNaN(e)?$o(t,NaN):(e&&a.setDate(a.getDate()+e),a)}let Zj={};function rm(){return Zj}function sh(t,e){const n=rm(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ta(t,e?.in),o=i.getDay(),h=(o<a?7:0)+o-a;return i.setDate(i.getDate()-h),i.setHours(0,0,0,0),i}function Hf(t,e){return sh(t,{...e,weekStartsOn:1})}function y5(t,e){const n=Ta(t,e?.in),a=n.getFullYear(),i=$o(n,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const o=Hf(i),h=$o(n,0);h.setFullYear(a,0,4),h.setHours(0,0,0,0);const u=Hf(h);return n.getTime()>=o.getTime()?a+1:n.getTime()>=u.getTime()?a:a-1}function Uv(t){const e=Ta(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function e8(t,...e){const n=$o.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function Gd(t,e){const n=Ta(t,e?.in);return n.setHours(0,0,0,0),n}function t8(t,e,n){const[a,i]=e8(n?.in,t,e),o=Gd(a),h=Gd(i),u=+o-Uv(o),f=+h-Uv(h);return Math.round((u-f)/Jj)}function n8(t,e){const n=y5(t,e),a=$o(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Hf(a)}function r8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function a8(t){return!(!r8(t)&&typeof t!="number"||isNaN(+Ta(t)))}function Up(t,e){const n=Ta(t,e?.in);return n.setHours(23,59,59,999),n}function s8(t,e){const n=Ta(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const i8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o8=(t,e,n)=>{let a;const i=i8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function zp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const l8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d8={date:zp({formats:l8,defaultWidth:"full"}),time:zp({formats:c8,defaultWidth:"full"}),dateTime:zp({formats:u8,defaultWidth:"full"})},h8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f8=(t,e,n,a)=>h8[t];function Bd(t){return(e,n)=>{const a=n?.context?String(n.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const h=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):h;i=t.formattingValues[u]||t.formattingValues[h]}else{const h=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[h]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const m8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},v8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x8=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},w8={ordinalNumber:x8,era:Bd({values:m8,defaultWidth:"wide"}),quarter:Bd({values:p8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bd({values:g8,defaultWidth:"wide"}),day:Bd({values:v8,defaultWidth:"wide"}),dayPeriod:Bd({values:b8,defaultWidth:"wide",formattingValues:y8,defaultFormattingWidth:"wide"})};function Ud(t){return(e,n={})=>{const a=n.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const h=o[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?N8(u,x=>x.test(h)):_8(u,x=>x.test(h));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const v=e.slice(h.length);return{value:m,rest:v}}}function _8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function N8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function S8(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],o=e.match(t.parsePattern);if(!o)return null;let h=t.valueCallback?t.valueCallback(o[0]):o[0];h=n.valueCallback?n.valueCallback(h):h;const u=e.slice(i.length);return{value:h,rest:u}}}const j8=/^(\d+)(th|st|nd|rd)?/i,A8=/\d+/i,k8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C8={any:[/^b/i,/^(a|c)/i]},E8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},T8={any:[/1/i,/2/i,/3/i,/4/i]},O8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},L8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},M8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},D8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},P8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I8={ordinalNumber:S8({matchPattern:j8,parsePattern:A8,valueCallback:t=>parseInt(t,10)}),era:Ud({matchPatterns:k8,defaultMatchWidth:"wide",parsePatterns:C8,defaultParseWidth:"any"}),quarter:Ud({matchPatterns:E8,defaultMatchWidth:"wide",parsePatterns:T8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ud({matchPatterns:O8,defaultMatchWidth:"wide",parsePatterns:L8,defaultParseWidth:"any"}),day:Ud({matchPatterns:R8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any"}),dayPeriod:Ud({matchPatterns:D8,defaultMatchWidth:"any",parsePatterns:P8,defaultParseWidth:"any"})},B8={code:"en-US",formatDistance:o8,formatLong:d8,formatRelative:f8,localize:w8,match:I8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function U8(t,e){const n=Ta(t,e?.in);return t8(n,s8(n))+1}function z8(t,e){const n=Ta(t,e?.in),a=+Hf(n)-+n8(n);return Math.round(a/b5)+1}function x5(t,e){const n=Ta(t,e?.in),a=n.getFullYear(),i=rm(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,h=$o(e?.in||t,0);h.setFullYear(a+1,0,o),h.setHours(0,0,0,0);const u=sh(h,e),f=$o(e?.in||t,0);f.setFullYear(a,0,o),f.setHours(0,0,0,0);const m=sh(f,e);return+n>=+u?a+1:+n>=+m?a:a-1}function F8(t,e){const n=rm(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=x5(t,e),o=$o(e?.in||t,0);return o.setFullYear(i,0,a),o.setHours(0,0,0,0),sh(o,e)}function q8(t,e){const n=Ta(t,e?.in),a=+sh(n,e)-+F8(n,e);return Math.round(a/b5)+1}function Dn(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Tl={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return Dn(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Dn(n+1,2)},d(t,e){return Dn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Dn(t.getHours()%12||12,e.length)},H(t,e){return Dn(t.getHours(),e.length)},m(t,e){return Dn(t.getMinutes(),e.length)},s(t,e){return Dn(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,n-3));return Dn(i,e.length)}},Eu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zv={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Tl.y(t,e)},Y:function(t,e,n,a){const i=x5(t,a),o=i>0?i:1-i;if(e==="YY"){const h=o%100;return Dn(h,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Dn(o,e.length)},R:function(t,e){const n=y5(t);return Dn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Dn(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Dn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Dn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Tl.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Dn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const i=q8(t,a);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Dn(i,e.length)},I:function(t,e,n){const a=z8(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Dn(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Tl.d(t,e)},D:function(t,e,n){const a=U8(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Dn(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const i=t.getDay(),o=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Dn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const i=t.getDay(),o=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Dn(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Dn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let i;switch(a===12?i=Eu.noon:a===0?i=Eu.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let i;switch(a>=17?i=Eu.evening:a>=12?i=Eu.afternoon:a>=4?i=Eu.morning:i=Eu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Tl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Tl.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Dn(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Dn(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Tl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Tl.s(t,e)},S:function(t,e){return Tl.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return qv(a);case"XXXX":case"XX":return xc(a);default:return xc(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return qv(a);case"xxxx":case"xx":return xc(a);default:return xc(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Fv(a,":");default:return"GMT"+xc(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Fv(a,":");default:return"GMT"+xc(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return Dn(a,e.length)},T:function(t,e,n){return Dn(+t,e.length)}};function Fv(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),o=a%60;return o===0?n+String(i):n+String(i)+e+Dn(o,2)}function qv(t,e){return t%60===0?(t>0?"-":"+")+Dn(Math.abs(t)/60,2):xc(t,e)}function xc(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),i=Dn(Math.trunc(a/60),2),o=Dn(a%60,2);return n+i+e+o}const Hv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},w5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},H8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Hv(t,e);let o;switch(a){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Hv(a,e)).replace("{{time}}",w5(i,e))},V8={p:w5,P:H8},G8=/^D+$/,$8=/^Y+$/,W8=["D","DD","YY","YYYY"];function Y8(t){return G8.test(t)}function K8(t){return $8.test(t)}function X8(t,e,n){const a=J8(t,e,n);if(console.warn(a),W8.includes(t))throw new RangeError(a)}function J8(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eA=/^'([^]*?)'?$/,tA=/''/g,nA=/[a-zA-Z]/;function Fu(t,e,n){const a=rm(),i=a.locale??B8,o=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,h=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Ta(t,n?.in);if(!a8(u))throw new RangeError("Invalid time value");let f=e.match(Z8).map(v=>{const x=v[0];if(x==="p"||x==="P"){const N=V8[x];return N(v,i.formatLong)}return v}).join("").match(Q8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:rA(v)};if(zv[x])return{isToken:!0,value:v};if(x.match(nA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:o,weekStartsOn:h,locale:i};return f.map(v=>{if(!v.isToken)return v.value;const x=v.value;(K8(x)||Y8(x))&&X8(x,e,String(t));const N=zv[x[0]];return N(u,x,i.localize,m)}).join("")}function rA(t){const e=t.match(eA);return e?e[1].replace(tA,"'"):t}function Fp(t,e,n){const a=+Ta(t,n?.in),[i,o]=[+Ta(e.start,n?.in),+Ta(e.end,n?.in)].sort((h,u)=>h-u);return a>=i&&a<=o}function Vv(t,e,n){return Qj(t,-e,n)}function aA({onBack:t}){const{coolingSessions:e}=qa(),[n,a]=Ee.useState("today"),[i,o]=Ee.useState("all"),h=Ee.useMemo(()=>{let m=e.filter(x=>x.closed_at);const v=new Date;return n==="today"?m=m.filter(x=>Fp(new Date(x.closed_at),{start:Gd(v),end:Up(v)})):n==="week"?m=m.filter(x=>Fp(new Date(x.closed_at),{start:Gd(Vv(v,7)),end:Up(v)})):n==="month"&&(m=m.filter(x=>Fp(new Date(x.closed_at),{start:Gd(Vv(v,30)),end:Up(v)}))),i==="completed"?m=m.filter(x=>x.close_action==="in_fridge"):i==="overdue"?m=m.filter(x=>x.status==="overdue"||Uu(new Date(x.started_at),new Date(x.closed_at))>120):i==="discarded"&&(m=m.filter(x=>x.close_action==="discarded")),m.sort((x,N)=>new Date(N.closed_at).getTime()-new Date(x.closed_at).getTime())},[e,n,i]),u=Ee.useMemo(()=>{const m=h.length,v=h.filter(y=>y.close_action==="in_fridge"&&Uu(new Date(y.started_at),new Date(y.closed_at))<=120).length,x=h.filter(y=>Uu(new Date(y.started_at),new Date(y.closed_at))>120).length,N=h.filter(y=>y.close_action==="discarded").length;return{total:m,onTime:v,late:x,discarded:N}},[h]),f=()=>{const m=["Date","Item","Category","Started","Closed","Duration (min)","End Temp (C)","Temp Compliant","Status","Action","Staff","Exception"],v=h.map(j=>{const A=j.closed_at?Uu(new Date(j.started_at),new Date(j.closed_at)):0,k=j.end_temperature!==void 0?j.end_temperature<8?"Yes":"No":"";return[Fu(new Date(j.started_at),"yyyy-MM-dd"),`"${j.item_name}"`,j.item_category,Fu(new Date(j.started_at),"HH:mm"),j.closed_at?Fu(new Date(j.closed_at),"HH:mm"):"",A.toString(),j.end_temperature!==void 0?j.end_temperature.toString():"",k,j.status,j.close_action||"",j.closed_by||"",j.exception_reason?`"${j.exception_reason}"`:""]}),x=[m,...v].map(j=>j.join(",")).join(`
`),N=new Blob([x],{type:"text/csv"}),y=URL.createObjectURL(N),E=document.createElement("a");E.href=y,E.download=`fsai-sc3-cooling-${Fu(new Date,"yyyy-MM-dd")}.csv`,E.click(),URL.revokeObjectURL(y)};return c.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[c.jsx("header",{className:"safe-area-top bg-theme-header border-b border-theme-header sticky top-0 z-40",children:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-theme-ghost rounded-xl transition-colors text-theme-primary",children:c.jsx(oo,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-xl font-bold text-theme-primary",children:"Cooling History"})]}),c.jsxs(Zf,{variant:"secondary",size:"sm",onClick:f,children:[c.jsx(eg,{className:"w-5 h-5 mr-2"}),"Export"]})]})}),c.jsxs("main",{className:"p-4",children:[c.jsxs("div",{className:"mb-6 space-y-3",children:[c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["today","week","month","all"].map(m=>c.jsxs("button",{onClick:()=>a(m),className:Ie("flex-shrink-0 px-4 py-2 rounded-xl font-medium transition-colors",n===m?"bg-sky-500 text-white":"bg-theme-ghost text-theme-secondary hover:bg-theme-elevated"),children:[m==="today"&&"Today",m==="week"&&"This Week",m==="month"&&"This Month",m==="all"&&"All Time"]},m))}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","completed","overdue","discarded"].map(m=>c.jsxs("button",{onClick:()=>o(m),className:Ie("flex-shrink-0 px-4 py-2 rounded-xl font-medium transition-colors flex items-center gap-2",i===m?"bg-theme-elevated text-theme-primary":"bg-theme-ghost text-theme-muted hover:bg-theme-elevated"),children:[m==="all"&&c.jsx(Oy,{className:"w-4 h-4"}),m==="completed"&&c.jsx(Lr,{className:"w-4 h-4 text-green-500"}),m==="overdue"&&c.jsx(ea,{className:"w-4 h-4 text-amber-500"}),m==="discarded"&&c.jsx(Go,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"capitalize",children:m})]},m))})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c.jsxs("div",{className:"bg-theme-card rounded-xl p-3 text-center border border-theme-primary",children:[c.jsx("p",{className:"text-2xl font-bold text-theme-primary",children:u.total}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Total"})]}),c.jsxs("div",{className:"bg-green-500/10 rounded-xl p-3 text-center border border-green-500/30",children:[c.jsx("p",{className:"text-2xl font-bold text-green-500",children:u.onTime}),c.jsx("p",{className:"text-xs text-theme-muted",children:"On Time"})]}),c.jsxs("div",{className:"bg-amber-500/10 rounded-xl p-3 text-center border border-amber-500/30",children:[c.jsx("p",{className:"text-2xl font-bold text-amber-500",children:u.late}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Late"})]}),c.jsxs("div",{className:"bg-red-500/10 rounded-xl p-3 text-center border border-red-500/30",children:[c.jsx("p",{className:"text-2xl font-bold text-red-500",children:u.discarded}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Discarded"})]})]}),c.jsx("div",{className:"space-y-3",children:h.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Q0,{className:"w-12 h-12 text-theme-muted mx-auto mb-3"}),c.jsx("p",{className:"text-theme-secondary",children:"No sessions found for this period"})]}):h.map(m=>c.jsx(sA,{session:m},m.id))})]})]})}function sA({session:t}){const e=t.closed_at?Uu(new Date(t.started_at),new Date(t.closed_at)):0,n=e>120,a=t.end_temperature!==void 0&&t.end_temperature<8,i={closed:c.jsx(Lr,{className:"w-5 h-5 text-green-500"}),overdue:c.jsx(ea,{className:"w-5 h-5 text-amber-500"}),discarded:c.jsx(Go,{className:"w-5 h-5 text-red-500"})},o=t.close_action==="discarded"?i.discarded:n?i.overdue:i.closed;return c.jsxs("div",{className:"bg-theme-card rounded-xl p-4 border border-theme-primary",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[o,c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-theme-primary",children:t.item_name}),c.jsxs("p",{className:"text-sm text-theme-muted",children:[Fu(new Date(t.started_at),"MMM d, HH:mm")," "," ",t.closed_at&&Fu(new Date(t.closed_at),"HH:mm")]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:Ie("font-mono font-bold",n?"text-amber-500":"text-green-500"),children:[e,"m"]}),c.jsx("p",{className:"text-xs text-theme-muted capitalize",children:t.close_action?.replace("_"," ")})]})]}),(t.end_temperature!==void 0||t.closed_by)&&c.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[t.end_temperature!==void 0&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Js,{className:Ie("w-4 h-4",a?"text-emerald-500":"text-amber-500")}),c.jsxs("span",{className:Ie("font-mono font-medium",a?"text-emerald-500":"text-amber-500"),children:[t.end_temperature,"C"]}),a?c.jsx("span",{className:"text-emerald-500 text-xs",children:""}):c.jsx("span",{className:"text-amber-500 text-xs",children:"!"})]}),t.closed_by&&c.jsxs("div",{className:"flex items-center gap-1.5 text-theme-secondary",children:[c.jsx(sg,{className:"w-4 h-4"}),c.jsx("span",{children:t.closed_by})]})]}),t.exception_reason&&c.jsxs("div",{className:"mt-2 p-2 bg-theme-secondary rounded-lg text-sm text-theme-secondary",children:[c.jsx("span",{className:"text-theme-muted",children:"Exception:"})," ",t.exception_reason]})]})}const iA=async(t,e)=>{const{data:n,error:a}=await on.from("sites").update({subscription_tier:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return n},_5=async t=>{const{data:e,error:n}=await on.from("staff_members").select("*").eq("site_id",t).order("name");if(n)throw n;return e},oA=async t=>{const{data:e,error:n}=await on.from("staff_members").insert(t).select().single();if(n)throw n;return e},lA=async t=>{const{error:e}=await on.from("staff_members").delete().eq("id",t);if(e)throw e},cA=async t=>{let e=on.from("food_items").select("*");t&&(e=e.or(`site_id.eq.${t},site_id.is.null`));const{data:n,error:a}=await e.order("name",{ascending:!0});if(a)throw a;return n},uA=async t=>{const{data:e,error:n}=await on.from("food_items").insert(t).select().single();if(n)throw n;return e},dA=async t=>{const{error:e}=await on.from("food_items").delete().eq("id",t);if(e)throw e};function hA({onBack:t}){const{settings:e,updateSettings:n,currentSite:a}=qa(),[i,o]=Ee.useState("general"),[h,u]=Ee.useState(!1),[f,m]=Ee.useState(null),[v,x]=Ee.useState(!0),[N,y]=Ee.useState(""),[E,j]=Ee.useState(!1),[A,k]=Ee.useState([]),[I,P]=Ee.useState(""),[M,ae]=Ee.useState("staff"),[ee,J]=Ee.useState(""),[W,Y]=Ee.useState([]),[he,D]=Ee.useState(""),[q,Q]=Ee.useState("other"),[ie,ye]=Ee.useState([]),[X,le]=Ee.useState(""),[se,_e]=Ee.useState(null),[Le,G]=Ee.useState("");Ee.useEffect(()=>{(async()=>{x(!0);try{const{data:{user:Ye}}=await on.auth.getUser();if(!Ye){x(!1);return}const{data:Re}=await on.from("profiles").select("current_venue_id").eq("id",Ye.id).single();if(Re?.current_venue_id){const{data:at,error:Ze}=await on.from("venues").select("id, name").eq("id",Re.current_venue_id).single();at&&!Ze&&(m(at),y(at.name))}else{const{data:at}=await on.from("venues").select("id, name").eq("created_by",Ye.id).limit(1).single();at&&(m(at),y(at.name))}}catch(Ye){console.error("Failed to load venue:",Ye)}finally{x(!1)}})()},[]),Ee.useEffect(()=>{i==="staff"&&a?.id?O():i==="food"?ne():i==="fridges"&&a?.id&&ge()},[i,a?.id]);const O=async()=>{if(a?.id){u(!0);try{const Se=await _5(a.id);k(Se)}catch(Se){console.error(Se),xt.error("Failed to load staff")}finally{u(!1)}}},B=async()=>{if(!a?.id){xt.error("Please select a site first");return}if(!I)return;const Se=I.split(" ").map(Ye=>Ye.charAt(0).toUpperCase()).slice(0,2).join("");try{await oA({site_id:a.id,name:I,initials:Se,role:M,pin:ee||null,active:!0}),xt.success("Staff member added"),P(""),J(""),O()}catch{xt.error("Failed to add staff")}},H=async Se=>{if(confirm("Are you sure?"))try{await lA(Se),xt.success("Staff member removed"),k(Ye=>Ye.filter(Re=>Re.id!==Se))}catch{xt.error("Failed to remove staff")}},ne=async()=>{u(!0);try{const Se=await cA(a?.id);Y(Se)}catch(Se){console.error(Se),xt.error("Failed to load food presets")}finally{u(!1)}},oe=async()=>{if(he)try{await uA({site_id:a?.id??null,name:he,category:q}),xt.success("Food preset added"),D(""),ne()}catch{xt.error("Failed to add food preset")}},ue=async Se=>{try{await dA(Se),xt.success("Preset removed"),Y(Ye=>Ye.filter(Re=>Re.id!==Se))}catch{xt.error("Failed to remove preset")}},ge=async()=>{if(a?.id){u(!0);try{const Se=await v5(a.id);ye(Se)}catch(Se){console.error(Se),xt.error("Failed to load fridges")}finally{u(!1)}}},we=g5[e.subscriptionTier||"basic"],Oe=ie.length<we,He=async()=>{if(!a?.id){xt.error("Please select a site first");return}if(!X.trim()){xt.error("Please enter a fridge name");return}if(!Oe){xt.error(`Upgrade to add more fridges (${e.subscriptionTier} limit: ${we})`);return}try{await Bj(a.id,X.trim()),xt.success("Fridge added"),le(""),ge()}catch{xt.error("Failed to add fridge")}},$e=async Se=>{if(!Le.trim()){_e(null);return}try{await Uj(Se,{name:Le.trim()}),xt.success("Fridge renamed"),_e(null),G(""),ge()}catch{xt.error("Failed to rename fridge")}},Je=async Se=>{if(confirm("Delete this fridge? Historical temperature logs will be preserved."))try{await zj(Se),xt.success("Fridge removed"),ye(Ye=>Ye.filter(Re=>Re.id!==Se))}catch{xt.error("Failed to remove fridge")}},rt=Se=>{_e(Se.id),G(Se.name)},K=Se=>{n({theme:Se}),xt.success(`Theme set to ${Se}`)},Ke=async Se=>{if(n({subscriptionTier:Se}),a?.id)try{await iA(a.id,Se),xt.success(`Subscription updated to ${Se}`)}catch(Ye){console.error("Failed to update subscription in database:",Ye),xt.error("Failed to save subscription to server")}else xt.success(`Subscription updated to ${Se} (local only)`)};return c.jsxs("div",{className:"min-h-screen bg-theme-primary transition-colors pb-20 animate-fade-in text-theme-primary",children:[c.jsx("div",{className:"sticky top-0 z-10 bg-glass-heavy border-b border-theme-primary p-4 md:p-6 backdrop-blur-md",children:c.jsx("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-3 rounded-xl hover:bg-theme-ghost text-theme-secondary hover:text-theme-primary transition-colors",children:c.jsx(oo,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-theme-primary to-theme-secondary flex items-center gap-2",children:"Settings"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Manage your kitchen configuration"})]})]})})}),c.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-6 grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"md:col-span-1 space-y-2",children:[c.jsx(bc,{active:i==="general",onClick:()=>o("general"),icon:Xs,label:"General"}),c.jsx(bc,{active:i==="appearance",onClick:()=>o("appearance"),icon:K3,label:"Appearance"}),c.jsx(bc,{active:i==="subscription",onClick:()=>o("subscription"),icon:x0,label:"Subscription"}),c.jsx(bc,{active:i==="staff",onClick:()=>o("staff"),icon:Pf,label:"Staff Members"}),c.jsx(bc,{active:i==="food",onClick:()=>o("food"),icon:E_,label:"Food Presets"}),c.jsx(bc,{active:i==="voice",onClick:()=>o("voice"),icon:Vo,label:"Voice Control"}),c.jsx(bc,{active:i==="fridges",onClick:()=>o("fridges"),icon:Js,label:"Fridges"})]}),c.jsxs("div",{className:"md:col-span-3 space-y-6",children:[i==="general"&&c.jsxs("div",{className:"space-y-6 animate-slide-in",children:[c.jsxs("div",{className:"card-stunning p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10 text-emerald-600",children:c.jsx(Xs,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold",children:"Restaurant Details"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Configure your venue information."})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-semibold uppercase text-theme-muted",children:"Restaurant Name"}),v?c.jsxs("div",{className:"flex items-center gap-2 h-[56px] px-4 bg-theme-ghost rounded-xl",children:[c.jsx(Os,{className:"w-5 h-5 animate-spin text-theme-muted"}),c.jsx("span",{className:"text-theme-muted",children:"Loading..."})]}):c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:N,onChange:Se=>y(Se.target.value),placeholder:"Enter restaurant name",className:"input-stunning text-xl font-bold flex-1"}),f&&N!==f.name&&c.jsxs("button",{onClick:async()=>{if(!(!f?.id||!N.trim())){j(!0);try{const{error:Se}=await on.from("venues").update({name:N.trim(),updated_at:new Date().toISOString()}).eq("id",f.id);if(Se)throw Se;m({...f,name:N.trim()}),xt.success("Restaurant name updated!")}catch(Se){console.error("Failed to update venue name:",Se),xt.error("Failed to save restaurant name")}finally{j(!1)}}},disabled:E,className:"btn-stunning btn-primary px-4",children:[E?c.jsx(Os,{className:"w-4 h-4 animate-spin"}):c.jsx(Ks,{className:"w-4 h-4"}),"Save"]})]}),c.jsx("p",{className:"text-xs text-theme-muted",children:"This name appears in the header and reports."})]})})]}),c.jsxs("div",{className:"card-stunning p-6 border-red-500/20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-3 rounded-xl bg-red-500/10 text-red-600",children:c.jsx(nv,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-red-600",children:"Reset Data"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Clear local data and start fresh."})]})]}),c.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded-xl p-4 mb-4",children:[c.jsx("p",{className:"text-sm text-red-600 mb-2",children:" Warning: This will clear all local data including:"}),c.jsxs("ul",{className:"text-xs text-theme-muted space-y-1 ml-4 list-disc",children:[c.jsx("li",{children:"Cooling sessions"}),c.jsx("li",{children:"Food presets usage counts"}),c.jsx("li",{children:"Settings (API keys will be cleared)"}),c.jsx("li",{children:"Offline queue"})]})]}),c.jsxs("button",{onClick:()=>{confirm("Are you sure you want to reset all local data? This cannot be undone.")&&(localStorage.removeItem("kitchen-compliance-storage"),window.location.reload())},className:"btn-stunning bg-red-500 hover:bg-red-600 text-white px-6",children:[c.jsx(nv,{className:"w-4 h-4"}),"Reset All Data"]})]})]}),i==="subscription"&&c.jsx("div",{className:"space-y-6 animate-slide-in",children:c.jsxs("div",{className:"card-stunning p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 text-purple-600",children:c.jsx(rv,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold",children:"Subscription Tier"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Select a plan to unlock advanced features."})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:["basic","pro","enterprise"].map(Se=>c.jsx("div",{onClick:()=>Ke(Se),className:Ie("cursor-pointer border-2 rounded-xl p-5 transition-all relative group",e.subscriptionTier===Se?"border-sky-500 bg-sky-500/5":"border-theme-primary hover:border-theme-secondary"),children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"capitalize font-bold text-lg mb-1 flex items-center gap-2",children:[Se,c.jsx("span",{className:Ie("license-badge",Se==="basic"?"license-basic":Se==="pro"?"license-pro":"license-enterprise"),children:Se})]}),Se==="basic"&&c.jsx("p",{className:"text-sm text-theme-muted",children:"Core cooling features, single site."}),Se==="pro"&&c.jsx("p",{className:"text-sm text-theme-muted",children:"Menu Engineering, Multi-user access."}),Se==="enterprise"&&c.jsx("p",{className:"text-sm text-theme-muted",children:"Multi-site management, API Access, Branding."})]}),e.subscriptionTier===Se&&c.jsx("div",{className:"p-1 bg-sky-500 rounded-full text-white shadow-lg shadow-sky-500/30",children:c.jsx(Ks,{className:"w-4 h-4"})})]})},Se))})]})}),i==="appearance"&&c.jsx("div",{className:"space-y-6 animate-slide-in",children:c.jsxs("div",{className:"card-stunning p-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-6",children:"Interface Theme"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>K("day"),className:Ie("p-6 rounded-2xl border-2 flex flex-col items-center gap-4 transition-all hover:scale-[1.02]",e.theme==="day"?"border-sky-500 bg-sky-500/5 ring-1 ring-sky-500/50":"border-theme-primary hover:bg-theme-ghost"),children:[c.jsx("div",{className:"p-4 rounded-full bg-orange-100 text-orange-500",children:c.jsx(h_,{className:"w-8 h-8"})}),c.jsx("span",{className:"font-semibold",children:"Light Mode"})]}),c.jsxs("button",{onClick:()=>K("night"),className:Ie("p-6 rounded-2xl border-2 flex flex-col items-center gap-4 transition-all hover:scale-[1.02]",e.theme==="night"?"border-indigo-500 bg-indigo-500/5 ring-1 ring-indigo-500/50":"border-theme-primary hover:bg-theme-ghost"),children:[c.jsx("div",{className:"p-4 rounded-full bg-indigo-900/50 text-indigo-300",children:c.jsx($3,{className:"w-8 h-8"})}),c.jsx("span",{className:"font-semibold",children:"Dark Mode"})]})]})]})}),i==="staff"&&c.jsxs("div",{className:"space-y-6 animate-slide-in",children:[c.jsxs("div",{className:"card-stunning p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[c.jsx(j_,{className:"w-5 h-5 text-sky-500"}),"Add Staff Member"]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end bg-theme-ghost p-4 rounded-xl border border-theme-primary/50",children:[c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-semibold uppercase text-theme-muted",children:"Name"}),c.jsx("input",{value:I,onChange:Se=>P(Se.target.value),placeholder:"e.g. John Doe",className:"input-stunning"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-semibold uppercase text-theme-muted",children:"Role"}),c.jsxs("select",{value:M,onChange:Se=>ae(Se.target.value),className:"input-stunning",children:[c.jsx("option",{value:"staff",children:"Staff"}),c.jsx("option",{value:"chef",children:"Chef"}),c.jsx("option",{value:"manager",children:"Manager"})]})]}),c.jsxs("button",{onClick:B,className:"btn-stunning btn-primary h-[46px]",children:[c.jsx(io,{className:"w-4 h-4"})," Add"]})]})]}),c.jsxs("div",{className:"card-stunning p-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-4",children:"Team Members"}),h&&c.jsx("p",{className:"text-theme-muted",children:"Loading staff..."}),!h&&A.length===0&&c.jsx("p",{className:"text-theme-muted",children:"No staff found."}),c.jsx("div",{className:"space-y-3",children:A.map(Se=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-ghost rounded-xl border border-theme-primary hover:border-theme-secondary transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:Ie("w-10 h-10 rounded-full flex items-center justify-center font-bold",Se.role==="manager"?"bg-purple-100 text-purple-600":Se.role==="chef"?"bg-orange-100 text-orange-600":"bg-zinc-100 text-zinc-600"),children:Se.name.substring(0,2).toUpperCase()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:Se.name}),c.jsx("p",{className:"text-xs text-theme-muted capitalize",children:Se.role})]})]}),c.jsx("button",{onClick:()=>H(Se.id),className:"p-2 text-theme-muted hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:c.jsx(Go,{className:"w-4 h-4"})})]},Se.id))})]})]}),i==="food"&&c.jsxs("div",{className:"space-y-6 animate-slide-in",children:[c.jsxs("div",{className:"card-stunning p-6",children:[c.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[c.jsx(N3,{className:"w-5 h-5 text-emerald-500"}),"Add Food Preset"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end bg-theme-ghost p-4 rounded-xl border border-theme-primary/50",children:[c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-semibold uppercase text-theme-muted",children:"Item Name"}),c.jsx("input",{value:he,onChange:Se=>D(Se.target.value),placeholder:"e.g. Tomato Soup",className:"input-stunning"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-semibold uppercase text-theme-muted",children:"Category"}),c.jsxs("select",{value:q,onChange:Se=>Q(Se.target.value),className:"input-stunning",children:[c.jsx("option",{value:"soup",children:"Soup"}),c.jsx("option",{value:"sauce",children:"Sauce"}),c.jsx("option",{value:"meat",children:"Meat"}),c.jsx("option",{value:"vegetable",children:"Vegetable"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("button",{onClick:oe,className:"btn-stunning btn-success h-[46px]",children:[c.jsx(io,{className:"w-4 h-4"})," Add"]})]})]}),c.jsxs("div",{className:"card-stunning p-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-4",children:"Preset Menu Items"}),h&&c.jsx("p",{className:"text-theme-muted",children:"Loading presets..."}),!h&&W.length===0&&c.jsx("p",{className:"text-theme-muted",children:"No presets found."}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:W.map(Se=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-ghost rounded-xl border border-theme-primary group",children:[c.jsx("span",{className:"font-medium",children:Se.name}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-theme-card border border-theme-primary capitalize text-theme-muted",children:Se.category}),c.jsx("button",{onClick:()=>ue(Se.id),className:"p-1 text-theme-muted hover:text-red-500 transition-colors",children:c.jsx(Go,{className:"w-4 h-4"})})]})]},Se.id))})]})]}),i==="voice"&&c.jsx("div",{className:"space-y-6 animate-slide-in",children:c.jsxs("div",{className:"card-stunning p-6",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("div",{className:"p-4 rounded-full bg-rose-500/10 text-rose-500 animate-pulse",children:c.jsx(Vo,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:"Voice Control Settings"}),c.jsx("p",{className:"text-theme-muted",children:"Configure speech recognition provider and API keys."})]})]}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-theme-muted",children:"Speech Recognition Provider"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs("button",{onClick:()=>n({voiceProvider:"browser"}),className:Ie("p-4 rounded-xl border-2 transition-all text-left",e.voiceProvider==="browser"?"border-sky-500 bg-sky-500/10":"border-theme-primary hover:border-theme-secondary"),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Qd,{className:"w-5 h-5 text-emerald-500"}),c.jsx("span",{className:"font-semibold",children:"Browser"}),e.voiceProvider==="browser"&&c.jsx(Ks,{className:"w-4 h-4 text-sky-500 ml-auto"})]}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Free, uses Chrome/Safari built-in speech recognition"})]}),c.jsxs("button",{onClick:()=>n({voiceProvider:"openai"}),className:Ie("p-4 rounded-xl border-2 transition-all text-left",e.voiceProvider==="openai"?"border-sky-500 bg-sky-500/10":"border-theme-primary hover:border-theme-secondary"),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-semibold",children:"OpenAI Whisper"}),e.voiceProvider==="openai"&&c.jsx(Ks,{className:"w-4 h-4 text-sky-500 ml-auto"})]}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Whisper API - high accuracy, works in noisy environments"})]}),c.jsxs("button",{onClick:()=>n({voiceProvider:"openrouter"}),className:Ie("p-4 rounded-xl border-2 transition-all text-left relative",e.voiceProvider==="openrouter"?"border-purple-500 bg-purple-500/10":"border-theme-primary hover:border-theme-secondary opacity-60"),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-semibold",children:"OpenRouter"}),c.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded",children:"Beta"}),e.voiceProvider==="openrouter"&&c.jsx(Ks,{className:"w-4 h-4 text-purple-500 ml-auto"})]}),c.jsx("p",{className:"text-xs text-theme-muted",children:"GPT Audio models - requires streaming (experimental)"})]})]})]}),e.voiceProvider==="openrouter"&&c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-theme-muted",children:"Audio Model"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{id:"openai/gpt-audio-mini",name:"GPT Audio Mini",price:"$0.60/M tokens",badge:"Best Value"},{id:"openai/gpt-audio",name:"GPT Audio",price:"$32/M tokens",badge:null},{id:"openai/gpt-4o-audio-preview",name:"GPT-4o Audio",price:"$40/M tokens",badge:"Highest Quality"}].map(Se=>c.jsxs("button",{onClick:()=>n({audioModel:Se.id}),className:Ie("p-3 rounded-xl border-2 transition-all text-left flex items-center justify-between",e.audioModel===Se.id?"border-purple-500 bg-purple-500/10":"border-theme-primary hover:border-theme-secondary"),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"font-medium",children:Se.name}),Se.badge&&c.jsx("span",{className:Ie("text-xs px-2 py-0.5 rounded-full",Se.badge==="Best Value"?"bg-emerald-100 text-emerald-700":"bg-purple-100 text-purple-700"),children:Se.badge})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-theme-muted",children:Se.price}),e.audioModel===Se.id&&c.jsx(Ks,{className:"w-4 h-4 text-purple-500"})]})]},Se.id))})]}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-theme-muted",children:"API Keys"}),c.jsxs("div",{className:Ie("p-4 rounded-xl border transition-all",e.voiceProvider==="openai"?"border-sky-500/50 bg-sky-500/5":"border-theme-primary bg-theme-ghost"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),"OpenAI API Key",e.voiceProvider==="openai"&&c.jsx("span",{className:"text-xs px-2 py-0.5 bg-sky-500/20 text-sky-600 rounded-full",children:"Active"})]}),e.openaiApiKey&&c.jsxs("span",{className:"text-xs text-emerald-500 flex items-center gap-1",children:[c.jsx(Ks,{className:"w-3 h-3"})," Configured"]})]}),c.jsx("input",{type:"password",value:e.openaiApiKey||"",onChange:Se=>n({openaiApiKey:Se.target.value||null}),placeholder:"sk-...",className:"input-stunning font-mono text-sm"}),c.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:["Get your key at ",c.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-sky-500 hover:underline",children:"platform.openai.com/api-keys"})]})]}),c.jsxs("div",{className:Ie("p-4 rounded-xl border transition-all",e.voiceProvider==="openrouter"?"border-purple-500/50 bg-purple-500/5":"border-theme-primary bg-theme-ghost"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),"OpenRouter API Key",e.voiceProvider==="openrouter"&&c.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-500/20 text-purple-600 rounded-full",children:"Active for Voice"})]}),e.openrouterApiKey&&c.jsxs("span",{className:"text-xs text-emerald-500 flex items-center gap-1",children:[c.jsx(Ks,{className:"w-3 h-3"})," Configured"]})]}),c.jsx("input",{type:"password",value:e.openrouterApiKey||"",onChange:Se=>n({openrouterApiKey:Se.target.value||null}),placeholder:"sk-or-...",className:"input-stunning font-mono text-sm"}),c.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:["Get your key at ",c.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 hover:underline",children:"openrouter.ai/keys"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-theme-muted",children:"Other Settings"}),c.jsxs("div",{onClick:()=>n({ttsEnabled:!e.ttsEnabled}),className:"flex items-center justify-between p-4 bg-theme-ghost rounded-xl cursor-pointer hover:bg-theme-hover transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Qd,{className:"text-theme-secondary"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Text-to-Speech Feedback"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Read back confirmations aloud"})]})]}),c.jsx("div",{className:Ie("h-6 w-11 rounded-full relative transition-colors",e.ttsEnabled?"bg-green-500":"bg-theme-input border border-theme-primary"),children:c.jsx("div",{className:Ie("absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-all",e.ttsEnabled?"right-1":"left-1")})})]}),c.jsxs("div",{onClick:()=>n({wakeWordEnabled:!e.wakeWordEnabled}),className:"flex items-center justify-between p-4 bg-theme-ghost rounded-xl cursor-pointer hover:bg-theme-hover transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Vo,{className:Ie("transition-colors",e.wakeWordEnabled?"text-rose-500 animate-pulse":"text-theme-secondary")}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Always Listening (Kiosk Mode)"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Say wake word to activate voice commands"})]})]}),c.jsx("div",{className:Ie("h-6 w-11 rounded-full relative transition-colors",e.wakeWordEnabled?"bg-rose-500":"bg-theme-input border border-theme-primary"),children:c.jsx("div",{className:Ie("absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-all",e.wakeWordEnabled?"right-1":"left-1")})})]}),e.wakeWordEnabled&&c.jsxs("div",{className:"p-4 bg-theme-ghost rounded-xl border border-rose-500/30 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-sm font-semibold text-rose-400",children:"Wake Words"}),c.jsx("span",{className:"text-xs text-theme-muted",children:"(select one or more)"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:DN.map(Se=>{const Ye=e.activeWakeWords?.includes(Se.id)??!1;return c.jsx("button",{onClick:()=>{const Re=e.activeWakeWords||["luma"];let at;if(Ye&&Re.length>1)at=Re.filter(Ze=>Ze!==Se.id);else if(!Ye)at=[...Re,Se.id];else return;n({activeWakeWords:at})},className:Ie("p-3 rounded-xl border-2 transition-all text-left",Ye?"border-rose-500 bg-rose-500/10":"border-theme-primary hover:border-theme-secondary opacity-60"),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:Se.label}),c.jsxs("p",{className:"text-xs text-theme-muted mt-0.5",children:['"Hey ',Se.label,'", "OK ',Se.label,'"']})]}),Ye&&c.jsx(Ks,{className:"w-4 h-4 text-rose-500"})]})},Se.id)})}),c.jsx("p",{className:"text-xs text-theme-muted mt-2",children:" Tip: You can enable multiple wake words for flexibility"})]})]})]})}),i==="fridges"&&c.jsx("div",{className:"space-y-6 animate-slide-in",children:c.jsxs("div",{className:"card-stunning p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/10 text-cyan-600",children:c.jsx(Js,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold",children:"Fridge Management"}),c.jsxs("p",{className:"text-sm text-theme-muted",children:[ie.length," / ",we===1/0?"":we," fridges",c.jsx("span",{className:Ie("ml-2 text-xs px-2 py-0.5 rounded-full",e.subscriptionTier==="basic"?"bg-zinc-100 text-zinc-600":e.subscriptionTier==="pro"?"bg-purple-100 text-purple-600":"bg-amber-100 text-amber-600"),children:e.subscriptionTier||"basic"})]})]})]})}),c.jsxs("div",{className:"bg-theme-ghost p-4 rounded-xl border border-theme-primary/50 mb-6",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{value:X,onChange:Se=>le(Se.target.value),placeholder:"New fridge name (e.g., Walk-in Cooler)",className:"input-stunning flex-1",onKeyDown:Se=>Se.key==="Enter"&&He(),disabled:!Oe}),c.jsxs("button",{onClick:He,disabled:!Oe,className:Ie("btn-stunning px-6",Oe?"btn-primary":"opacity-50 cursor-not-allowed"),children:[c.jsx(io,{className:"w-4 h-4"})," Add"]})]}),!Oe&&c.jsxs("p",{className:"text-xs text-amber-500 mt-2 flex items-center gap-1",children:[c.jsx(rv,{className:"w-3 h-3"}),"Upgrade your subscription to add more fridges"]})]}),h&&c.jsx("p",{className:"text-theme-muted",children:"Loading fridges..."}),!h&&ie.length===0&&c.jsxs("div",{className:"text-center py-8 text-theme-muted",children:[c.jsx(Js,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),c.jsx("p",{children:"No fridges configured yet"}),c.jsx("p",{className:"text-sm",children:"Add your first fridge above"})]}),c.jsx("div",{className:"space-y-3",children:ie.map((Se,Ye)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-theme-ghost rounded-xl border border-theme-primary hover:border-cyan-500/50 transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-cyan-100 text-cyan-600 flex items-center justify-center font-bold text-lg",children:Ye+1}),se===Se.id?c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx("input",{value:Le,onChange:Re=>G(Re.target.value),className:"input-stunning flex-1",autoFocus:!0,onKeyDown:Re=>{Re.key==="Enter"&&$e(Se.id),Re.key==="Escape"&&_e(null)}}),c.jsx("button",{onClick:()=>$e(Se.id),className:"p-2 text-emerald-500 hover:bg-emerald-50 rounded-lg transition-colors",children:c.jsx(Ks,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>_e(null),className:"p-2 text-theme-muted hover:bg-theme-hover rounded-lg transition-colors",children:c.jsx(Ec,{className:"w-4 h-4"})})]}):c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:Se.name}),c.jsxs("p",{className:"text-xs text-theme-muted",children:["Target: ",Se.min_temp,"C  ",Se.max_temp,"C (FSAI SC1)"]})]})]}),se!==Se.id&&c.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>rt(Se),className:"p-2 text-theme-muted hover:text-cyan-500 hover:bg-cyan-50 rounded-lg transition-colors",title:"Rename fridge",children:c.jsx(J3,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>Je(Se.id),className:"p-2 text-theme-muted hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete fridge",children:c.jsx(Go,{className:"w-4 h-4"})})]})]},Se.id))}),e.subscriptionTier==="basic"&&c.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-purple-500/10 to-cyan-500/10 border border-purple-500/20",children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 mb-1",children:"Need more fridges?"}),c.jsxs("p",{className:"text-xs text-theme-muted",children:["Upgrade to ",c.jsx("strong",{children:"Pro"})," for 2 fridges, or ",c.jsx("strong",{children:"Enterprise"})," for unlimited fridges."]}),c.jsx("button",{onClick:()=>o("subscription"),className:"mt-3 text-xs px-3 py-1.5 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"View Plans"})]})]})})]})]})]})}function bc({active:t,onClick:e,icon:n,label:a}){return c.jsxs("button",{onClick:e,className:Ie("w-full flex items-center gap-3 px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200",t?"bg-[var(--inverted-bg)] text-[var(--inverted-text)] shadow-md shadow-black/10 scale-[1.02]":"text-theme-muted hover:bg-theme-ghost hover:text-theme-primary"),children:[c.jsx(n,{className:Ie("w-5 h-5",t?"text-[var(--inverted-text)]":"text-theme-muted")}),a]})}const N5=We.forwardRef(({className:t,variant:e="default",glow:n=!1,children:a,...i},o)=>c.jsxs("div",{ref:o,className:Ie("relative overflow-hidden rounded-[var(--radius)] transition-all duration-300","border",e==="default"&&["bg-[var(--bg-glass)] backdrop-blur-[var(--blur-md)]","border-[var(--border-glass)]","shadow-[var(--shadow-lg)]"],e==="heavy"&&["bg-[var(--bg-glass-heavy)] backdrop-blur-[var(--blur-lg)]","border-[var(--border-secondary)]","shadow-[var(--shadow-xl)]"],e==="interactive"&&["bg-[var(--bg-glass)] backdrop-blur-[var(--blur-sm)]","border-[var(--border-glass)]","hover:bg-[var(--bg-elevated)] hover:border-[var(--accent-primary)]/30","hover:shadow-[var(--shadow-glow)] hover:-translate-y-1","cursor-pointer"],e==="alert"&&["bg-red-500/10 backdrop-blur-[var(--blur-md)]","border-red-500/20","shadow-[var(--shadow-md)]"],n&&"after:absolute after:inset-0 after:rounded-[var(--radius)] after:shadow-[inset_0_0_20px_rgba(255,255,255,0.2)] after:pointer-events-none",t),...i,children:[e==="interactive"&&c.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500 pointer-events-none bg-gradient-to-tr from-white/0 via-white/5 to-white/0"}),a]}));N5.displayName="GlassCard";const fA=({field:t,value:e,onChange:n})=>t.type==="select"?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium text-[var(--text-secondary)] flex items-center gap-2",children:[t.label,t.validation.required&&c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:e||"",onChange:a=>n(a.target.value),className:Ie("w-full px-4 py-3 bg-[var(--bg-input)]/50 border border-[var(--border-primary)] rounded-lg appearance-none","focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] focus:bg-white transition-all","text-[var(--text-primary)]"),children:[c.jsx("option",{value:"",disabled:!0,children:"Select an option..."}),t.validation.options?.map(a=>c.jsx("option",{value:a,children:a},a))]}),c.jsx(Cy,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}):t.type==="boolean"?c.jsxs("div",{className:"flex items-center justify-between p-4 border border-[var(--border-primary)] rounded-lg hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>n(!e),children:[c.jsxs("label",{className:"text-sm font-medium text-[var(--text-secondary)] cursor-pointer select-none",children:[t.label,t.validation.required&&c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("div",{className:Ie("w-6 h-6 rounded border flex items-center justify-center transition-colors",e?"bg-emerald-500 border-emerald-500 text-white":"border-gray-300 bg-white"),children:e&&c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium text-[var(--text-secondary)] flex items-center gap-2",children:[t.label,t.validation.required&&c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:t.type==="number"||t.type==="temperature"?"number":t.type==="time"?"time":"text",value:e||"",onChange:a=>n(a.target.value),placeholder:t.placeholder,className:Ie("w-full px-4 py-3 bg-[var(--bg-input)]/50 border border-[var(--border-primary)] rounded-lg","focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] focus:bg-white/80 transition-all","placeholder:text-gray-400")}),c.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:[t.type==="temperature"&&c.jsx(Js,{size:18}),t.type==="time"&&c.jsx(Oi,{size:18})]})]}),t.helpText&&c.jsx("p",{className:"text-xs text-[var(--text-muted)] pl-1",children:t.helpText})]});function mA({schema:t,onSave:e,initialData:n={}}){const[a,i]=Ee.useState(n),[o,h]=Ee.useState({}),[u,f]=Ee.useState([]),{startListening:m,stopListening:v,isListening:x}=og({onTranscript:j=>N(j)}),N=j=>{const A=j.toLowerCase(),k=A.match(/(?:temperature|degrees|temp)\s*(\d+(?:\.\d+)?)/);k&&y("temperature",parseFloat(k[1])),(A.includes("clean yes")||A.includes("is clean"))&&y("is_clean",!0)};Ee.useEffect(()=>{const j=[];t.correctiveActions.forEach(A=>{const[k,I,P]=A.trigger.split(" "),M=parseFloat(a[k]),ae=parseFloat(P);!isNaN(M)&&!isNaN(ae)&&I===">"&&M>ae&&j.push(...A.actions)}),f(j)},[a,t]);const y=(j,A)=>{i(k=>({...k,[j]:A}))},E=()=>{const j={};if(t.fields.forEach(A=>{A.validation.required&&!a[A.id]&&(j[A.id]="This field is required")}),Object.keys(j).length>0){h(j);return}e(a)};return c.jsxs(N5,{className:"max-w-2xl mx-auto p-6 md:p-8 space-y-8",glow:!0,children:[c.jsxs("div",{className:"flex items-start justify-between border-b border-[var(--border-secondary)] pb-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 border border-blue-200 uppercase tracking-wide",children:[t.region," Standard"]}),c.jsxs("span",{className:"text-xs text-gray-500",children:["v",t.version]})]}),c.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-[var(--gradient-primary)]",children:t.title}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Complete all fields accurately. Records are immutable."})]}),c.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:c.jsx(pA,{size:24})})]}),c.jsx("div",{className:"space-y-6",children:t.fields.map(j=>c.jsxs("div",{className:"animate-slide-in",children:[c.jsx(fA,{field:j,value:a[j.id],onChange:A=>y(j.id,A)}),o[j.id]&&c.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[c.jsx(ea,{size:12})," ",o[j.id]]})]},j.id))}),u.length>0&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 animate-pulse",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-bold mb-2",children:[c.jsx(ea,{size:20}),c.jsx("span",{children:"Corrective Action Required"})]}),c.jsx("ul",{className:"list-disc list-inside text-red-600 text-sm space-y-1",children:u.map((j,A)=>c.jsx("li",{children:j},A))})]}),c.jsxs("div",{className:"pt-6 border-t border-[var(--border-secondary)] flex items-center justify-between",children:[c.jsxs("button",{className:Ie("flex items-center gap-2 transition-colors px-4 py-2 rounded-lg",x?"bg-red-100 text-red-600 animate-pulse":"text-[var(--text-muted)] hover:text-[var(--accent-primary)] hover:bg-[var(--bg-secondary)]"),onMouseDown:m,onMouseUp:v,onTouchStart:m,onTouchEnd:v,children:[c.jsx(Vo,{size:20}),c.jsx("span",{className:"text-sm font-medium",children:x?"Listening...":"Hold for Voice Input"})]}),c.jsxs("button",{onClick:E,className:"px-8 py-3 bg-[var(--accent-primary)] text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:-translate-y-0.5 transition-all flex items-center gap-2",children:[c.jsx(n_,{size:18}),"Sign & Save Record"]})]})]})}function pA({size:t}){return c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),c.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}const qp={id:"fsai_fridge_temp_v1",title:"Cold Storage Temperature Log (FSAI)",region:"IE",type:"temp_log",version:"1.0.0",fields:[{id:"unit_name",label:"Unit Name / ID",type:"text",validation:{required:!0},placeholder:"e.g., Walk-in Fridge 1"},{id:"temperature",label:"Current Temperature",type:"temperature",validation:{required:!0,min:-5,max:8,unit:"C"},helpText:"Ensure probe is stabilized before recording."},{id:"time_check",label:"Time of Check",type:"time",validation:{required:!0}},{id:"checked_by",label:"Checked By",type:"text",validation:{required:!0},defaultValue:"Current User"},{id:"is_clean",label:"Unit Clean & Organize?",type:"boolean",validation:{required:!0}}],correctiveActions:[{trigger:"temperature > 5",actions:["Check door seal","Move food to backup unit","Call maintenance if persists > 2h"]},{trigger:"temperature > 8",actions:["CRITICAL: Discard high-risk food","Quarantine unit immediately"]}]},gA={id:"fsai_daily_cleaning_v1",title:"Daily Cleaning Schedule (FSAI)",region:"IE",type:"cleaning",version:"1.0.0",fields:[{id:"area",label:"Area / Equipment",type:"select",validation:{required:!0,options:["Prep Surfaces","Sinks & Taps","Floors","Walk-in Fridge","Line Fridge","Cookline (Hob/Grill)","Dishwasher Area"]}},{id:"chemicals_used",label:"Chemicals Used",type:"select",validation:{required:!0,options:["Sanitizer D10","Degreaser","Floor Cleaner","Hot Soapy Water"]}},{id:"method",label:"Cleaning Method",type:"text",validation:{required:!0},defaultValue:"Clean, Rinse, Sanitize, Air Dry"},{id:"time_completed",label:"Time Completed",type:"time",validation:{required:!0}},{id:"cleaned_by",label:"Cleaned By",type:"text",validation:{required:!0}},{id:"verified_by_manager",label:"Manager Verification",type:"boolean",validation:{required:!0},helpText:"I verify this area meets hygiene standards."}],correctiveActions:[{trigger:"verified_by_manager == false",actions:["Reclean area immediately","Retrain staff on cleaning procedure"]}]},vA={id:"fsai_staff_training_v1",title:"Staff Training Record (FSAI)",region:"IE",type:"temp_log",version:"1.0.0",fields:[{id:"employee_name",label:"Employee Name",type:"text",validation:{required:!0}},{id:"training_module",label:"Training Module",type:"select",validation:{required:!0,options:["Level 1 Food Safety (Induction)","Level 2 Food Safety","Allergen Management Awareness","HACCP Principles","Personal Hygiene","Cross Contamination Prevention"]}},{id:"trainer_name",label:"Trainer / Supervisor",type:"text",validation:{required:!0}},{id:"date_completed",label:"Date Completed",type:"text",validation:{required:!0},placeholder:"YYYY-MM-DD"},{id:"assessment_pass",label:"Assessment Passed?",type:"boolean",validation:{required:!0}}],correctiveActions:[{trigger:"assessment_pass == false",actions:["Schedule re-training","Limit duties until passed"]}]};async function bA(t,e,n,a="app"){let i="pass";n.temperature&&Number(n.temperature)>8&&(i="fail"),n.assessment_pass===!1&&(i="fail"),n.verified_by_manager===!1&&(i="fail");const{data:o,error:h}=await on.from("compliance_logs").insert({site_id:t,schema_id:e,data:n,status:i,source:a}).select();if(h)throw new Error(h.message);return o}const yA="modulepreload",xA=function(t){return"/restaurant/"+t},Gv={},Hp=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),u=h?.nonce||h?.getAttribute("nonce");i=f(n.map(m=>{if(m=xA(m),m in Gv)return;Gv[m]=!0;const v=m.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":yA,v||(N.as="script"),N.crossOrigin="",N.href=m,u&&N.setAttribute("nonce",u),document.head.appendChild(N),v)return new Promise((y,E)=>{N.addEventListener("load",y),N.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(h){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=h,window.dispatchEvent(u),!u.defaultPrevented)throw h}return i.then(h=>{for(const u of h||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function Pn(t){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}var Ri=Uint8Array,Ts=Uint16Array,mg=Int32Array,pg=new Ri([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gg=new Ri([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$v=new Ri([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S5=function(t,e){for(var n=new Ts(31),a=0;a<31;++a)n[a]=e+=1<<t[a-1];for(var i=new mg(n[30]),a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)i[o]=o-n[a]<<5|a;return{b:n,r:i}},j5=S5(pg,2),wA=j5.b,D0=j5.r;wA[28]=258,D0[258]=28;var _A=S5(gg,0),Wv=_A.r,P0=new Ts(32768);for(var rr=0;rr<32768;++rr){var Ol=(rr&43690)>>1|(rr&21845)<<1;Ol=(Ol&52428)>>2|(Ol&13107)<<2,Ol=(Ol&61680)>>4|(Ol&3855)<<4,P0[rr]=((Ol&65280)>>8|(Ol&255)<<8)>>1}var $d=(function(t,e,n){for(var a=t.length,i=0,o=new Ts(e);i<a;++i)t[i]&&++o[t[i]-1];var h=new Ts(e);for(i=1;i<e;++i)h[i]=h[i-1]+o[i-1]<<1;var u;if(n){u=new Ts(1<<e);var f=15-e;for(i=0;i<a;++i)if(t[i])for(var m=i<<4|t[i],v=e-t[i],x=h[t[i]-1]++<<v,N=x|(1<<v)-1;x<=N;++x)u[P0[x]>>f]=m}else for(u=new Ts(a),i=0;i<a;++i)t[i]&&(u[i]=P0[h[t[i]-1]++]>>15-t[i]);return u}),kc=new Ri(288);for(var rr=0;rr<144;++rr)kc[rr]=8;for(var rr=144;rr<256;++rr)kc[rr]=9;for(var rr=256;rr<280;++rr)kc[rr]=7;for(var rr=280;rr<288;++rr)kc[rr]=8;var Vf=new Ri(32);for(var rr=0;rr<32;++rr)Vf[rr]=5;var NA=$d(kc,9,0),SA=$d(Vf,5,0),A5=function(t){return(t+7)/8|0},jA=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ri(t.subarray(e,n))},Uo=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8},zd=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},Vp=function(t,e){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var i=n.length,o=n.slice();if(!i)return{t:C5,l:0};if(i==1){var h=new Ri(n[0].s+1);return h[n[0].s]=1,{t:h,l:1}}n.sort(function(ae,ee){return ae.f-ee.f}),n.push({s:-1,f:25001});var u=n[0],f=n[1],m=0,v=1,x=2;for(n[0]={s:-1,f:u.f+f.f,l:u,r:f};v!=i-1;)u=n[n[m].f<n[x].f?m++:x++],f=n[m!=v&&n[m].f<n[x].f?m++:x++],n[v++]={s:-1,f:u.f+f.f,l:u,r:f};for(var N=o[0].s,a=1;a<i;++a)o[a].s>N&&(N=o[a].s);var y=new Ts(N+1),E=I0(n[v-1],y,0);if(E>e){var a=0,j=0,A=E-e,k=1<<A;for(o.sort(function(ee,J){return y[J.s]-y[ee.s]||ee.f-J.f});a<i;++a){var I=o[a].s;if(y[I]>e)j+=k-(1<<E-y[I]),y[I]=e;else break}for(j>>=A;j>0;){var P=o[a].s;y[P]<e?j-=1<<e-y[P]++-1:++a}for(;a>=0&&j;--a){var M=o[a].s;y[M]==e&&(--y[M],++j)}E=e}return{t:new Ri(y),l:E}},I0=function(t,e,n){return t.s==-1?Math.max(I0(t.l,e,n+1),I0(t.r,e,n+1)):e[t.s]=n},Yv=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ts(++e),a=0,i=t[0],o=1,h=function(f){n[a++]=f},u=1;u<=e;++u)if(t[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(i),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(i);o=1,i=t[u]}return{c:n.subarray(0,a),n:e}},Fd=function(t,e){for(var n=0,a=0;a<e.length;++a)n+=t[a]*e[a];return n},k5=function(t,e,n){var a=n.length,i=A5(e+2);t[i]=a&255,t[i+1]=a>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<a;++o)t[i+o+4]=n[o];return(i+4+a)*8},Kv=function(t,e,n,a,i,o,h,u,f,m,v){Uo(e,v++,n),++i[256];for(var x=Vp(i,15),N=x.t,y=x.l,E=Vp(o,15),j=E.t,A=E.l,k=Yv(N),I=k.c,P=k.n,M=Yv(j),ae=M.c,ee=M.n,J=new Ts(19),W=0;W<I.length;++W)++J[I[W]&31];for(var W=0;W<ae.length;++W)++J[ae[W]&31];for(var Y=Vp(J,7),he=Y.t,D=Y.l,q=19;q>4&&!he[$v[q-1]];--q);var Q=m+5<<3,ie=Fd(i,kc)+Fd(o,Vf)+h,ye=Fd(i,N)+Fd(o,j)+h+14+3*q+Fd(J,he)+2*J[16]+3*J[17]+7*J[18];if(f>=0&&Q<=ie&&Q<=ye)return k5(e,v,t.subarray(f,f+m));var X,le,se,_e;if(Uo(e,v,1+(ye<ie)),v+=2,ye<ie){X=$d(N,y,0),le=N,se=$d(j,A,0),_e=j;var Le=$d(he,D,0);Uo(e,v,P-257),Uo(e,v+5,ee-1),Uo(e,v+10,q-4),v+=14;for(var W=0;W<q;++W)Uo(e,v+3*W,he[$v[W]]);v+=3*q;for(var G=[I,ae],O=0;O<2;++O)for(var B=G[O],W=0;W<B.length;++W){var H=B[W]&31;Uo(e,v,Le[H]),v+=he[H],H>15&&(Uo(e,v,B[W]>>5&127),v+=B[W]>>12)}}else X=NA,le=kc,se=SA,_e=Vf;for(var W=0;W<u;++W){var ne=a[W];if(ne>255){var H=ne>>18&31;zd(e,v,X[H+257]),v+=le[H+257],H>7&&(Uo(e,v,ne>>23&31),v+=pg[H]);var oe=ne&31;zd(e,v,se[oe]),v+=_e[oe],oe>3&&(zd(e,v,ne>>5&8191),v+=gg[oe])}else zd(e,v,X[ne]),v+=le[ne]}return zd(e,v,X[256]),v+le[256]},AA=new mg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),C5=new Ri(0),kA=function(t,e,n,a,i,o){var h=o.z||t.length,u=new Ri(a+h+5*(1+Math.ceil(h/7e3))+i),f=u.subarray(a,u.length-i),m=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var x=AA[e-1],N=x>>13,y=x&8191,E=(1<<n)-1,j=o.p||new Ts(32768),A=o.h||new Ts(E+1),k=Math.ceil(n/3),I=2*k,P=function(rt){return(t[rt]^t[rt+1]<<k^t[rt+2]<<I)&E},M=new mg(25e3),ae=new Ts(288),ee=new Ts(32),J=0,W=0,Y=o.i||0,he=0,D=o.w||0,q=0;Y+2<h;++Y){var Q=P(Y),ie=Y&32767,ye=A[Q];if(j[ie]=ye,A[Q]=ie,D<=Y){var X=h-Y;if((J>7e3||he>24576)&&(X>423||!m)){v=Kv(t,f,0,M,ae,ee,W,he,q,Y-q,v),he=J=W=0,q=Y;for(var le=0;le<286;++le)ae[le]=0;for(var le=0;le<30;++le)ee[le]=0}var se=2,_e=0,Le=y,G=ie-ye&32767;if(X>2&&Q==P(Y-G))for(var O=Math.min(N,X)-1,B=Math.min(32767,Y),H=Math.min(258,X);G<=B&&--Le&&ie!=ye;){if(t[Y+se]==t[Y+se-G]){for(var ne=0;ne<H&&t[Y+ne]==t[Y+ne-G];++ne);if(ne>se){if(se=ne,_e=G,ne>O)break;for(var oe=Math.min(G,ne-2),ue=0,le=0;le<oe;++le){var ge=Y-G+le&32767,we=j[ge],Oe=ge-we&32767;Oe>ue&&(ue=Oe,ye=ge)}}}ie=ye,ye=j[ie],G+=ie-ye&32767}if(_e){M[he++]=268435456|D0[se]<<18|Wv[_e];var He=D0[se]&31,$e=Wv[_e]&31;W+=pg[He]+gg[$e],++ae[257+He],++ee[$e],D=Y+se,++J}else M[he++]=t[Y],++ae[t[Y]]}}for(Y=Math.max(Y,D);Y<h;++Y)M[he++]=t[Y],++ae[t[Y]];v=Kv(t,f,m,M,ae,ee,W,he,q,Y-q,v),m||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=A,o.p=j,o.i=Y,o.w=D)}else{for(var Y=o.w||0;Y<h+m;Y+=65535){var Je=Y+65535;Je>=h&&(f[v/8|0]=m,Je=h),v=k5(f,v+1,t.subarray(Y,Je))}o.i=h}return jA(u,0,a+A5(v)+i)},E5=function(){var t=1,e=0;return{p:function(n){for(var a=t,i=e,o=n.length|0,h=0;h!=o;){for(var u=Math.min(h+2655,o);h<u;++h)i+=a+=n[h];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}t=a,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},CA=function(t,e,n,a,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new Ri(o.length+t.length);h.set(o),h.set(t,o.length),t=h,i.w=o.length}return kA(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,a,i)},T5=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},EA=function(t,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=E5();i.p(e.dictionary),T5(t,2,i.d())}};function B0(t,e){e||(e={});var n=E5();n.p(t);var a=CA(t,e,e.dictionary?6:2,4);return EA(a,e),T5(a,a.length-4,n.d()),a}var TA=typeof TextDecoder<"u"&&new TextDecoder,OA=0;try{TA.decode(C5,{stream:!0}),OA=1}catch{}function LA(t){if(Array.isArray(t))return t}function RA(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,i,o,h,u=[],f=!0,m=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(a=o.call(n)).done)&&(u.push(a.value),u.length!==e);f=!0);}catch(v){m=!0,i=v}finally{try{if(!f&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(m)throw i}}return u}}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function MA(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xv(t,e):void 0}}function DA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jv(t,e){return LA(t)||RA(t,e)||MA(t,e)||DA()}function Qv(t,e="utf8"){return new TextDecoder(e).decode(t)}const PA=new TextEncoder;function IA(t){return PA.encode(t)}const BA=1024*8,UA=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Gp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=BA,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let h=i;(ArrayBuffer.isView(e)||e instanceof vg)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+i),e=e.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,i=new Uint8Array(a);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=Gp[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+a);if(this.littleEndian===UA&&n!=="uint8"&&n!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+a));u.reverse();const f=new Gp[n](u.buffer);return this.offset+=a,f.reverse(),f}const h=new Gp[n](o);return this.offset+=a,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return Qv(this.readBytes(e))}decodeText(e=1,n="utf8"){return Qv(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(IA(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qu(t){let e=t.length;for(;--e>=0;)t[e]=0}const zA=3,FA=258,O5=29,qA=256,HA=qA+1+O5,L5=30,VA=512,GA=new Array((HA+2)*2);Qu(GA);const $A=new Array(L5*2);Qu($A);const WA=new Array(VA);Qu(WA);const YA=new Array(FA-zA+1);Qu(YA);const KA=new Array(O5);Qu(KA);const XA=new Array(L5);Qu(XA);const JA=(t,e,n,a)=>{let i=t&65535|0,o=t>>>16&65535|0,h=0;for(;n!==0;){h=n>2e3?2e3:n,n-=h;do i=i+e[a++]|0,o=o+i|0;while(--h);i%=65521,o%=65521}return i|o<<16|0};var U0=JA;const QA=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},ZA=new Uint32Array(QA()),ek=(t,e,n,a)=>{const i=ZA,o=a+n;t^=-1;for(let h=a;h<o;h++)t=t>>>8^i[(t^e[h])&255];return t^-1};var ro=ek,z0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},R5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const tk=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var nk=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)tk(n,a)&&(t[a]=n[a])}}return t},rk=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,i=0,o=t.length;a<o;a++){let h=t[a];n.set(h,i),i+=h.length}return n},M5={assign:nk,flattenChunks:rk};let D5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{D5=!1}const ih=new Uint8Array(256);for(let t=0;t<256;t++)ih[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ih[254]=ih[254]=1;var ak=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,i,o,h=t.length,u=0;for(i=0;i<h;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<h&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),i++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(u),o=0,i=0;o<u;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<h&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const sk=(t,e)=>{if(e<65534&&t.subarray&&D5)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var ik=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,i;const o=new Array(n*2);for(i=0,a=0;a<n;){let h=t[a++];if(h<128){o[i++]=h;continue}let u=ih[h];if(u>4){o[i++]=65533,a+=u-1;continue}for(h&=u===2?31:u===3?15:7;u>1&&a<n;)h=h<<6|t[a++]&63,u--;if(u>1){o[i++]=65533;continue}h<65536?o[i++]=h:(h-=65536,o[i++]=55296|h>>10&1023,o[i++]=56320|h&1023)}return sk(o,i)},ok=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ih[t[n]]>e?n:e},F0={string2buf:ak,buf2string:ik,utf8border:ok};function lk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ck=lk;const pf=16209,uk=16191;var dk=function(e,n){let a,i,o,h,u,f,m,v,x,N,y,E,j,A,k,I,P,M,ae,ee,J,W,Y,he;const D=e.state;a=e.next_in,Y=e.input,i=a+(e.avail_in-5),o=e.next_out,he=e.output,h=o-(n-e.avail_out),u=o+(e.avail_out-257),f=D.dmax,m=D.wsize,v=D.whave,x=D.wnext,N=D.window,y=D.hold,E=D.bits,j=D.lencode,A=D.distcode,k=(1<<D.lenbits)-1,I=(1<<D.distbits)-1;e:do{E<15&&(y+=Y[a++]<<E,E+=8,y+=Y[a++]<<E,E+=8),P=j[y&k];t:for(;;){if(M=P>>>24,y>>>=M,E-=M,M=P>>>16&255,M===0)he[o++]=P&65535;else if(M&16){ae=P&65535,M&=15,M&&(E<M&&(y+=Y[a++]<<E,E+=8),ae+=y&(1<<M)-1,y>>>=M,E-=M),E<15&&(y+=Y[a++]<<E,E+=8,y+=Y[a++]<<E,E+=8),P=A[y&I];n:for(;;){if(M=P>>>24,y>>>=M,E-=M,M=P>>>16&255,M&16){if(ee=P&65535,M&=15,E<M&&(y+=Y[a++]<<E,E+=8,E<M&&(y+=Y[a++]<<E,E+=8)),ee+=y&(1<<M)-1,ee>f){e.msg="invalid distance too far back",D.mode=pf;break e}if(y>>>=M,E-=M,M=o-h,ee>M){if(M=ee-M,M>v&&D.sane){e.msg="invalid distance too far back",D.mode=pf;break e}if(J=0,W=N,x===0){if(J+=m-M,M<ae){ae-=M;do he[o++]=N[J++];while(--M);J=o-ee,W=he}}else if(x<M){if(J+=m+x-M,M-=x,M<ae){ae-=M;do he[o++]=N[J++];while(--M);if(J=0,x<ae){M=x,ae-=M;do he[o++]=N[J++];while(--M);J=o-ee,W=he}}}else if(J+=x-M,M<ae){ae-=M;do he[o++]=N[J++];while(--M);J=o-ee,W=he}for(;ae>2;)he[o++]=W[J++],he[o++]=W[J++],he[o++]=W[J++],ae-=3;ae&&(he[o++]=W[J++],ae>1&&(he[o++]=W[J++]))}else{J=o-ee;do he[o++]=he[J++],he[o++]=he[J++],he[o++]=he[J++],ae-=3;while(ae>2);ae&&(he[o++]=he[J++],ae>1&&(he[o++]=he[J++]))}}else if((M&64)===0){P=A[(P&65535)+(y&(1<<M)-1)];continue n}else{e.msg="invalid distance code",D.mode=pf;break e}break}}else if((M&64)===0){P=j[(P&65535)+(y&(1<<M)-1)];continue t}else if(M&32){D.mode=uk;break e}else{e.msg="invalid literal/length code",D.mode=pf;break e}break}}while(a<i&&o<u);ae=E>>3,a-=ae,E-=ae<<3,y&=(1<<E)-1,e.next_in=a,e.next_out=o,e.avail_in=a<i?5+(i-a):5-(a-i),e.avail_out=o<u?257+(u-o):257-(o-u),D.hold=y,D.bits=E};const Tu=15,Zv=852,eb=592,tb=0,$p=1,nb=2,hk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gk=(t,e,n,a,i,o,h,u)=>{const f=u.bits;let m=0,v=0,x=0,N=0,y=0,E=0,j=0,A=0,k=0,I=0,P,M,ae,ee,J,W=null,Y;const he=new Uint16Array(Tu+1),D=new Uint16Array(Tu+1);let q=null,Q,ie,ye;for(m=0;m<=Tu;m++)he[m]=0;for(v=0;v<a;v++)he[e[n+v]]++;for(y=f,N=Tu;N>=1&&he[N]===0;N--);if(y>N&&(y=N),N===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,u.bits=1,0;for(x=1;x<N&&he[x]===0;x++);for(y<x&&(y=x),A=1,m=1;m<=Tu;m++)if(A<<=1,A-=he[m],A<0)return-1;if(A>0&&(t===tb||N!==1))return-1;for(D[1]=0,m=1;m<Tu;m++)D[m+1]=D[m]+he[m];for(v=0;v<a;v++)e[n+v]!==0&&(h[D[e[n+v]]++]=v);if(t===tb?(W=q=h,Y=20):t===$p?(W=hk,q=fk,Y=257):(W=mk,q=pk,Y=0),I=0,v=0,m=x,J=o,E=y,j=0,ae=-1,k=1<<y,ee=k-1,t===$p&&k>Zv||t===nb&&k>eb)return 1;for(;;){Q=m-j,h[v]+1<Y?(ie=0,ye=h[v]):h[v]>=Y?(ie=q[h[v]-Y],ye=W[h[v]-Y]):(ie=96,ye=0),P=1<<m-j,M=1<<E,x=M;do M-=P,i[J+(I>>j)+M]=Q<<24|ie<<16|ye|0;while(M!==0);for(P=1<<m-1;I&P;)P>>=1;if(P!==0?(I&=P-1,I+=P):I=0,v++,--he[m]===0){if(m===N)break;m=e[n+h[v]]}if(m>y&&(I&ee)!==ae){for(j===0&&(j=y),J+=x,E=m-j,A=1<<E;E+j<N&&(A-=he[E+j],!(A<=0));)E++,A<<=1;if(k+=1<<E,t===$p&&k>Zv||t===nb&&k>eb)return 1;ae=I&ee,i[ae]=y<<24|E<<16|J-o|0}}return I!==0&&(i[J+I]=m-j<<24|64<<16|0),u.bits=y,0};var Wd=gk;const vk=0,P5=1,I5=2,{Z_FINISH:rb,Z_BLOCK:bk,Z_TREES:gf,Z_OK:Cc,Z_STREAM_END:yk,Z_NEED_DICT:xk,Z_STREAM_ERROR:Qs,Z_DATA_ERROR:B5,Z_MEM_ERROR:U5,Z_BUF_ERROR:wk,Z_DEFLATED:ab}=R5,am=16180,sb=16181,ib=16182,ob=16183,lb=16184,cb=16185,ub=16186,db=16187,hb=16188,fb=16189,Gf=16190,zo=16191,Wp=16192,mb=16193,Yp=16194,pb=16195,gb=16196,vb=16197,bb=16198,vf=16199,bf=16200,yb=16201,xb=16202,wb=16203,_b=16204,Nb=16205,Kp=16206,Sb=16207,jb=16208,cr=16209,z5=16210,F5=16211,_k=852,Nk=592,Sk=15,jk=Sk,Ab=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Ak(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Tc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<am||e.mode>F5?1:0},q5=t=>{if(Tc(t))return Qs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=am,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_k),e.distcode=e.distdyn=new Int32Array(Nk),e.sane=1,e.back=-1,Cc},H5=t=>{if(Tc(t))return Qs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,q5(t)},V5=(t,e)=>{let n;if(Tc(t))return Qs;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qs:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,H5(t))},G5=(t,e)=>{if(!t)return Qs;const n=new Ak;t.state=n,n.strm=t,n.window=null,n.mode=am;const a=V5(t,e);return a!==Cc&&(t.state=null),a},kk=t=>G5(t,jk);let kb=!0,Xp,Jp;const Ck=t=>{if(kb){Xp=new Int32Array(512),Jp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Wd(P5,t.lens,0,288,Xp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Wd(I5,t.lens,0,32,Jp,0,t.work,{bits:5}),kb=!1}t.lencode=Xp,t.lenbits=9,t.distcode=Jp,t.distbits=5},$5=(t,e,n,a)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>a&&(i=a),o.window.set(e.subarray(n-a,n-a+i),o.wnext),a-=i,a?(o.window.set(e.subarray(n-a,n),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Ek=(t,e)=>{let n,a,i,o,h,u,f,m,v,x,N,y,E,j,A=0,k,I,P,M,ae,ee,J,W;const Y=new Uint8Array(4);let he,D;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Tc(t)||!t.output||!t.input&&t.avail_in!==0)return Qs;n=t.state,n.mode===zo&&(n.mode=Wp),h=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,a=t.input,u=t.avail_in,m=n.hold,v=n.bits,x=u,N=f,W=Cc;e:for(;;)switch(n.mode){case am:if(n.wrap===0){n.mode=Wp;break}for(;v<16;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(n.wrap&2&&m===35615){n.wbits===0&&(n.wbits=15),n.check=0,Y[0]=m&255,Y[1]=m>>>8&255,n.check=ro(n.check,Y,2,0),m=0,v=0,n.mode=sb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((m&255)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=cr;break}if((m&15)!==ab){t.msg="unknown compression method",n.mode=cr;break}if(m>>>=4,v-=4,J=(m&15)+8,n.wbits===0&&(n.wbits=J),J>15||J>n.wbits){t.msg="invalid window size",n.mode=cr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=m&512?fb:zo,m=0,v=0;break;case sb:for(;v<16;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(n.flags=m,(n.flags&255)!==ab){t.msg="unknown compression method",n.mode=cr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=cr;break}n.head&&(n.head.text=m>>8&1),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=ro(n.check,Y,2,0)),m=0,v=0,n.mode=ib;case ib:for(;v<32;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}n.head&&(n.head.time=m),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,Y[2]=m>>>16&255,Y[3]=m>>>24&255,n.check=ro(n.check,Y,4,0)),m=0,v=0,n.mode=ob;case ob:for(;v<16;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}n.head&&(n.head.xflags=m&255,n.head.os=m>>8),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=ro(n.check,Y,2,0)),m=0,v=0,n.mode=lb;case lb:if(n.flags&1024){for(;v<16;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=ro(n.check,Y,2,0)),m=0,v=0}else n.head&&(n.head.extra=null);n.mode=cb;case cb:if(n.flags&1024&&(y=n.length,y>u&&(y=u),y&&(n.head&&(J=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(o,o+y),J)),n.flags&512&&n.wrap&4&&(n.check=ro(n.check,a,y,o)),u-=y,o+=y,n.length-=y),n.length))break e;n.length=0,n.mode=ub;case ub:if(n.flags&2048){if(u===0)break e;y=0;do J=a[o+y++],n.head&&J&&n.length<65536&&(n.head.name+=String.fromCharCode(J));while(J&&y<u);if(n.flags&512&&n.wrap&4&&(n.check=ro(n.check,a,y,o)),u-=y,o+=y,J)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=db;case db:if(n.flags&4096){if(u===0)break e;y=0;do J=a[o+y++],n.head&&J&&n.length<65536&&(n.head.comment+=String.fromCharCode(J));while(J&&y<u);if(n.flags&512&&n.wrap&4&&(n.check=ro(n.check,a,y,o)),u-=y,o+=y,J)break e}else n.head&&(n.head.comment=null);n.mode=hb;case hb:if(n.flags&512){for(;v<16;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(n.wrap&4&&m!==(n.check&65535)){t.msg="header crc mismatch",n.mode=cr;break}m=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=zo;break;case fb:for(;v<32;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}t.adler=n.check=Ab(m),m=0,v=0,n.mode=Gf;case Gf:if(n.havedict===0)return t.next_out=h,t.avail_out=f,t.next_in=o,t.avail_in=u,n.hold=m,n.bits=v,xk;t.adler=n.check=1,n.mode=zo;case zo:if(e===bk||e===gf)break e;case Wp:if(n.last){m>>>=v&7,v-=v&7,n.mode=Kp;break}for(;v<3;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}switch(n.last=m&1,m>>>=1,v-=1,m&3){case 0:n.mode=mb;break;case 1:if(Ck(n),n.mode=vf,e===gf){m>>>=2,v-=2;break e}break;case 2:n.mode=gb;break;case 3:t.msg="invalid block type",n.mode=cr}m>>>=2,v-=2;break;case mb:for(m>>>=v&7,v-=v&7;v<32;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if((m&65535)!==(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=cr;break}if(n.length=m&65535,m=0,v=0,n.mode=Yp,e===gf)break e;case Yp:n.mode=pb;case pb:if(y=n.length,y){if(y>u&&(y=u),y>f&&(y=f),y===0)break e;i.set(a.subarray(o,o+y),h),u-=y,o+=y,f-=y,h+=y,n.length-=y;break}n.mode=zo;break;case gb:for(;v<14;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(n.nlen=(m&31)+257,m>>>=5,v-=5,n.ndist=(m&31)+1,m>>>=5,v-=5,n.ncode=(m&15)+4,m>>>=4,v-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=cr;break}n.have=0,n.mode=vb;case vb:for(;n.have<n.ncode;){for(;v<3;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}n.lens[q[n.have++]]=m&7,m>>>=3,v-=3}for(;n.have<19;)n.lens[q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,he={bits:n.lenbits},W=Wd(vk,n.lens,0,19,n.lencode,0,n.work,he),n.lenbits=he.bits,W){t.msg="invalid code lengths set",n.mode=cr;break}n.have=0,n.mode=bb;case bb:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[m&(1<<n.lenbits)-1],k=A>>>24,I=A>>>16&255,P=A&65535,!(k<=v);){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(P<16)m>>>=k,v-=k,n.lens[n.have++]=P;else{if(P===16){for(D=k+2;v<D;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(m>>>=k,v-=k,n.have===0){t.msg="invalid bit length repeat",n.mode=cr;break}J=n.lens[n.have-1],y=3+(m&3),m>>>=2,v-=2}else if(P===17){for(D=k+3;v<D;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}m>>>=k,v-=k,J=0,y=3+(m&7),m>>>=3,v-=3}else{for(D=k+7;v<D;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}m>>>=k,v-=k,J=0,y=11+(m&127),m>>>=7,v-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=cr;break}for(;y--;)n.lens[n.have++]=J}}if(n.mode===cr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=cr;break}if(n.lenbits=9,he={bits:n.lenbits},W=Wd(P5,n.lens,0,n.nlen,n.lencode,0,n.work,he),n.lenbits=he.bits,W){t.msg="invalid literal/lengths set",n.mode=cr;break}if(n.distbits=6,n.distcode=n.distdyn,he={bits:n.distbits},W=Wd(I5,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,he),n.distbits=he.bits,W){t.msg="invalid distances set",n.mode=cr;break}if(n.mode=vf,e===gf)break e;case vf:n.mode=bf;case bf:if(u>=6&&f>=258){t.next_out=h,t.avail_out=f,t.next_in=o,t.avail_in=u,n.hold=m,n.bits=v,dk(t,N),h=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,a=t.input,u=t.avail_in,m=n.hold,v=n.bits,n.mode===zo&&(n.back=-1);break}for(n.back=0;A=n.lencode[m&(1<<n.lenbits)-1],k=A>>>24,I=A>>>16&255,P=A&65535,!(k<=v);){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(I&&(I&240)===0){for(M=k,ae=I,ee=P;A=n.lencode[ee+((m&(1<<M+ae)-1)>>M)],k=A>>>24,I=A>>>16&255,P=A&65535,!(M+k<=v);){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}m>>>=M,v-=M,n.back+=M}if(m>>>=k,v-=k,n.back+=k,n.length=P,I===0){n.mode=Nb;break}if(I&32){n.back=-1,n.mode=zo;break}if(I&64){t.msg="invalid literal/length code",n.mode=cr;break}n.extra=I&15,n.mode=yb;case yb:if(n.extra){for(D=n.extra;v<D;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=xb;case xb:for(;A=n.distcode[m&(1<<n.distbits)-1],k=A>>>24,I=A>>>16&255,P=A&65535,!(k<=v);){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if((I&240)===0){for(M=k,ae=I,ee=P;A=n.distcode[ee+((m&(1<<M+ae)-1)>>M)],k=A>>>24,I=A>>>16&255,P=A&65535,!(M+k<=v);){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}m>>>=M,v-=M,n.back+=M}if(m>>>=k,v-=k,n.back+=k,I&64){t.msg="invalid distance code",n.mode=cr;break}n.offset=P,n.extra=I&15,n.mode=wb;case wb:if(n.extra){for(D=n.extra;v<D;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=cr;break}n.mode=_b;case _b:if(f===0)break e;if(y=N-f,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=cr;break}y>n.wnext?(y-=n.wnext,E=n.wsize-y):E=n.wnext-y,y>n.length&&(y=n.length),j=n.window}else j=i,E=h-n.offset,y=n.length;y>f&&(y=f),f-=y,n.length-=y;do i[h++]=j[E++];while(--y);n.length===0&&(n.mode=bf);break;case Nb:if(f===0)break e;i[h++]=n.length,f--,n.mode=bf;break;case Kp:if(n.wrap){for(;v<32;){if(u===0)break e;u--,m|=a[o++]<<v,v+=8}if(N-=f,t.total_out+=N,n.total+=N,n.wrap&4&&N&&(t.adler=n.check=n.flags?ro(n.check,i,N,h-N):U0(n.check,i,N,h-N)),N=f,n.wrap&4&&(n.flags?m:Ab(m))!==n.check){t.msg="incorrect data check",n.mode=cr;break}m=0,v=0}n.mode=Sb;case Sb:if(n.wrap&&n.flags){for(;v<32;){if(u===0)break e;u--,m+=a[o++]<<v,v+=8}if(n.wrap&4&&m!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=cr;break}m=0,v=0}n.mode=jb;case jb:W=yk;break e;case cr:W=B5;break e;case z5:return U5;case F5:default:return Qs}return t.next_out=h,t.avail_out=f,t.next_in=o,t.avail_in=u,n.hold=m,n.bits=v,(n.wsize||N!==t.avail_out&&n.mode<cr&&(n.mode<Kp||e!==rb))&&$5(t,t.output,t.next_out,N-t.avail_out),x-=t.avail_in,N-=t.avail_out,t.total_in+=x,t.total_out+=N,n.total+=N,n.wrap&4&&N&&(t.adler=n.check=n.flags?ro(n.check,i,N,t.next_out-N):U0(n.check,i,N,t.next_out-N)),t.data_type=n.bits+(n.last?64:0)+(n.mode===zo?128:0)+(n.mode===vf||n.mode===Yp?256:0),(x===0&&N===0||e===rb)&&W===Cc&&(W=wk),W},Tk=t=>{if(Tc(t))return Qs;let e=t.state;return e.window&&(e.window=null),t.state=null,Cc},Ok=(t,e)=>{if(Tc(t))return Qs;const n=t.state;return(n.wrap&2)===0?Qs:(n.head=e,e.done=!1,Cc)},Lk=(t,e)=>{const n=e.length;let a,i,o;return Tc(t)||(a=t.state,a.wrap!==0&&a.mode!==Gf)?Qs:a.mode===Gf&&(i=1,i=U0(i,e,n,0),i!==a.check)?B5:(o=$5(t,e,n,n),o?(a.mode=z5,U5):(a.havedict=1,Cc))};var Rk=H5,Mk=V5,Dk=q5,Pk=kk,Ik=G5,Bk=Ek,Uk=Tk,zk=Ok,Fk=Lk,qk="pako inflate (from Nodeca project)",qo={inflateReset:Rk,inflateReset2:Mk,inflateResetKeep:Dk,inflateInit:Pk,inflateInit2:Ik,inflate:Bk,inflateEnd:Uk,inflateGetHeader:zk,inflateSetDictionary:Fk,inflateInfo:qk};function Hk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vk=Hk;const W5=Object.prototype.toString,{Z_NO_FLUSH:Gk,Z_FINISH:$k,Z_OK:oh,Z_STREAM_END:Qp,Z_NEED_DICT:Zp,Z_STREAM_ERROR:Wk,Z_DATA_ERROR:Cb,Z_MEM_ERROR:Yk}=R5;function ch(t){this.options=M5.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ck,this.strm.avail_out=0;let n=qo.inflateInit2(this.strm,e.windowBits);if(n!==oh)throw new Error(z0[n]);if(this.header=new Vk,qo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=F0.string2buf(e.dictionary):W5.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=qo.inflateSetDictionary(this.strm,e.dictionary),n!==oh)))throw new Error(z0[n])}ch.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let o,h,u;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?$k:Gk,W5.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),o=qo.inflate(n,h),o===Zp&&i&&(o=qo.inflateSetDictionary(n,i),o===oh?o=qo.inflate(n,h):o===Cb&&(o=Zp));n.avail_in>0&&o===Qp&&n.state.wrap>0&&t[n.next_in]!==0;)qo.inflateReset(n),o=qo.inflate(n,h);switch(o){case Wk:case Cb:case Zp:case Yk:return this.onEnd(o),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||o===Qp))if(this.options.to==="string"){let f=F0.utf8border(n.output,n.next_out),m=n.next_out-f,v=F0.buf2string(n.output,f);n.next_out=m,n.avail_out=a-m,m&&n.output.set(n.output.subarray(f,f+m),0),this.onData(v)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===oh&&u===0)){if(o===Qp)return o=qo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ch.prototype.onData=function(t){this.chunks.push(t)};ch.prototype.onEnd=function(t){t===oh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=M5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Kk(t,e){const n=new ch(e);if(n.push(t),n.err)throw n.msg||z0[n.err];return n.result}var Xk=ch,Jk=Kk,Qk={Inflate:Xk,inflate:Jk};const{Inflate:Zk,inflate:e7}=Qk;var Eb=Zk,t7=e7;const Y5=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Y5[t]=e}const Tb=4294967295;function n7(t,e,n){let a=t;for(let i=0;i<n;i++)a=Y5[(a^e[i])&255]^a>>>8;return a}function r7(t,e){return(n7(Tb,t,e)^Tb)>>>0}function Ob(t,e,n){const a=t.readUint32(),i=r7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${i}`)}function K5(t,e,n){for(let a=0;a<n;a++)e[a]=t[a]}function X5(t,e,n,a){let i=0;for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}function J5(t,e,n,a){let i=0;if(n.length===0)for(;i<a;i++)e[i]=t[i];else for(;i<a;i++)e[i]=t[i]+n[i]&255}function Q5(t,e,n,a,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<a;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function Z5(t,e,n,a,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<a;o++)e[o]=t[o]+a7(e[o-i],n[o],n[o-i])&255}}function a7(t,e,n){const a=t+e-n,i=Math.abs(a-t),o=Math.abs(a-e),h=Math.abs(a-n);return i<=o&&i<=h?t:o<=h?e:n}function s7(t,e,n,a,i,o){switch(t){case 0:K5(e,n,i);break;case 1:X5(e,n,i,o);break;case 2:J5(e,n,a,i);break;case 3:Q5(e,n,a,i,o);break;case 4:Z5(e,n,a,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const i7=new Uint16Array([255]),o7=new Uint8Array(i7.buffer),l7=o7[0]===255;function c7(t){const{data:e,width:n,height:a,channels:i,depth:o}=t,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*i,f=new Uint8Array(a*n*u);let m=0;for(let v=0;v<7;v++){const x=h[v],N=Math.ceil((n-x.x)/x.xStep),y=Math.ceil((a-x.y)/x.yStep);if(N<=0||y<=0)continue;const E=N*u,j=new Uint8Array(E);for(let A=0;A<y;A++){const k=e[m++],I=e.subarray(m,m+E);m+=E;const P=new Uint8Array(E);s7(k,I,P,j,E,u),j.set(P);for(let M=0;M<N;M++){const ae=x.x+M*x.xStep,ee=x.y+A*x.yStep;if(!(ae>=n||ee>=a))for(let J=0;J<u;J++)f[(ee*n+ae)*u+J]=P[M*u+J]}}}if(o===16){const v=new Uint16Array(f.buffer);if(l7)for(let x=0;x<v.length;x++)v[x]=u7(v[x]);return v}else return f}function u7(t){return(t&255)<<8|t>>8&255}const d7=new Uint16Array([255]),h7=new Uint8Array(d7.buffer),f7=h7[0]===255,m7=new Uint8Array(0);function Lb(t){const{data:e,width:n,height:a,channels:i,depth:o}=t,h=Math.ceil(o/8)*i,u=Math.ceil(o/8*i*n),f=new Uint8Array(a*u);let m=m7,v=0,x,N;for(let y=0;y<a;y++){switch(x=e.subarray(v+1,v+1+u),N=f.subarray(y*u,(y+1)*u),e[v]){case 0:K5(x,N,u);break;case 1:X5(x,N,u,h);break;case 2:J5(x,N,m,u);break;case 3:Q5(x,N,m,u,h);break;case 4:Z5(x,N,m,u,h);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}m=N,v+=u+1}if(o===16){const y=new Uint16Array(f.buffer);if(f7)for(let E=0;E<y.length;E++)y[E]=p7(y[E]);return y}else return f}function p7(t){return(t&255)<<8|t>>8&255}const kf=Uint8Array.of(137,80,78,71,13,10,26,10);function Rb(t){if(!g7(t.readBytes(kf.length)))throw new Error("wrong PNG signature")}function g7(t){if(t.length<kf.length)return!1;for(let e=0;e<kf.length;e++)if(t[e]!==kf[e])return!1;return!0}const v7="tEXt",b7=0,ex=new TextDecoder("latin1");function y7(t){if(w7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const x7=/^[\u0000-\u00FF]*$/;function w7(t){if(!x7.test(t))throw new Error("invalid latin1 text")}function _7(t,e,n){const a=tx(e);t[a]=N7(e,n-a.length-1)}function tx(t){for(t.mark();t.readByte()!==b7;);const e=t.offset;t.reset();const n=ex.decode(t.readBytes(e-t.offset-1));return t.skip(1),y7(n),n}function N7(t,e){return ex.decode(t.readBytes(e))}const As={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},e0={UNKNOWN:-1,DEFLATE:0},Mb={UNKNOWN:-1,ADAPTIVE:0},t0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},yf={NONE:0,BACKGROUND:1,PREVIOUS:2},n0={SOURCE:0,OVER:1};class S7 extends vg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Eb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=e0.UNKNOWN,this._filterMethod=Mb.UNKNOWN,this._interlaceMethod=t0.UNKNOWN,this._colorType=As.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Rb(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Rb(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case v7:_7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Ob(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Ob(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=j7(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case As.GREYSCALE:a=1;break;case As.TRUECOLOUR:a=3;break;case As.INDEXED_COLOUR:a=1;break;case As.GREYSCALE_ALPHA:a=2;break;case As.TRUECOLOUR_ALPHA:a=4;break;case As.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==e0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case As.GREYSCALE:case As.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case As.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case As.UNKNOWN:case As.GREYSCALE_ALPHA:case As.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=tx(this),a=this.readUint8();if(a!==e0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:t7(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=Lb({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case yf.NONE:break;case yf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const h=(i*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[h+u]=0}break;case yf.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,i=(o,h)=>{const u=((o+n.yOffset)*this._png.width+n.xOffset+h)*this._png.channels,f=(o*n.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(n.blendOp){case n0.SOURCE:for(let o=0;o<n.height;o++)for(let h=0;h<n.width;h++){const{index:u,frameIndex:f}=i(o,h);for(let m=0;m<this._png.channels;m++)e.data[u+m]=n.data[f+m]}break;case n0.OVER:for(let o=0;o<n.height;o++)for(let h=0;h<n.width;h++){const{index:u,frameIndex:f}=i(o,h);for(let m=0;m<this._png.channels;m++){const v=n.data[f+this._png.channels-1]/a,x=m%(this._png.channels-1)===0?1:n.data[f+m],N=Math.floor(v*x+(1-v)*e.data[u+m]);e.data[u+m]+=N}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Mb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===t0.NO_INTERLACE)this._png.data=Lb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===t0.ADAM7)this._png.data=c7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:yf.NONE,blendOp:n0.SOURCE,data:e}),this._inflator=new Eb,this._writingDataChunks=!1}}function j7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Db;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Db||(Db={}));function A7(t,e){return new S7(t,e).decode()}var zt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function r0(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var Yn={log:r0,warn:function(t){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):r0.call(null,arguments))},error:function(t){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):r0(t))}};function a0(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){wc(a.response,e,n)},a.onerror=function(){Yn.error("could not download file")},a.send()}function Pb(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wc=zt.saveAs||((typeof window>"u"?"undefined":Pn(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var a=zt.URL||zt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Pb(i.href)?a0(t,e,n):xf(i,i.target="_blank"):xf(i)):(i.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){xf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Pb(t))a0(t,e,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){xf(a)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Pn(o)!=="object"&&(Yn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return a0(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(zt.HTMLElement)||zt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||i&&o)&&(typeof FileReader>"u"?"undefined":Pn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var v=u.result;v=h?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=v:location=v,a=null},u.readAsDataURL(t)}else{var f=zt.URL||zt.webkitURL,m=f.createObjectURL(t);a?a.location=m:location.href=m,a=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});function nx(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],a=0;a<n.length;a++){var i=n[a].re,o=n[a].process,h=i.exec(t);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+u+f+m}}var Cf=zt.atob.bind(zt),Ib=zt.btoa.bind(zt);function s0(t,e){var n=t[0],a=t[1],i=t[2],o=t[3];n=Aa(n,a,i,o,e[0],7,-680876936),o=Aa(o,n,a,i,e[1],12,-389564586),i=Aa(i,o,n,a,e[2],17,606105819),a=Aa(a,i,o,n,e[3],22,-1044525330),n=Aa(n,a,i,o,e[4],7,-176418897),o=Aa(o,n,a,i,e[5],12,1200080426),i=Aa(i,o,n,a,e[6],17,-1473231341),a=Aa(a,i,o,n,e[7],22,-45705983),n=Aa(n,a,i,o,e[8],7,1770035416),o=Aa(o,n,a,i,e[9],12,-1958414417),i=Aa(i,o,n,a,e[10],17,-42063),a=Aa(a,i,o,n,e[11],22,-1990404162),n=Aa(n,a,i,o,e[12],7,1804603682),o=Aa(o,n,a,i,e[13],12,-40341101),i=Aa(i,o,n,a,e[14],17,-1502002290),n=ka(n,a=Aa(a,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=ka(o,n,a,i,e[6],9,-1069501632),i=ka(i,o,n,a,e[11],14,643717713),a=ka(a,i,o,n,e[0],20,-373897302),n=ka(n,a,i,o,e[5],5,-701558691),o=ka(o,n,a,i,e[10],9,38016083),i=ka(i,o,n,a,e[15],14,-660478335),a=ka(a,i,o,n,e[4],20,-405537848),n=ka(n,a,i,o,e[9],5,568446438),o=ka(o,n,a,i,e[14],9,-1019803690),i=ka(i,o,n,a,e[3],14,-187363961),a=ka(a,i,o,n,e[8],20,1163531501),n=ka(n,a,i,o,e[13],5,-1444681467),o=ka(o,n,a,i,e[2],9,-51403784),i=ka(i,o,n,a,e[7],14,1735328473),n=Ca(n,a=ka(a,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Ca(o,n,a,i,e[8],11,-2022574463),i=Ca(i,o,n,a,e[11],16,1839030562),a=Ca(a,i,o,n,e[14],23,-35309556),n=Ca(n,a,i,o,e[1],4,-1530992060),o=Ca(o,n,a,i,e[4],11,1272893353),i=Ca(i,o,n,a,e[7],16,-155497632),a=Ca(a,i,o,n,e[10],23,-1094730640),n=Ca(n,a,i,o,e[13],4,681279174),o=Ca(o,n,a,i,e[0],11,-358537222),i=Ca(i,o,n,a,e[3],16,-722521979),a=Ca(a,i,o,n,e[6],23,76029189),n=Ca(n,a,i,o,e[9],4,-640364487),o=Ca(o,n,a,i,e[12],11,-421815835),i=Ca(i,o,n,a,e[15],16,530742520),n=Ea(n,a=Ca(a,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ea(o,n,a,i,e[7],10,1126891415),i=Ea(i,o,n,a,e[14],15,-1416354905),a=Ea(a,i,o,n,e[5],21,-57434055),n=Ea(n,a,i,o,e[12],6,1700485571),o=Ea(o,n,a,i,e[3],10,-1894986606),i=Ea(i,o,n,a,e[10],15,-1051523),a=Ea(a,i,o,n,e[1],21,-2054922799),n=Ea(n,a,i,o,e[8],6,1873313359),o=Ea(o,n,a,i,e[15],10,-30611744),i=Ea(i,o,n,a,e[6],15,-1560198380),a=Ea(a,i,o,n,e[13],21,1309151649),n=Ea(n,a,i,o,e[4],6,-145523070),o=Ea(o,n,a,i,e[11],10,-1120210379),i=Ea(i,o,n,a,e[2],15,718787259),a=Ea(a,i,o,n,e[9],21,-343485551),t[0]=Dl(n,t[0]),t[1]=Dl(a,t[1]),t[2]=Dl(i,t[2]),t[3]=Dl(o,t[3])}function sm(t,e,n,a,i,o){return e=Dl(Dl(e,t),Dl(a,o)),Dl(e<<i|e>>>32-i,n)}function Aa(t,e,n,a,i,o,h){return sm(e&n|~e&a,t,e,i,o,h)}function ka(t,e,n,a,i,o,h){return sm(e&a|n&~a,t,e,i,o,h)}function Ca(t,e,n,a,i,o,h){return sm(e^n^a,t,e,i,o,h)}function Ea(t,e,n,a,i,o,h){return sm(n^(e|~a),t,e,i,o,h)}function rx(t){var e,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s0(a,k7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s0(a,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,s0(a,i),a}function k7(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Bb="0123456789abcdef".split("");function C7(t){for(var e="",n=0;n<4;n++)e+=Bb[t>>8*n+4&15]+Bb[t>>8*n&15];return e}function E7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function q0(t){return rx(t).map(E7).join("")}var T7=(function(t){for(var e=0;e<t.length;e++)t[e]=C7(t[e]);return t.join("")})(rx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Dl(t,e){if(T7){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function H0(t,e){var n,a,i,o;if(t!==n){for(var h=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),u=[],f=0;f<256;f++)u[f]=f;var m=0;for(f=0;f<256;f++){var v=u[f];m=(m+v+h.charCodeAt(f))%256,u[f]=u[m],u[m]=v}n=t,a=u}else u=a;var x=e.length,N=0,y=0,E="";for(f=0;f<x;f++)y=(y+(v=u[N=(N+1)%256]))%256,u[N]=u[y],u[y]=v,h=u[(u[N]+u[y])%256],E+=String.fromCharCode(e.charCodeAt(f)^h);return E}var Ub={print:4,modify:8,copy:16,"annot-forms":32};function Iu(t,e,n,a){this.v=1,this.r=2;var i=192;t.forEach(function(u){if(Ub.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Ub[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^i)),this.encryptionKey=q0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=H0(this.encryptionKey,this.padding)}function Bu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,a=0;a<n;a++){var i=t.charCodeAt(a);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[a]}return e}function zb(t){if(Pn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,i){if(i=i||!1,typeof n!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[a,!!i],o},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var h=e[n][o];try{h[0].apply(t,a)}catch(u){zt.console&&Yn.error("jsPDF PubSub Error",u.message,u)}h[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $f(t){if(!(this instanceof $f))return new $f(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function ax(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Sc(t,e,n,a,i){if(!(this instanceof Sc))return new Sc(t,e,n,a,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,ax.call(this,a,i)}function qu(t,e,n,a,i){if(!(this instanceof qu))return new qu(t,e,n,a,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,ax.call(this,a,i)}function Nt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],o=arguments[3],h=[],u=1,f=16,m="S",v=null;Pn(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,i=t.format||i,o=t.compress||t.compressPdf||o,(v=t.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),m=t.defaultPathOperation||"S"),h=t.filters||(o===!0?["FlateEncode"]:h),a=a||"mm",n=(""+(n||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,N={},y={internal:{},__private__:{}};y.__private__.PubSub=zb;var E="1.3",j=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(_){E=_};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return A};var k=y.__private__.getPageFormat=function(_){return A[_]};i=i||"a4";var I="compat",P="advanced",M=I;function ae(){this.saveGraphicsState(),K(new et(Et,0,0,-Et,0,oi()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),m="n",M=P}function ee(){this.restoreGraphicsState(),m="S",M=I}var J=y.__private__.combineFontStyleAndFontWeight=function(_,L){if(_=="bold"&&L=="normal"||_=="bold"&&L==400||_=="normal"&&L=="italic"||_=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(_=L==400||L==="normal"?_==="italic"?"italic":"normal":L!=700&&L!=="bold"||_!=="normal"?(L==700?"bold":L)+""+_:"bold"),_};y.advancedAPI=function(_){var L=M===I;return L&&ae.call(this),typeof _!="function"||(_(this),L&&ee.call(this)),this},y.compatAPI=function(_){var L=M===P;return L&&ee.call(this),typeof _!="function"||(_(this),L&&ae.call(this)),this},y.isAdvancedAPI=function(){return M===P};var W,Y=function(_){if(M!==P)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},he=y.roundToPrecision=y.__private__.roundToPrecision=function(_,L){var re=e||L;if(isNaN(_)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(re).replace(/0+$/,"")};W=y.hpf=y.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return he(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return he(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return he(_,16)};var D=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return he(_,2)},q=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return he(_,3)},Q=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return M===I?_*Et:M===P?_:void 0},ie=function(_){return Q((function(L){return M===I?oi()-L:M===P?L:void 0})(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ye,X="00000000000000000000000000000000",le=y.__private__.getFileId=function(){return X},se=y.__private__.setFileId=function(_){return X=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Cr=new Iu(v.userPermissions,v.userPassword,v.ownerPassword,X)),X};y.setFileId=function(_){return se(_),this},y.getFileId=function(){return le()};var _e=y.__private__.convertDateToPDFDate=function(_){var L=_.getTimezoneOffset(),re=L<0?"+":"-",de=Math.floor(Math.abs(L/60)),ve=Math.abs(L%60),Be=[re,H(de),"'",H(ve),"'"].join("");return["D:",_.getFullYear(),H(_.getMonth()+1),H(_.getDate()),H(_.getHours()),H(_.getMinutes()),H(_.getSeconds()),Be].join("")},Le=y.__private__.convertPDFDateToDate=function(_){var L=parseInt(_.substr(2,4),10),re=parseInt(_.substr(6,2),10)-1,de=parseInt(_.substr(8,2),10),ve=parseInt(_.substr(10,2),10),Be=parseInt(_.substr(12,2),10),Ve=parseInt(_.substr(14,2),10);return new Date(L,re,de,ve,Be,Ve,0)},G=y.__private__.setCreationDate=function(_){var L;if(_===void 0&&(_=new Date),_ instanceof Date)L=_e(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=_}return ye=L},O=y.__private__.getCreationDate=function(_){var L=ye;return _==="jsDate"&&(L=Le(ye)),L};y.setCreationDate=function(_){return G(_),this},y.getCreationDate=function(_){return O(_)};var B,H=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ne=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},oe=0,ue=[],ge=[],we=0,Oe=[],He=[],$e=!1,Je=ge;y.__private__.setCustomOutputDestination=function(_){$e=!0,Je=_};var rt=function(_){$e||(Je=_)};y.__private__.resetCustomOutputDestination=function(){$e=!1,Je=ge};var K=y.__private__.out=function(_){return _=_.toString(),we+=_.length+1,Je.push(_),Je},Ke=y.__private__.write=function(_){return K(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Se=y.__private__.getArrayBuffer=function(_){for(var L=_.length,re=new ArrayBuffer(L),de=new Uint8Array(re);L--;)de[L]=_.charCodeAt(L);return re},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ye};var Re=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Re=M===P?_/Et:_,this};var at,Ze=y.__private__.getFontSize=y.getFontSize=function(){return M===I?Re:Re*Et},st=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return st=_,this},y.__private__.getR2L=y.getR2L=function(){return st};var pt,Ft=y.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))at=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');at=_}else at=parseInt(_,10)};y.__private__.getZoomMode=function(){return at};var Qt,Lt=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');pt=_};y.__private__.getPageMode=function(){return pt};var Zt=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Qt=_};y.__private__.getLayoutMode=function(){return Qt},y.__private__.setDisplayMode=y.setDisplayMode=function(_,L,re){return Ft(_),Zt(L),Lt(re),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(Ht).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[_]},y.__private__.getDocumentProperties=function(){return Ht},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var L in Ht)Ht.hasOwnProperty(L)&&_[L]&&(Ht[L]=_[L]);return this},y.__private__.setDocumentProperty=function(_,L){if(Object.keys(Ht).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[_]=L};var lt,Et,gt,Cn,Kt,At={},Rt={},Xt=[],St={},xn={},wt={},Dt={},Sn=null,qt=0,vt=[],Qe=new zb(y),wn=t.hotfixes||[],un={},Kn={},qr=[],et=function _(L,re,de,ve,Be,Ve){if(!(this instanceof _))return new _(L,re,de,ve,Be,Ve);isNaN(L)&&(L=1),isNaN(re)&&(re=0),isNaN(de)&&(de=0),isNaN(ve)&&(ve=1),isNaN(Be)&&(Be=0),isNaN(Ve)&&(Ve=0),this._matrix=[L,re,de,ve,Be,Ve]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(_)},et.prototype.multiply=function(_){var L=_.sx*this.sx+_.shy*this.shx,re=_.sx*this.shy+_.shy*this.sy,de=_.shx*this.sx+_.sy*this.shx,ve=_.shx*this.shy+_.sy*this.sy,Be=_.tx*this.sx+_.ty*this.shx+this.tx,Ve=_.tx*this.shy+_.ty*this.sy+this.ty;return new et(L,re,de,ve,Be,Ve)},et.prototype.decompose=function(){var _=this.sx,L=this.shy,re=this.shx,de=this.sy,ve=this.tx,Be=this.ty,Ve=Math.sqrt(_*_+L*L),ct=(_/=Ve)*re+(L/=Ve)*de;re-=_*ct,de-=L*ct;var bt=Math.sqrt(re*re+de*de);return ct/=bt,_*(de/=bt)<L*(re/=bt)&&(_=-_,L=-L,ct=-ct,Ve=-Ve),{scale:new et(Ve,0,0,bt,0,0),translate:new et(1,0,0,1,ve,Be),rotate:new et(_,L,-L,_,0,0),skew:new et(1,0,ct,1,0,0)}},et.prototype.toString=function(_){return this.join(" ")},et.prototype.inversed=function(){var _=this.sx,L=this.shy,re=this.shx,de=this.sy,ve=this.tx,Be=this.ty,Ve=1/(_*de-L*re),ct=de*Ve,bt=-L*Ve,Pt=-re*Ve,Vt=_*Ve;return new et(ct,bt,Pt,Vt,-ct*ve-Pt*Be,-bt*ve-Vt*Be)},et.prototype.applyToPoint=function(_){var L=_.x*this.sx+_.y*this.shx+this.tx,re=_.x*this.shy+_.y*this.sy+this.ty;return new Ga(L,re)},et.prototype.applyToRectangle=function(_){var L=this.applyToPoint(_),re=this.applyToPoint(new Ga(_.x+_.w,_.y+_.h));return new ni(L.x,L.y,re.x-L.x,re.y-L.y)},et.prototype.clone=function(){var _=this.sx,L=this.shy,re=this.shx,de=this.sy,ve=this.tx,Be=this.ty;return new et(_,L,re,de,ve,Be)},y.Matrix=et;var ar=y.matrixMult=function(_,L){return L.multiply(_)},ca=new et(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=ca;var Hn=function(_,L){if(!xn[_]){var re=(L instanceof Sc?"Sh":"P")+(Object.keys(St).length+1).toString(10);L.id=re,xn[_]=re,St[re]=L,Qe.publish("addPattern",L)}};y.ShadingPattern=Sc,y.TilingPattern=qu,y.addShadingPattern=function(_,L){return Y("addShadingPattern()"),Hn(_,L),this},y.beginTilingPattern=function(_){Y("beginTilingPattern()"),go(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,L){Y("endTilingPattern()"),L.stream=He[B].join(`
`),Hn(_,L),Qe.publish("endTilingPattern",L),qr.pop().restore()};var Vn,Tn=y.__private__.newObject=function(){var _=En();return kr(_,!0),_},En=y.__private__.newObjectDeferred=function(){return oe++,ue[oe]=function(){return we},oe},kr=function(_,L){return L=typeof L=="boolean"&&L,ue[_]=we,L&&K(_+" 0 obj"),_},Pi=y.__private__.newAdditionalObject=function(){var _={objId:En(),content:""};return Oe.push(_),_},ua=En(),On=En(),Jn=y.__private__.decodeColorString=function(_){var L=_.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length!==5||L[4]!=="k"&&L[4]!=="K"||(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var re=parseFloat(L[0]);L=[re,re,re,"r"]}for(var de="#",ve=0;ve<3;ve++)de+=("0"+Math.floor(255*parseFloat(L[ve])).toString(16)).slice(-2);return de},ta=y.__private__.encodeColorString=function(_){var L;typeof _=="string"&&(_={ch1:_});var re=_.ch1,de=_.ch2,ve=_.ch3,Be=_.ch4,Ve=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var ct=new nx(re);if(ct.ok)re=ct.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var bt=parseInt(re.substr(1),16);re=bt>>16&255,de=bt>>8&255,ve=255&bt}if(de===void 0||Be===void 0&&re===de&&de===ve)L=typeof re=="string"?re+" "+Ve[0]:_.precision===2?D(re/255)+" "+Ve[0]:q(re/255)+" "+Ve[0];else if(Be===void 0||Pn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ve[1]].join(" ");L=typeof re=="string"?[re,de,ve,Ve[1]].join(" "):_.precision===2?[D(re/255),D(de/255),D(ve/255),Ve[1]].join(" "):[q(re/255),q(de/255),q(ve/255),Ve[1]].join(" ")}else L=typeof re=="string"?[re,de,ve,Be,Ve[2]].join(" "):_.precision===2?[D(re),D(de),D(ve),D(Be),Ve[2]].join(" "):[q(re),q(de),q(ve),q(Be),Ve[2]].join(" ");return L},Oa=y.__private__.getFilters=function(){return h},Ha=y.__private__.putStream=function(_){var L=(_=_||{}).data||"",re=_.filters||Oa(),de=_.alreadyAppliedFilters||[],ve=_.addLength1||!1,Be=L.length,Ve=_.objectId,ct=function(Er){return Er};if(v!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ct=Cr.encryptor(Ve,0));var bt={};re===!0&&(re=["FlateEncode"]);var Pt=_.additionalKeyValues||[],Vt=(bt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(L,re):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(bt.data.length!==0&&(Pt.push({key:"Length",value:bt.data.length}),ve===!0&&Pt.push({key:"Length1",value:Be})),Vt.length!=0)if(Vt.split("/").length-1==1)Pt.push({key:"Filter",value:Vt});else{Pt.push({key:"Filter",value:"["+Vt+"]"});for(var dn=0;dn<Pt.length;dn+=1)if(Pt[dn].key==="DecodeParms"){for(var Qn=[],dr=0;dr<bt.reverseChain.split("/").length-1;dr+=1)Qn.push("null");Qn.push(Pt[dn].value),Pt[dn].value="["+Qn.join(" ")+"]"}}K("<<");for(var In=0;In<Pt.length;In++)K("/"+Pt[In].key+" "+Pt[In].value);K(">>"),bt.data.length!==0&&(K("stream"),K(ct(bt.data)),K("endstream"))},co=y.__private__.putPage=function(_){var L=_.number,re=_.data,de=_.objId,ve=_.contentsObjId;kr(de,!0),K("<</Type /Page"),K("/Parent "+_.rootDictionaryObjId+" 0 R"),K("/Resources "+_.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(W(_.mediaBox.bottomLeftX))+" "+parseFloat(W(_.mediaBox.bottomLeftY))+" "+W(_.mediaBox.topRightX)+" "+W(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&K("/CropBox ["+W(_.cropBox.bottomLeftX)+" "+W(_.cropBox.bottomLeftY)+" "+W(_.cropBox.topRightX)+" "+W(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&K("/BleedBox ["+W(_.bleedBox.bottomLeftX)+" "+W(_.bleedBox.bottomLeftY)+" "+W(_.bleedBox.topRightX)+" "+W(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&K("/TrimBox ["+W(_.trimBox.bottomLeftX)+" "+W(_.trimBox.bottomLeftY)+" "+W(_.trimBox.topRightX)+" "+W(_.trimBox.topRightY)+"]"),_.artBox!==null&&K("/ArtBox ["+W(_.artBox.bottomLeftX)+" "+W(_.artBox.bottomLeftY)+" "+W(_.artBox.topRightX)+" "+W(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&K("/UserUnit "+_.userUnit),Qe.publish("putPage",{objId:de,pageContext:vt[L],pageNumber:L,page:re}),K("/Contents "+ve+" 0 R"),K(">>"),K("endobj");var Be=re.join(`
`);return M===P&&(Be+=`
Q`),kr(ve,!0),Ha({data:Be,filters:Oa(),objectId:ve}),K("endobj"),de},cs=y.__private__.putPages=function(){var _,L,re=[];for(_=1;_<=qt;_++)vt[_].objId=En(),vt[_].contentsObjId=En();for(_=1;_<=qt;_++)re.push(co({number:_,data:He[_],objId:vt[_].objId,contentsObjId:vt[_].contentsObjId,mediaBox:vt[_].mediaBox,cropBox:vt[_].cropBox,bleedBox:vt[_].bleedBox,trimBox:vt[_].trimBox,artBox:vt[_].artBox,userUnit:vt[_].userUnit,rootDictionaryObjId:ua,resourceDictionaryObjId:On}));kr(ua,!0),K("<</Type /Pages");var de="/Kids [";for(L=0;L<qt;L++)de+=re[L]+" 0 R ";K(de+"]"),K("/Count "+qt),K(">>"),K("endobj"),Qe.publish("postPutPages")},us=function(_){Qe.publish("putFont",{font:_,out:K,newObject:Tn,putStream:Ha}),_.isAlreadyPutted!==!0&&(_.objectNumber=Tn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Bu(_.postScriptName)),K("/Subtype /Type1"),typeof _.encoding=="string"&&K("/Encoding /"+_.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Ii=function(_){_.objectNumber=Tn();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[W(_.x),W(_.y),W(_.x+_.width),W(_.y+_.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var re=_.pages[1].join(`
`);Ha({data:re,additionalKeyValues:L,objectId:_.objectNumber}),K("endobj")},ds=function(_,L){L||(L=21);var re=Tn(),de=(function(Ve,ct){var bt,Pt=[],Vt=1/(ct-1);for(bt=0;bt<1;bt+=Vt)Pt.push(bt);if(Pt.push(1),Ve[0].offset!=0){var dn={offset:0,color:Ve[0].color};Ve.unshift(dn)}if(Ve[Ve.length-1].offset!=1){var Qn={offset:1,color:Ve[Ve.length-1].color};Ve.push(Qn)}for(var dr="",In=0,Er=0;Er<Pt.length;Er++){for(bt=Pt[Er];bt>Ve[In+1].offset;)In++;var br=Ve[In].offset,Vr=(bt-br)/(Ve[In+1].offset-br),li=Ve[In].color,vs=Ve[In+1].color;dr+=ne(Math.round((1-Vr)*li[0]+Vr*vs[0]).toString(16))+ne(Math.round((1-Vr)*li[1]+Vr*vs[1]).toString(16))+ne(Math.round((1-Vr)*li[2]+Vr*vs[2]).toString(16))}return dr.trim()})(_.colors,L),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+L+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ha({data:de,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),K("endobj"),_.objectNumber=Tn(),K("<< /ShadingType "+_.type),K("/ColorSpace /DeviceRGB");var Be="/Coords ["+W(parseFloat(_.coords[0]))+" "+W(parseFloat(_.coords[1]))+" ";_.type===2?Be+=W(parseFloat(_.coords[2]))+" "+W(parseFloat(_.coords[3])):Be+=W(parseFloat(_.coords[2]))+" "+W(parseFloat(_.coords[3]))+" "+W(parseFloat(_.coords[4]))+" "+W(parseFloat(_.coords[5])),K(Be+="]"),_.matrix&&K("/Matrix ["+_.matrix.toString()+"]"),K("/Function "+re+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},hs=function(_,L){var re=En(),de=Tn();L.push({resourcesOid:re,objectOid:de}),_.objectNumber=de;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+_.boundingBox.map(W).join(" ")+"]"}),ve.push({key:"XStep",value:W(_.xStep)}),ve.push({key:"YStep",value:W(_.yStep)}),ve.push({key:"Resources",value:re+" 0 R"}),_.matrix&&ve.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Ha({data:_.stream,additionalKeyValues:ve,objectId:_.objectNumber}),K("endobj")},uo=function(_){for(var L in _.objectNumber=Tn(),K("<<"),_)switch(L){case"opacity":K("/ca "+D(_[L]));break;case"stroke-opacity":K("/CA "+D(_[L]))}K(">>"),K("endobj")},Ls=function(_){kr(_.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var L in K("/Font <<"),At)At.hasOwnProperty(L)&&(x===!1||x===!0&&N.hasOwnProperty(L))&&K("/"+L+" "+At[L].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(St).length>0){for(var L in K("/Shading <<"),St)St.hasOwnProperty(L)&&St[L]instanceof Sc&&St[L].objectNumber>=0&&K("/"+L+" "+St[L].objectNumber+" 0 R");Qe.publish("putShadingPatternDict"),K(">>")}})(),(function(L){if(Object.keys(St).length>0){for(var re in K("/Pattern <<"),St)St.hasOwnProperty(re)&&St[re]instanceof y.TilingPattern&&St[re].objectNumber>=0&&St[re].objectNumber<L&&K("/"+re+" "+St[re].objectNumber+" 0 R");Qe.publish("putTilingPatternDict"),K(">>")}})(_.objectOid),(function(){if(Object.keys(wt).length>0){var L;for(L in K("/ExtGState <<"),wt)wt.hasOwnProperty(L)&&wt[L].objectNumber>=0&&K("/"+L+" "+wt[L].objectNumber+" 0 R");Qe.publish("putGStateDict"),K(">>")}})(),(function(){for(var L in K("/XObject <<"),un)un.hasOwnProperty(L)&&un[L].objectNumber>=0&&K("/"+L+" "+un[L].objectNumber+" 0 R");Qe.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},ur=function(_){Rt[_.fontName]=Rt[_.fontName]||{},Rt[_.fontName][_.fontStyle]=_.id},Il=function(_,L,re,de,ve){var Be={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:_,fontName:L,fontStyle:re,encoding:de,isStandardFont:ve||!1,metadata:{}};return Qe.publish("addFont",{font:Be,instance:this}),At[Be.id]=Be,ur(Be),Be.id},La=y.__private__.pdfEscape=y.pdfEscape=function(_,L){return(function(re,de){var ve,Be,Ve,ct,bt,Pt,Vt,dn,Qn;if(Ve=(de=de||{}).sourceEncoding||"Unicode",bt=de.outputEncoding,(de.autoencode||bt)&&At[lt].metadata&&At[lt].metadata[Ve]&&At[lt].metadata[Ve].encoding&&(ct=At[lt].metadata[Ve].encoding,!bt&&At[lt].encoding&&(bt=At[lt].encoding),!bt&&ct.codePages&&(bt=ct.codePages[0]),typeof bt=="string"&&(bt=ct[bt]),bt)){for(Vt=!1,Pt=[],ve=0,Be=re.length;ve<Be;ve++)(dn=bt[re.charCodeAt(ve)])?Pt.push(String.fromCharCode(dn)):Pt.push(re[ve]),Pt[ve].charCodeAt(0)>>8&&(Vt=!0);re=Pt.join("")}for(ve=re.length;Vt===void 0&&ve!==0;)re.charCodeAt(ve-1)>>8&&(Vt=!0),ve--;if(!Vt)return re;for(Pt=de.noBOM?[]:[254,255],ve=0,Be=re.length;ve<Be;ve++){if((Qn=(dn=re.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Qn),Pt.push(dn-(Qn<<8))}return String.fromCharCode.apply(void 0,Pt)})(_,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fs=y.__private__.beginPage=function(_){He[++qt]=[],vt[qt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ul(qt),rt(He[B])},Zs=function(_,L){var re,de,ve;switch(n=L||n,typeof _=="string"&&(re=k(_.toLowerCase()),Array.isArray(re)&&(de=re[0],ve=re[1])),Array.isArray(_)&&(de=_[0]*Et,ve=_[1]*Et),isNaN(de)&&(de=i[0],ve=i[1]),(de>14400||ve>14400)&&(Yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ve=Math.min(14400,ve)),i=[de,ve],n.substr(0,1)){case"l":ve>de&&(i=[ve,de]);break;case"p":de>ve&&(i=[ve,de])}fs(i),Tt(fo),K(Da),Jo!==0&&K(Jo+" J"),Pr!==0&&K(Pr+" j"),Qe.publish("addPage",{pageNumber:qt})},Bl=function(_){_>0&&_<=qt&&(He.splice(_,1),vt.splice(_,1),qt--,B>qt&&(B=qt),this.setPage(B))},Ul=function(_){_>0&&_<=qt&&(B=_)},zl=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return He.length-1},Lc=function(_,L,re){var de,ve=void 0;return re=re||{},_=_!==void 0?_:At[lt].fontName,L=L!==void 0?L:At[lt].fontStyle,de=_.toLowerCase(),Rt[de]!==void 0&&Rt[de][L]!==void 0?ve=Rt[de][L]:Rt[_]!==void 0&&Rt[_][L]!==void 0?ve=Rt[_][L]:re.disableWarning===!1&&Yn.warn("Unable to look up font label for font '"+_+"', '"+L+"'. Refer to getFontList() for available fonts."),ve||re.noFallback||(ve=Rt.times[L])==null&&(ve=Rt.times.normal),ve},Ra=y.__private__.putInfo=function(){var _=Tn(),L=function(de){return de};for(var re in v!==null&&(L=Cr.encryptor(_,0)),K("<<"),K("/Producer ("+La(L("jsPDF "+Nt.version))+")"),Ht)Ht.hasOwnProperty(re)&&Ht[re]&&K("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+La(L(Ht[re]))+")");K("/CreationDate ("+La(L(ye))+")"),K(">>"),K("endobj")},ei=y.__private__.putCatalog=function(_){var L=(_=_||{}).rootDictionaryObjId||ua;switch(Tn(),K("<<"),K("/Type /Catalog"),K("/Pages "+L+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+at;re.substr(re.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&K("/OpenAction [3 0 R /XYZ null null "+D(at)+"]")}switch(Qt||(Qt="continuous"),Qt){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}pt&&K("/PageMode /"+pt),Qe.publish("putCatalog"),K(">>"),K("endobj")},ms=y.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(oe+1)),K("/Root "+oe+" 0 R"),K("/Info "+(oe-1)+" 0 R"),v!==null&&K("/Encrypt "+Cr.oid+" 0 R"),K("/ID [ <"+X+"> <"+X+"> ]"),K(">>")},vn=y.__private__.putHeader=function(){K("%PDF-"+E),K("%")},Fl=y.__private__.putXRef=function(){var _="0000000000";K("xref"),K("0 "+(oe+1)),K("0000000000 65535 f ");for(var L=1;L<=oe;L++)typeof ue[L]=="function"?K((_+ue[L]()).slice(-10)+" 00000 n "):ue[L]!==void 0?K((_+ue[L]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Rs=y.__private__.buildDocument=function(){var _;oe=0,we=0,ge=[],ue=[],Oe=[],ua=En(),On=En(),rt(ge),Qe.publish("buildDocument"),vn(),cs(),(function(){Qe.publish("putAdditionalObjects");for(var re=0;re<Oe.length;re++){var de=Oe[re];kr(de.objId,!0),K(de.content),K("endobj")}Qe.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var re in At)At.hasOwnProperty(re)&&(x===!1||x===!0&&N.hasOwnProperty(re))&&us(At[re])})(),(function(){var re;for(re in wt)wt.hasOwnProperty(re)&&uo(wt[re])})(),(function(){for(var re in un)un.hasOwnProperty(re)&&Ii(un[re])})(),(function(re){var de;for(de in St)St.hasOwnProperty(de)&&(St[de]instanceof Sc?ds(St[de]):St[de]instanceof qu&&hs(St[de],re))})(_),Qe.publish("putResources"),_.forEach(Ls),Ls({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),Qe.publish("postPutResources"),v!==null&&(Cr.oid=Tn(),K("<<"),K("/Filter /Standard"),K("/V "+Cr.v),K("/R "+Cr.r),K("/U <"+Cr.toHexString(Cr.U)+">"),K("/O <"+Cr.toHexString(Cr.O)+">"),K("/P "+Cr.P),K(">>"),K("endobj")),Ra(),ei();var L=we;return Fl(),ms(),K("startxref"),K(""+L),K("%%EOF"),rt(He[B]),ge.join(`
`)},Bi=y.__private__.getBlob=function(_){return new Blob([Se(_)],{type:"application/pdf"})},ql=y.output=y.__private__.output=(Vn=function(_,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",_){case void 0:return Rs();case"save":y.save(L.filename);break;case"arraybuffer":return Se(Rs());case"blob":return Bi(Rs());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(Bi(Rs()))||void 0;Yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",de=Rs();try{re=Ib(de)}catch{re=Ib(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+L.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(ve=L.pdfObjectUrl,Be="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",ct=zt.open();return ct!==null&&ct.document.write(Ve),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',Pt=zt.open();if(Pt!==null){Pt.document.write(bt);var Vt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=L.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Vt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',Qn=zt.open();if(Qn!==null&&(Qn.document.write(dn),Qn.document.title=L.filename),Qn||typeof safari>"u")return Qn;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",L);default:return null}},Vn.foo=function(){try{return Vn.apply(this,arguments)}catch(re){var _=re.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var L="Error in function "+_.split(`
`)[0].split("<")[0]+": "+re.message;if(!zt.console)throw new Error(L);zt.console.error(L,re),zt.alert&&alert(L)}},Vn.foo.bar=Vn,Vn.foo),da=function(_){return Array.isArray(wn)===!0&&wn.indexOf(_)>-1};switch(a){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=da("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Et=a}var Cr=null;G(),se();var vr=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[_].objId,pageNumber:_,pageContext:vt[_]}},Ko=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in vt)if(vt[L].objId===_)break;return vr(L)},Rc=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:vt[B].objId,pageNumber:B,pageContext:vt[B]}};y.addPage=function(){return Zs.apply(this,arguments),this},y.setPage=function(){return Ul.apply(this,arguments),rt.call(this,He[B]),this},y.insertPage=function(_){return this.addPage(),this.movePage(B,_),this},y.movePage=function(_,L){var re,de;if(_>L){re=He[_],de=vt[_];for(var ve=_;ve>L;ve--)He[ve]=He[ve-1],vt[ve]=vt[ve-1];He[L]=re,vt[L]=de,this.setPage(L)}else if(_<L){re=He[_],de=vt[_];for(var Be=_;Be<L;Be++)He[Be]=He[Be+1],vt[Be]=vt[Be+1];He[L]=re,vt[L]=de,this.setPage(L)}return this},y.deletePage=function(){return Bl.apply(this,arguments),this},y.__private__.text=y.text=function(_,L,re,de,ve){var Be,Ve,ct,bt,Pt,Vt,dn,Qn,dr,In=(de=de||{}).scope||this;if(typeof _=="number"&&typeof L=="number"&&(typeof re=="string"||Array.isArray(re))){var Er=re;re=L,L=_,_=Er}if(arguments[3]instanceof et==0?(ct=arguments[4],bt=arguments[5],Pn(dn=arguments[3])==="object"&&dn!==null||(typeof ct=="string"&&(bt=ct,ct=null),typeof dn=="string"&&(bt=dn,dn=null),typeof dn=="number"&&(ct=dn,dn=null),de={flags:dn,angle:ct,align:bt})):(Y("The transform parameter of text() with a Matrix value"),dr=ve),isNaN(L)||isNaN(re)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return In;var br,Vr="",li=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:ti,vs=In.internal.scaleFactor;function ci(bn){return bn=bn.split("	").join(Array(de.TabLen||9).join(" ")),La(bn,dn)}function Jl(bn){for(var hn,Bn=bn.concat(),fr=[],Hs=Bn.length;Hs--;)typeof(hn=Bn.shift())=="string"?fr.push(hn):Array.isArray(bn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?fr.push(hn[0]):fr.push([hn[0],hn[1],hn[2]]);return fr}function Zo(bn,hn){var Bn;if(typeof bn=="string")Bn=hn(bn)[0];else if(Array.isArray(bn)){for(var fr,Hs,ws=bn.concat(),xo=[],ec=ws.length;ec--;)typeof(fr=ws.shift())=="string"?xo.push(hn(fr)[0]):Array.isArray(fr)&&typeof fr[0]=="string"&&(Hs=hn(fr[0],fr[1],fr[2]),xo.push([Hs[0],Hs[1],Hs[2]]));Bn=xo}return Bn}var Ps=!1,bs=!0;if(typeof _=="string")Ps=!0;else if(Array.isArray(_)){var bo=_.concat();Ve=[];for(var ui,Ir=bo.length;Ir--;)(typeof(ui=bo.shift())!="string"||Array.isArray(ui)&&typeof ui[0]!="string")&&(bs=!1);Ps=bs}if(Ps===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var zi=Re/In.internal.scaleFactor,Fi=zi*(li-1);switch(de.baseline){case"bottom":re-=Fi;break;case"top":re+=zi-Fi;break;case"hanging":re+=zi-2*Fi;break;case"middle":re+=zi/2-Fi}if((Vt=de.maxWidth||0)>0&&(typeof _=="string"?_=In.splitTextToSize(_,Vt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(bn,hn){return bn.concat(In.splitTextToSize(hn,Vt))},[]))),Be={text:_,x:L,y:re,options:de,mutex:{pdfEscape:La,activeFontKey:lt,fonts:At,activeFontSize:Re}},Qe.publish("preProcessText",Be),_=Be.text,ct=(de=Be.options).angle,dr instanceof et==0&&ct&&typeof ct=="number"){ct*=Math.PI/180,de.rotationDirection===0&&(ct=-ct),M===P&&(ct=-ct);var el=Math.cos(ct),Is=Math.sin(ct);dr=new et(el,Is,-Is,el,0,0)}else ct&&ct instanceof et&&(dr=ct);M!==P||dr||(dr=ca),(Pt=de.charSpace||Va)!==void 0&&(Vr+=W(Q(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qn=de.horizontalScale)!==void 0&&(Vr+=W(100*Qn)+` Tz
`),de.lang;var fa=-1,di=de.renderingMode!==void 0?de.renderingMode:de.stroke,tl=In.internal.getCurrentPageInfo().pageContext;switch(di){case 0:case!1:case"fill":fa=0;break;case 1:case!0:case"stroke":fa=1;break;case 2:case"fillThenStroke":fa=2;break;case 3:case"invisible":fa=3;break;case 4:case"fillAndAddForClipping":fa=4;break;case 5:case"strokeAndAddPathForClipping":fa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fa=6;break;case 7:case"addToPathForClipping":fa=7}var Ql=tl.usedRenderingMode!==void 0?tl.usedRenderingMode:-1;fa!==-1?Vr+=fa+` Tr
`:Ql!==-1&&(Vr+=`0 Tr
`),fa!==-1&&(tl.usedRenderingMode=fa),bt=de.align||"left";var Pa,ys=Re*li,hi=In.internal.pageSize.getWidth(),Zl=At[lt];Pt=de.charSpace||Va,Vt=de.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},de.flags);var xs=[],qi=function(bn){return In.getStringUnitWidth(bn,{font:Zl,charSpace:Pt,fontSize:Re,doKerning:!1})*Re/vs};if(Object.prototype.toString.call(_)==="[object Array]"){var Na;Ve=Jl(_),bt!=="left"&&(Pa=Ve.map(qi));var ma,Bs=0;if(bt==="right"){L-=Pa[0],_=[],Ir=Ve.length;for(var Us=0;Us<Ir;Us++)Us===0?(ma=Ma(L),Na=Hr(re)):(ma=Q(Bs-Pa[Us]),Na=-ys),_.push([Ve[Us],ma,Na]),Bs=Pa[Us]}else if(bt==="center"){L-=Pa[0]/2,_=[],Ir=Ve.length;for(var fi=0;fi<Ir;fi++)fi===0?(ma=Ma(L),Na=Hr(re)):(ma=Q((Bs-Pa[fi])/2),Na=-ys),_.push([Ve[fi],ma,Na]),Bs=Pa[fi]}else if(bt==="left"){_=[],Ir=Ve.length;for(var nl=0;nl<Ir;nl++)_.push(Ve[nl])}else if(bt==="justify"&&Zl.encoding==="Identity-H"){_=[],Ir=Ve.length,Vt=Vt!==0?Vt:hi;for(var rl=0,hr=0;hr<Ir;hr++)if(Na=hr===0?Hr(re):-ys,ma=hr===0?Ma(L):rl,hr<Ir-1){var qc=Q((Vt-Pa[hr])/(Ve[hr].split(" ").length-1)),zs=Ve[hr].split(" ");_.push([zs[0]+" ",ma,Na]),rl=0;for(var Fs=1;Fs<zs.length;Fs++){var Gr=(qi(zs[Fs-1]+" "+zs[Fs])-qi(zs[Fs]))*vs+qc;Fs==zs.length-1?_.push([zs[Fs],Gr,0]):_.push([zs[Fs]+" ",Gr,0]),rl-=Gr}}else _.push([Ve[hr],ma,Na]);_.push(["",rl,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Ir=Ve.length,Vt=Vt!==0?Vt:hi,hr=0;hr<Ir;hr++){Na=hr===0?Hr(re):-ys,ma=hr===0?Ma(L):0;var mi=Ve[hr].split(" ").length-1,al=mi>0?(Vt-Pa[hr])/mi:0;hr<Ir-1?xs.push(W(Q(al))):xs.push(0),_.push([Ve[hr],ma,Na])}}}(typeof de.R2L=="boolean"?de.R2L:st)===!0&&(_=Zo(_,function(bn,hn,Bn){return[bn.split("").reverse().join(""),hn,Bn]})),Be={text:_,x:L,y:re,options:de,mutex:{pdfEscape:La,activeFontKey:lt,fonts:At,activeFontSize:Re}},Qe.publish("postProcessText",Be),_=Be.text,br=Be.mutex.isHex||!1;var sl=At[lt].encoding;sl!=="WinAnsiEncoding"&&sl!=="StandardEncoding"||(_=Zo(_,function(bn,hn,Bn){return[ci(bn),hn,Bn]})),Ve=Jl(_),_=[];for(var pi,gi,qs,yo=Array.isArray(Ve[0])?1:0,Ia="",vi=function(bn,hn,Bn){var fr="";return Bn instanceof et?(Bn=typeof de.angle=="number"?ar(Bn,new et(1,0,0,1,bn,hn)):ar(new et(1,0,0,1,bn,hn),Bn),M===P&&(Bn=ar(new et(1,0,0,-1,0,0),Bn)),fr=Bn.join(" ")+` Tm
`):fr=W(bn)+" "+W(hn)+` Td
`,fr},na=0;na<Ve.length;na++){switch(Ia="",yo){case 1:qs=(br?"<":"(")+Ve[na][0]+(br?">":")"),pi=parseFloat(Ve[na][1]),gi=parseFloat(Ve[na][2]);break;case 0:qs=(br?"<":"(")+Ve[na]+(br?">":")"),pi=Ma(L),gi=Hr(re)}xs!==void 0&&xs[na]!==void 0&&(Ia=xs[na]+` Tw
`),na===0?_.push(Ia+vi(pi,gi,dr)+qs):yo===0?_.push(Ia+qs):yo===1&&_.push(Ia+vi(pi,gi,dr)+qs)}_=yo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var $a=`BT
/`;return $a+=lt+" "+Re+` Tf
`,$a+=W(Re*li)+` TL
`,$a+=Ms+`
`,$a+=Vr,$a+=_,K($a+="ET"),N[lt]=!0,In};var Hl=y.__private__.clip=y.clip=function(_){return K(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Hl("evenodd")},y.__private__.discardPath=y.discardPath=function(){return K("n"),this};var ha=y.__private__.isValidStyle=function(_){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(L=!0),L};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return ha(_)&&(m=_),this};var Vl=y.__private__.getStyle=y.getStyle=function(_){var L=m;switch(_){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=_}return L},Gl=y.close=function(){return K("h"),this};y.stroke=function(){return K("S"),this},y.fill=function(_){return ps("f",_),this},y.fillEvenOdd=function(_){return ps("f*",_),this},y.fillStroke=function(_){return ps("B",_),this},y.fillStrokeEvenOdd=function(_){return ps("B*",_),this};var ps=function(_,L){Pn(L)==="object"?Dc(L,_):K(_)},ho=function(_){_===null||M===P&&_===void 0||(_=Vl(_),K(_))};function Mc(_,L,re,de,ve){var Be=new qu(L||this.boundingBox,re||this.xStep,de||this.yStep,this.gState,ve||this.matrix);Be.stream=this.stream;var Ve=_+"$$"+this.cloneIndex+++"$$";return Hn(Ve,Be),Be}var Dc=function(_,L){var re=xn[_.key],de=St[re];if(de instanceof Sc)K("q"),K($l(L)),de.gState&&y.setGState(de.gState),K(_.matrix.toString()+" cm"),K("/"+re+" sh"),K("Q");else if(de instanceof qu){var ve=new et(1,0,0,-1,0,oi());_.matrix&&(ve=ve.multiply(_.matrix||ca),re=Mc.call(de,_.key,_.boundingBox,_.xStep,_.yStep,ve).id),K("q"),K("/Pattern cs"),K("/"+re+" scn"),de.gState&&y.setGState(de.gState),K(L),K("Q")}},$l=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wl=y.moveTo=function(_,L){return K(W(Q(_))+" "+W(ie(L))+" m"),this},Pc=y.lineTo=function(_,L){return K(W(Q(_))+" "+W(ie(L))+" l"),this},_a=y.curveTo=function(_,L,re,de,ve,Be){return K([W(Q(_)),W(ie(L)),W(Q(re)),W(ie(de)),W(Q(ve)),W(ie(Be)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,L,re,de,ve){if(isNaN(_)||isNaN(L)||isNaN(re)||isNaN(de)||!ha(ve))throw new Error("Invalid arguments passed to jsPDF.line");return M===I?this.lines([[re-_,de-L]],_,L,[1,1],ve||"S"):this.lines([[re-_,de-L]],_,L,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,L,re,de,ve,Be){var Ve,ct,bt,Pt,Vt,dn,Qn,dr,In,Er,br,Vr;if(typeof _=="number"&&(Vr=re,re=L,L=_,_=Vr),de=de||[1,1],Be=Be||!1,isNaN(L)||isNaN(re)||!Array.isArray(_)||!Array.isArray(de)||!ha(ve)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wl(L,re),Ve=de[0],ct=de[1],Pt=_.length,Er=L,br=re,bt=0;bt<Pt;bt++)(Vt=_[bt]).length===2?(Er=Vt[0]*Ve+Er,br=Vt[1]*ct+br,Pc(Er,br)):(dn=Vt[0]*Ve+Er,Qn=Vt[1]*ct+br,dr=Vt[2]*Ve+Er,In=Vt[3]*ct+br,Er=Vt[4]*Ve+Er,br=Vt[5]*ct+br,_a(dn,Qn,dr,In,Er,br));return Be&&Gl(),ho(ve),this},y.path=function(_){for(var L=0;L<_.length;L++){var re=_[L],de=re.c;switch(re.op){case"m":Wl(de[0],de[1]);break;case"l":Pc(de[0],de[1]);break;case"c":_a.apply(this,de);break;case"h":Gl()}}return this},y.__private__.rect=y.rect=function(_,L,re,de,ve){if(isNaN(_)||isNaN(L)||isNaN(re)||isNaN(de)||!ha(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return M===I&&(de=-de),K([W(Q(_)),W(ie(L)),W(Q(re)),W(Q(de)),"re"].join(" ")),ho(ve),this},y.__private__.triangle=y.triangle=function(_,L,re,de,ve,Be,Ve){if(isNaN(_)||isNaN(L)||isNaN(re)||isNaN(de)||isNaN(ve)||isNaN(Be)||!ha(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-_,de-L],[ve-re,Be-de],[_-ve,L-Be]],_,L,[1,1],Ve,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,L,re,de,ve,Be,Ve){if(isNaN(_)||isNaN(L)||isNaN(re)||isNaN(de)||isNaN(ve)||isNaN(Be)||!ha(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*re),Be=Math.min(Be,.5*de),this.lines([[re-2*ve,0],[ve*ct,0,ve,Be-Be*ct,ve,Be],[0,de-2*Be],[0,Be*ct,-ve*ct,Be,-ve,Be],[2*ve-re,0],[-ve*ct,0,-ve,-Be*ct,-ve,-Be],[0,2*Be-de],[0,-Be*ct,ve*ct,-Be,ve,-Be]],_+ve,L,[1,1],Ve,!0),this},y.__private__.ellipse=y.ellipse=function(_,L,re,de,ve){if(isNaN(_)||isNaN(L)||isNaN(re)||isNaN(de)||!ha(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*re,Ve=4/3*(Math.SQRT2-1)*de;return Wl(_+re,L),_a(_+re,L-Ve,_+Be,L-de,_,L-de),_a(_-Be,L-de,_-re,L-Ve,_-re,L),_a(_-re,L+Ve,_-Be,L+de,_,L+de),_a(_+Be,L+de,_+re,L+Ve,_+re,L),ho(ve),this},y.__private__.circle=y.circle=function(_,L,re,de){if(isNaN(_)||isNaN(L)||isNaN(re)||!ha(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,L,re,re,de)},y.setFont=function(_,L,re){return re&&(L=J(L,re)),lt=Lc(_,L,{disableWarning:!1}),this};var gs=y.__private__.getFont=y.getFont=function(){return At[Lc.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,L,re={};for(_ in Rt)if(Rt.hasOwnProperty(_))for(L in re[_]=[],Rt[_])Rt[_].hasOwnProperty(L)&&re[_].push(L);return re},y.addFont=function(_,L,re,de,ve){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(re=J(re,de)),Il.call(this,_,L,re,ve=ve||"Identity-H")};var ti,fo=t.lineWidth||.200025,Ui=y.__private__.getLineWidth=y.getLineWidth=function(){return fo},Tt=y.__private__.setLineWidth=y.setLineWidth=function(_){return fo=_,K(W(Q(_))+" w"),this};y.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(_,L){if(_=_||[],L=L||0,isNaN(L)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(re){return W(Q(re))}).join(" "),L=W(Q(L)),K("["+_+"] "+L+" d"),this};var Ic=y.__private__.getLineHeight=y.getLineHeight=function(){return Re*ti};y.__private__.getLineHeight=y.getLineHeight=function(){return Re*ti};var Yl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ti=_),this},Bc=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ti};Yl(t.lineHeight);var Ma=y.__private__.getHorizontalCoordinate=function(_){return Q(_)},Hr=y.__private__.getVerticalCoordinate=function(_){return M===P?_:vt[B].mediaBox.topRightY-vt[B].mediaBox.bottomLeftY-Q(_)},Kl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return W(Ma(_))},mo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return W(Hr(_))},Da=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Jn(Da)},y.__private__.setStrokeColor=y.setDrawColor=function(_,L,re,de){return Da=ta({ch1:_,ch2:L,ch3:re,ch4:de,pdfColorType:"draw",precision:2}),K(Da),this};var po=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Jn(po)},y.__private__.setFillColor=y.setFillColor=function(_,L,re,de){return po=ta({ch1:_,ch2:L,ch3:re,ch4:de,pdfColorType:"fill",precision:2}),K(po),this};var Ms=t.textColor||"0 g",Uc=y.__private__.getTextColor=y.getTextColor=function(){return Jn(Ms)};y.__private__.setTextColor=y.setTextColor=function(_,L,re,de){return Ms=ta({ch1:_,ch2:L,ch3:re,ch4:de,pdfColorType:"text",precision:3}),this};var Va=t.charSpace,Xo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Va||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Va=_,this};var Jo=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var L=y.CapJoinStyles[_];if(L===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jo=L,K(L+" J"),this};var Pr=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var L=y.CapJoinStyles[_];if(L===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pr=L,K(L+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(W(Q(_))+" M"),this},y.GState=$f,y.setGState=function(_){(_=typeof _=="string"?wt[Dt[_]]:Ds(null,_)).equals(Sn)||(K("/"+_.id+" gs"),Sn=_)};var Ds=function(_,L){if(!_||!Dt[_]){var re=!1;for(var de in wt)if(wt.hasOwnProperty(de)&&wt[de].equals(L)){re=!0;break}if(re)L=wt[de];else{var ve="GS"+(Object.keys(wt).length+1).toString(10);wt[ve]=L,L.id=ve}return _&&(Dt[_]=L.id),Qe.publish("addGState",L),L}};y.addGState=function(_,L){return Ds(_,L),this},y.saveGraphicsState=function(){return K("q"),Xt.push({key:lt,size:Re,color:Ms}),this},y.restoreGraphicsState=function(){K("Q");var _=Xt.pop();return lt=_.key,Re=_.size,Ms=_.color,Sn=null,this},y.setCurrentTransformationMatrix=function(_){return K(_.toString()+" cm"),this},y.comment=function(_){return K("#"+_),this};var Ga=function(_,L){var re=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Be){isNaN(Be)||(re=parseFloat(Be))}});var de=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Be){isNaN(Be)||(de=parseFloat(Be))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Be){ve=Be.toString()}}),this},ni=function(_,L,re,de){Ga.call(this,_,L),this.type="rect";var ve=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ve){isNaN(Ve)||(ve=parseFloat(Ve))}});var Be=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ve){isNaN(Ve)||(Be=parseFloat(Ve))}}),this},Qo=function(){this.page=qt,this.currentPage=B,this.pages=He.slice(0),this.pagesContext=vt.slice(0),this.x=gt,this.y=Cn,this.matrix=Kt,this.width=ai(B),this.height=Xl(B),this.outputDestination=Je,this.id="",this.objectNumber=-1};Qo.prototype.restore=function(){qt=this.page,B=this.currentPage,vt=this.pagesContext,He=this.pages,gt=this.x,Cn=this.y,Kt=this.matrix,vo(B,this.width),si(B,this.height),Je=this.outputDestination};var go=function(_,L,re,de,ve){qr.push(new Qo),qt=B=0,He=[],gt=_,Cn=L,Kt=ve,fs([re,de])};for(var ri in y.beginFormObject=function(_,L,re,de,ve){return go(_,L,re,de,ve),this},y.endFormObject=function(_){return(function(L){if(Kn[L])qr.pop().restore();else{var re=new Qo,de="Xo"+(Object.keys(un).length+1).toString(10);re.id=de,Kn[L]=de,un[de]=re,Qe.publish("addFormObject",re),qr.pop().restore()}})(_),this},y.doFormObject=function(_,L){var re=un[Kn[_]];return K("q"),K(L.toString()+" cm"),K("/"+re.id+" Do"),K("Q"),this},y.getFormObject=function(_){var L=un[Kn[_]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},y.save=function(_,L){return _=_||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(wc(Bi(Rs()),_),typeof wc.unload=="function"&&zt.setTimeout&&setTimeout(wc.unload,911),this):new Promise(function(re,de){try{var ve=wc(Bi(Rs()),_);typeof wc.unload=="function"&&zt.setTimeout&&setTimeout(wc.unload,911),re(ve)}catch(Be){de(Be.message)}})},Nt.API)Nt.API.hasOwnProperty(ri)&&(ri==="events"&&Nt.API.events.length?(function(_,L){var re,de,ve;for(ve=L.length-1;ve!==-1;ve--)re=L[ve][0],de=L[ve][1],_.subscribe.apply(_,[re].concat(typeof de=="function"?[de]:de))})(Qe,Nt.API.events):y[ri]=Nt.API[ri]);function ai(_){return vt[_].mediaBox.topRightX-vt[_].mediaBox.bottomLeftX}function vo(_,L){vt[_].mediaBox.topRightX=L+vt[_].mediaBox.bottomLeftX}function Xl(_){return vt[_].mediaBox.topRightY-vt[_].mediaBox.bottomLeftY}function si(_,L){vt[_].mediaBox.topRightY=L+vt[_].mediaBox.bottomLeftY}var ii=y.getPageWidth=function(_){return ai(_=_||B)/Et},zc=y.setPageWidth=function(_,L){vo(_,L*Et)},oi=y.getPageHeight=function(_){return Xl(_=_||B)/Et},Fc=y.setPageHeight=function(_,L){si(_,L*Et)};return y.internal={pdfEscape:La,getStyle:Vl,getFont:gs,getFontSize:Ze,getCharSpace:Xo,getTextColor:Uc,getLineHeight:Ic,getLineHeightFactor:Bc,getLineWidth:Ui,write:Ke,getHorizontalCoordinate:Ma,getVerticalCoordinate:Hr,getCoordinateString:Kl,getVerticalCoordinateString:mo,collections:{},newObject:Tn,newAdditionalObject:Pi,newObjectDeferred:En,newObjectDeferredBegin:kr,getFilters:Oa,putStream:Ha,events:Qe,scaleFactor:Et,pageSize:{getWidth:function(){return ii(B)},setWidth:function(_){zc(B,_)},getHeight:function(){return oi(B)},setHeight:function(_){Fc(B,_)}},encryptionOptions:v,encryption:Cr,getEncryptor:function(_){return v!==null?Cr.encryptor(_,0):function(L){return L}},output:ql,getNumberOfPages:zl,get pages(){return He},out:K,f2:D,f3:q,getPageInfo:vr,getPageInfoByObjId:Ko,getCurrentPageInfo:Rc,getPDFVersion:j,Point:Ga,Rectangle:ni,Matrix:et,hasHotfix:da},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ii(B)},set:function(_){zc(B,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return oi(B)},set:function(_){Fc(B,_)},enumerable:!0,configurable:!0}),(function(_){for(var L=0,re=Ye.length;L<re;L++){var de=Il.call(this,_[L][0],_[L][1],_[L][2],Ye[L][3],!0);x===!1&&(N[de]=!0);var ve=_[L][0].split("-");ur({id:de,fontName:ve[0],fontStyle:ve[1]||""})}Qe.publish("addFonts",{fonts:At,dictionary:Rt})}).call(y,Ye),lt="F1",Zs(i,n),Qe.publish("initialized"),y}Iu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Iu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Iu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Iu.prototype.processOwnerPassword=function(t,e){return H0(q0(e).substr(0,5),t)},Iu.prototype.encryptor=function(t,e){var n=q0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return H0(n,a)}},$f.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Pn(t)!==Pn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},Nt.API={events:[]},Nt.version="4.0.0";var jr=Nt.API,bg=1,Oc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(t){return t.toFixed(2)},Ll=function(t){return t.toFixed(5)};jr.__acroform__={};var ls=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Fb=function(t){return t*bg},ao=function(t){var e=new ix,n=mt.internal.getHeight(t)||0,a=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Wt(a)),Number(Wt(n))],e},O7=jr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},L7=jr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},R7=jr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Rr=jr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return R7(t,e-1)},Mr=jr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return O7(t,e-1)},Dr=jr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return L7(t,e-1)},M7=jr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,i=t[0],o=t[1],h=t[2],u=t[3],f={};return f.lowerLeft_X=n(i)||0,f.lowerLeft_Y=a(o+u)||0,f.upperRight_X=n(i+h)||0,f.upperRight_Y=a(o)||0,[Number(Wt(f.lowerLeft_X)),Number(Wt(f.lowerLeft_Y)),Number(Wt(f.upperRight_X)),Number(Wt(f.upperRight_Y))]},D7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,a=V0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Wt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ao(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},V0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var o=n,h=mt.internal.getHeight(t)||0;h=h<0?-h:h;var u=mt.internal.getWidth(t)||0;u=u<0?-u:u;var f=function(D,q,Q){if(D+1<i.length){var ie=q+" "+i[D+1][0];return wf(ie,t,Q).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var m,v,x=wf("3",t,o).height,N=t.multiline?h-o:(h-x)/2,y=N+=2,E=0,j=0,A=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+wf(e,t,o=12).width+", FieldWidth:"+u+`
`;break}for(var k="",I=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var M=!1;if(i[P].length!==1&&A!==i[P].length-1){if((x+2)*(I+2)+2>h)continue e;k+=i[P][A],M=!0,j=P,P--}else{k=(k+=i[P][A]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ae=parseInt(P),ee=f(ae,k,o),J=P>=i.length-1;if(ee&&!J){k+=" ",A=0;continue}if(ee||J){if(J)j=ae;else if(t.multiline&&(x+2)*(I+2)+2>h)continue e}else{if(!t.multiline||(x+2)*(I+2)+2>h)continue e;j=ae}}for(var W="",Y=E;Y<=j;Y++){var he=i[Y];if(t.multiline){if(Y===j){W+=he[A]+" ",A=(A+1)%he.length;continue}if(Y===E){W+=he[he.length-1]+" ";continue}}W+=he[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,v=wf(W,t,o).width,t.textAlign){case"right":m=u-v-2;break;case"center":m=(u-v)/2;break;default:m=2}e+=Wt(m)+" "+Wt(y)+` Td
`,e+="("+Oc(W)+`) Tj
`,e+=-Wt(m)+` 0 Td
`,y=-(o+2),v=0,E=M?j:j+1,I++,k=""}break}return a.text=e,a.fontSize=o,a},wf=function(t,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},P7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},I7=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},B7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Mi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(P7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ox,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];o.objId=void 0,o.hasAnnotation&&I7(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,i){var o=!a;for(var h in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(h)){var u=a[h],f=[],m=u.Rect;if(u.Rect&&(u.Rect=M7(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=mt.createDefaultAppearanceStream(u),Pn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=m,u.hasAppearanceStream&&!u.appearanceStreamContent){var v=D7(u);f.push({key:"AP",value:"<</N "+v+">>"}),i.internal.acroformPlugin.xForms.push(v)}if(u.appearanceStreamContent){var x="";for(var N in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(N)){var y=u.appearanceStreamContent[N];if(x+="/"+N+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var h in y)if(y.hasOwnProperty(h)){var E=y[h];typeof E=="function"&&(E=E.call(i,u)),x+="/"+h+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(i,u)),x+="/"+h+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);x+=">>"}f.push({key:"AP",value:`<<
`+x+">>"})}i.internal.putStream({additionalKeyValues:f,objectId:u.objId}),i.internal.out("endobj")}o&&(function(j,A){for(var k in j)if(j.hasOwnProperty(k)){var I=k,P=j[k];A.internal.newObjectDeferredBegin(P.objId,!0),Pn(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete j[I]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},sx=jr.__acroform__.arrayToPdfArray=function(t,e,n){var a=function(h){return h};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Pn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),i+="("+Oc(a(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},i0=function(t,e,n){var a=function(i){return i};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Oc(a(t))+")"},so=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};so.prototype.toString=function(){return this.objId+" 0 R"},so.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},so.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],i=this[a];i&&(Array.isArray(i)?t.push({key:a,value:sx(i,this.objId,this.scope)}):i instanceof so?(i.scope=this.scope,t.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:a,value:i}))}return t};var ix=function(){so.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ls(ix,so);var ox=function(){so.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Oc(n(t))+")"}},set:function(n){t=n}})};ls(ox,so);var Mi=function t(){so.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rr(e,3)},set:function(k){k?this.F=Mr(e,3):this.F=Dr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');n=k}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(k){a=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(k){a[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(k){a[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(k){a[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(k){a[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Wf)return;o="FieldObject"+t.FieldNum++}var k=function(I){return I};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Oc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/bg:m},set:function(k){m=k}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(k){v=k}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Wf||this instanceof Ac))return i0(x,this.objId,this.scope)},set:function(k){k=k.toString(),x=k}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof la==0?i0(N,this.objId,this.scope):N},set:function(k){k=k.toString(),N=this instanceof la==0?k.substr(0,1)==="("?Ou(k.substr(1,k.length-2)):Ou(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof la==1?Ou(N.substr(1,N.length-1)):N},set:function(k){k=k.toString(),N=this instanceof la==1?"/"+k:k}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof la==0?i0(y,this.objId,this.scope):y},set:function(k){k=k.toString(),y=this instanceof la==0?k.substr(0,1)==="("?Ou(k.substr(1,k.length-2)):Ou(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof la==1?Ou(y.substr(1,y.length-1)):y},set:function(k){k=k.toString(),y=this instanceof la==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(k){k=!!k,j=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(k){E=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,1)},set:function(k){k?this.Ff=Mr(this.Ff,1):this.Ff=Dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,2)},set:function(k){k?this.Ff=Mr(this.Ff,2):this.Ff=Dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,3)},set:function(k){k?this.Ff=Mr(this.Ff,3):this.Ff=Dr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');A=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(A){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};ls(Mi,so);var Gu=function(){Mi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sx(e,this.objId,this.scope)},set:function(n){var a,i;i=[],typeof(a=n)=="string"&&(i=(function(o,h,u){u||(u=1);for(var f,m=[];f=h.exec(o);)m.push(f[u]);return m})(a,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,18)},set:function(n){n?this.Ff=Mr(this.Ff,18):this.Ff=Dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Mr(this.Ff,19):this.Ff=Dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,20)},set:function(n){n?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=Dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,22)},set:function(n){n?this.Ff=Mr(this.Ff,22):this.Ff=Dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(n){n?this.Ff=Mr(this.Ff,23):this.Ff=Dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,27)},set:function(n){n?this.Ff=Mr(this.Ff,27):this.Ff=Dr(this.Ff,27)}}),this.hasAppearanceStream=!1};ls(Gu,Mi);var $u=function(){Gu.call(this),this.fontName="helvetica",this.combo=!1};ls($u,Gu);var Wu=function(){$u.call(this),this.combo=!0};ls(Wu,$u);var Ef=function(){Wu.call(this),this.edit=!0};ls(Ef,Wu);var la=function(){Mi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,15)},set:function(n){n?this.Ff=Mr(this.Ff,15):this.Ff=Dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,16)},set:function(n){n?this.Ff=Mr(this.Ff,16):this.Ff=Dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,17)},set:function(n){n?this.Ff=Mr(this.Ff,17):this.Ff=Dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(n){n?this.Ff=Mr(this.Ff,26):this.Ff=Dr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,i=[];for(a in i.push("<<"),e)i.push("/"+a+" ("+Oc(n(e[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Pn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ls(la,Mi);var Tf=function(){la.call(this),this.pushButton=!0};ls(Tf,la);var Yu=function(){la.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ls(Yu,la);var Wf=function(){var t,e;Mi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),a)h.push("/"+o+" ("+Oc(i(a[o]))+")");return h.push(">>"),h.join(`
`)},set:function(i){Pn(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ls(Wf,Mi),Yu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Yu.prototype.createOption=function(t){var e=new Wf;return e.Parent=this,e.optionName=t,this.Kids.push(e),U7.call(this.scope,e),e};var Of=function(){la.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};ls(Of,la);var Ac=function(){Mi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=Dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=Dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=Dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=Dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=Dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=Dr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ls(Ac,Mi);var Lf=function(){Ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,14)},set:function(t){t?this.Ff=Mr(this.Ff,14):this.Ff=Dr(this.Ff,14)}}),this.password=!0};ls(Lf,Ac);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ao(t);e.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=V0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Wt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ao(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=[],o=mt.internal.getHeight(t),h=mt.internal.getWidth(t),u=V0(t,t.caption);return i.push("1 g"),i.push("0 0 "+Wt(h)+" "+Wt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Wt(h-1)+" "+Wt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Wt(u.fontSize)+" Tf "+a),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ao(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ao(t);e.scope=t.scope;var n=[],a=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=mt.internal.Bezier_C,o=Number((a*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ll(mt.internal.getWidth(t)/2)+" "+Ll(mt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ao(t);e.scope=t.scope;var n=[],a=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),o=Number((i*mt.internal.Bezier_C).toFixed(5)),h=Number((a*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ll(mt.internal.getWidth(t)/2)+" "+Ll(mt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ll(mt.internal.getWidth(t)/2)+" "+Ll(mt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+h+" "+h+" "+a+" 0 "+a+" c"),n.push("-"+h+" "+a+" -"+a+" "+h+" -"+a+" 0 c"),n.push("-"+a+" -"+h+" -"+h+" -"+a+" 0 -"+a+" c"),n.push(h+" -"+a+" "+a+" -"+h+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ao(t);e.scope=t.scope;var n=[],a=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),o=Number((i*mt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ll(mt.internal.getWidth(t)/2)+" "+Ll(mt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ao(t);e.scope=t.scope;var n=[],a=mt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Wt(mt.internal.getWidth(t)-2)+" "+Wt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Wt(a.x1.x)+" "+Wt(a.x1.y)+" m"),n.push(Wt(a.x2.x)+" "+Wt(a.x2.y)+" l"),n.push(Wt(a.x4.x)+" "+Wt(a.x4.y)+" m"),n.push(Wt(a.x3.x)+" "+Wt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ao(t);e.scope=t.scope;var n=mt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Wt(mt.internal.getWidth(t)-2)+" "+Wt(mt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Wt(n.x1.x)+" "+Wt(n.x1.y)+" m"),a.push(Wt(n.x2.x)+" "+Wt(n.x2.y)+" l"),a.push(Wt(n.x4.x)+" "+Wt(n.x4.y)+" m"),a.push(Wt(n.x3.x)+" "+Wt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=ao(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(mt.internal.getWidth(t))+" "+Wt(mt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),n=mt.internal.getHeight(t),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},mt.internal.getWidth=function(t){var e=0;return Pn(t)==="object"&&(e=Fb(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return Pn(t)==="object"&&(e=Fb(t.Rect[3])),e};var U7=jr.addField=function(t){if(B7(this,t),!(t instanceof Mi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=Gu,jr.AcroFormListBox=$u,jr.AcroFormComboBox=Wu,jr.AcroFormEditBox=Ef,jr.AcroFormButton=la,jr.AcroFormPushButton=Tf,jr.AcroFormRadioButton=Yu,jr.AcroFormCheckBox=Of,jr.AcroFormTextField=Ac,jr.AcroFormPasswordField=Lf,jr.AcroFormAppearance=mt,jr.AcroForm={ChoiceField:Gu,ListBox:$u,ComboBox:Wu,EditBox:Ef,Button:la,PushButton:Tf,RadioButton:Yu,CheckBox:Of,TextField:Ac,PasswordField:Lf,Appearance:mt},Nt.AcroForm={ChoiceField:Gu,ListBox:$u,ComboBox:Wu,EditBox:Ef,Button:la,PushButton:Tf,RadioButton:Yu,CheckBox:Of,TextField:Ac,PasswordField:Lf,Appearance:mt};Nt.AcroForm;function lx(t){return t.reduce(function(e,n,a){return e[n]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(D,q){var Q,ie,ye,X,le,se=n;if((q=q||n)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(ee(D))for(le in a)for(ye=a[le],Q=0;Q<ye.length;Q+=1){for(X=!0,ie=0;ie<ye[Q].length;ie+=1)if(ye[Q][ie]!==void 0&&ye[Q][ie]!==D[ie]){X=!1;break}if(X===!0){se=le;break}}else for(le in a)for(ye=a[le],Q=0;Q<ye.length;Q+=1){for(X=!0,ie=0;ie<ye[Q].length;ie+=1)if(ye[Q][ie]!==void 0&&ye[Q][ie]!==D.charCodeAt(ie)){X=!1;break}if(X===!0){se=le;break}}return se===n&&q!==n&&(se=q),se},o=function D(q){for(var Q=this.internal.write,ie=this.internal.putStream,ye=(0,this.internal.getFilters)();ye.indexOf("FlateEncode")!==-1;)ye.splice(ye.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:q.width}),X.push({key:"Height",value:q.height}),q.colorSpace===k.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===k.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var le="",se=0,_e=q.transparency.length;se<_e;se++)le+=q.transparency[se]+" "+q.transparency[se]+" ";X.push({key:"Mask",value:"["+le+"]"})}q.sMask!==void 0&&X.push({key:"SMask",value:q.objectId+1+" 0 R"});var Le=q.filter!==void 0?["/"+q.filter]:void 0;if(ie({data:q.data,additionalKeyValues:X,alreadyAppliedFilters:Le,objectId:q.objectId}),Q("endobj"),"sMask"in q&&q.sMask!==void 0){var G,O=(G=q.sMaskBitsPerComponent)!==null&&G!==void 0?G:q.bitsPerComponent,B={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:q.sMask};"filter"in q&&(B.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(q.width),B.filter=q.filter),D.call(this,B)}if(q.colorSpace===k.INDEXED){var H=this.internal.newObject();ie({data:W(new Uint8Array(q.palette)),objectId:H}),Q("endobj")}},h=function(){var D=this.internal.collections[e+"images"];for(var q in D)o.call(this,D[q])},u=function(){var D,q=this.internal.collections[e+"images"],Q=this.internal.write;for(var ie in q)Q("/I"+(D=q[ie]).index,D.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",u))},m=function(){var D=this.internal.collections[e+"images"];return f.call(this),D},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(D){return typeof t["process"+D.toUpperCase()]=="function"},N=function(D){return Pn(D)==="object"&&D.nodeType===1},y=function(D,q){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var Q=""+D.getAttribute("src");if(Q.indexOf("data:image/")===0)return Cf(unescape(Q).split("base64,").pop());var ie=t.loadFile(Q,!0);if(ie!==void 0)return ie}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ye;switch(q){case"PNG":ye="image/png";break;case"WEBP":ye="image/webp";break;default:ye="image/jpeg"}return Cf(D.toDataURL(ye,1).split("base64,").pop())}},E=function(D){var q=this.internal.collections[e+"images"];if(q){for(var Q in q)if(D===q[Q].alias)return q[Q]}},j=function(D,q,Q){return D||q||(D=-96,q=-96),D<0&&(D=-1*Q.width*72/D/this.internal.scaleFactor),q<0&&(q=-1*Q.height*72/q/this.internal.scaleFactor),D===0&&(D=q*Q.width/Q.height),q===0&&(q=D*Q.height/Q.width),[D,q]},A=function(D,q,Q,ie,ye,X){var le=j.call(this,Q,ie,ye),se=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Le=m.call(this);if(Q=le[0],ie=le[1],Le[ye.index]=ye,X){X*=Math.PI/180;var G=Math.cos(X),O=Math.sin(X),B=function(ne){return ne.toFixed(4)},H=[B(G),B(O),B(-1*O),B(G),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,se(D),_e(q+ie),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([se(Q),"0","0",se(ie),"0","0","cm"].join(" "))):this.internal.write([se(Q),"0","0",se(ie),se(D),_e(q+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ye.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(D){var q,Q,ie=0;if(typeof D=="string")for(Q=D.length,q=0;q<Q;q++)ie=(ie<<5)-ie+D.charCodeAt(q),ie|=0;else if(ee(D))for(Q=D.byteLength/2,q=0;q<Q;q++)ie=(ie<<5)-ie+D[q],ie|=0;return ie},M=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var q=!0;return D.length===0&&(q=!1),D.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(q=!1),q},ae=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var q=D.indexOf(",");return q<0?null:D.substring(0,q).trim().endsWith("base64")?D.substring(q+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var ee=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},J=t.__addimage__.binaryStringToUint8Array=function(D){for(var q=D.length,Q=new Uint8Array(q),ie=0;ie<q;ie++)Q[ie]=D.charCodeAt(ie);return Q},W=t.__addimage__.arrayBufferToBinaryString=function(D){for(var q="",Q=ee(D)?D:new Uint8Array(D),ie=0;ie<Q.length;ie+=8192)q+=String.fromCharCode.apply(null,Q.subarray(ie,ie+8192));return q};t.addImage=function(){var D,q,Q,ie,ye,X,le,se,_e;if(typeof arguments[1]=="number"?(q=n,Q=arguments[1],ie=arguments[2],ye=arguments[3],X=arguments[4],le=arguments[5],se=arguments[6],_e=arguments[7]):(q=arguments[1],Q=arguments[2],ie=arguments[3],ye=arguments[4],X=arguments[5],le=arguments[6],se=arguments[7],_e=arguments[8]),Pn(D=arguments[0])==="object"&&!N(D)&&"imageData"in D){var Le=D;D=Le.imageData,q=Le.format||q||n,Q=Le.x||Q||0,ie=Le.y||ie||0,ye=Le.w||Le.width||ye,X=Le.h||Le.height||X,le=Le.alias||le,se=Le.compression||se,_e=Le.rotation||Le.angle||_e}var G=this.internal.getFilters();if(se===void 0&&G.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(Q)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var O=Y.call(this,D,q,le,se);return A.call(this,Q,ie,ye,X,O,_e),this};var Y=function(D,q,Q,ie){var ye,X,le;if(typeof D=="string"&&i(D)===n){D=unescape(D);var se=he(D,!1);(se!==""||(se=t.loadFile(D,!0))!==void 0)&&(D=se)}if(N(D)&&(D=y(D,q)),q=i(D,q),!x(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((le=Q)==null||le.length===0)&&(Q=(function(_e){return typeof _e=="string"||ee(_e)?P(_e):ee(_e.data)?P(_e.data):null})(D)),(ye=E.call(this,Q))||(D instanceof Uint8Array||q==="RGBA"||(X=D,D=J(D)),ye=this["process"+q.toUpperCase()](D,v.call(this),Q,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in t.image_compression?_e:I.NONE})(ie),X)),!ye)throw new Error("An unknown error occurred whilst processing the image.");return ye},he=t.__addimage__.convertBase64ToBinaryString=function(D,q){q=typeof q!="boolean"||q;var Q,ie="";if(typeof D=="string"){var ye;Q=(ye=ae(D))!==null&&ye!==void 0?ye:D;try{ie=Cf(Q)}catch(X){if(q)throw M(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};t.getImageProperties=function(D){var q,Q,ie="";if(N(D)&&(D=y(D)),typeof D=="string"&&i(D)===n&&((ie=he(D,!1))===""&&(ie=t.loadFile(D)||""),D=ie),Q=i(D),!x(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(D instanceof Uint8Array||(D=J(D)),!(q=this["process"+Q.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=Q,q}})(Nt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,i,o,h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,v=!1,x=0;x<m.length&&!v;x++)switch((a=m[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var N=0;N<m.length;N++){a=m[N];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(j.objId),I=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+h(a.bounds.x)+" "+u(a.bounds.y+a.bounds.h)+" "+h(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y)+"] ")+"/Contents ("+y(k(a.contents))+")",o+=" /Popup "+A.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(k(I))+") >>",j.content=o;var P=j.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+h(a.bounds.x+30)+" "+u(a.bounds.y+a.bounds.h)+" "+h(a.bounds.x+a.bounds.w+30)+" "+u(a.bounds.y)+"] ")+" /Parent "+P,a.open&&(o+=" /Open true"),o+=" >>",A.content=o,this.internal.write(j.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+h(a.bounds.x)+" "+u(a.bounds.y)+" "+h(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y+a.bounds.h)+"] ";var M=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(E(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var ae=this.annotations._nameMap[a.options.name];a.options.pageNumber=ae.page,a.options.top=ae.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var ee=u(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+ee+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,i,o,h){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(n),y:m(a),w:f(n+i),h:m(a+o)},options:h,type:"link"})},t.textWithLink=function(n,a,i,o){var h,u,f=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var v=this.splitTextToSize(n,u).length;h=Math.ceil(m*v)}else u=f,h=m;return this.text(n,a,i,o),i+=.2*m,o.align==="center"&&(a-=f/2),o.align==="right"&&(a-=f),this.link(a,i-m,u,h,o),f},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(Nt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},h=t.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},u=t.__arabicParser__.isArabicEndLetter=function(j){return h(j)&&o(j)&&e[j.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(j){return h(j)&&i.indexOf(j.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return h(j)&&o(j)&&e[j.charCodeAt(0)].length>=1};var m=t.__arabicParser__.arabicLetterHasFinalForm=function(j){return h(j)&&o(j)&&e[j.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(j){return h(j)&&o(j)&&e[j.charCodeAt(0)].length>=3};var v=t.__arabicParser__.arabicLetterHasMedialForm=function(j){return h(j)&&o(j)&&e[j.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(j){var A=0,k=n,I="",P=0;for(A=0;A<j.length;A+=1)k[j.charCodeAt(A)]!==void 0?(P++,typeof(k=k[j.charCodeAt(A)])=="number"&&(I+=String.fromCharCode(k),k=n,P=0),A===j.length-1&&(k=n,I+=j.charAt(A-(P-1)),A-=P-1,P=0)):(k=n,I+=j.charAt(A-P),A-=P,P=0);return I};t.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&a[j.charCodeAt(0)]!==void 0};var N=t.__arabicParser__.getCorrectForm=function(j,A,k){return h(j)?o(j)===!1?-1:!m(j)||!h(A)&&!h(k)||!h(k)&&u(A)||u(j)&&!h(A)||u(j)&&f(A)||u(j)&&u(A)?0:v(j)&&h(A)&&!u(A)&&h(k)&&m(k)?3:u(j)||!h(k)?1:2:-1},y=function(j){var A=0,k=0,I=0,P="",M="",ae="",ee=(j=j||"").split("\\s+"),J=[];for(A=0;A<ee.length;A+=1){for(J.push(""),k=0;k<ee[A].length;k+=1)P=ee[A][k],M=ee[A][k-1],ae=ee[A][k+1],h(P)?(I=N(P,M,ae),J[A]+=I!==-1?String.fromCharCode(e[P.charCodeAt(0)][I]):P):J[A]+=P;J[A]=x(J[A])}return J.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var j,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(A)){var I=0;for(k=[],I=0;I<A.length;I+=1)Array.isArray(A[I])?k.push([y(A[I][0]),A[I][1],A[I][2]]):k.push([y(A[I])]);j=k}else j=y(A);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};t.events.push(["preProcessText",E])})(Nt.API),Nt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(u){h=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var i;if((n=n||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Nt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(j){v=j}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(j){N=j}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(j){y=j}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(j){E=j}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,m){a.call(this);var v=(m=m||{}).fontSize||this.getFontSize(),x=m.font||this.getFont(),N=m.scaleFactor||this.internal.scaleFactor,y=0,E=0,j=0,A=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=m.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(P,M){return P.concat(A.splitTextToSize(M,k))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)y<(j=this.getStringUnitWidth(f[I],{font:x})*v)&&(y=j);return y!==0&&(E=f.length),{w:y/=N,h:Math.max((E*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/N,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=t.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var m=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=x.top,y&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};t.table=function(f,m,v,x,N){if(a.call(this),!v)throw new Error("No data for PDF table.");var y,E,j,A,k=[],I=[],P=[],M={},ae={},ee=[],J=[],W=(N=N||{}).autoSize||!1,Y=N.printHeaders!==!1,he=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,D=N.margins||Object.assign({width:this.getPageWidth()},e),q=typeof N.padding=="number"?N.padding:3,Q=N.headerBackgroundColor||"#c8c8c8",ie=N.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=he,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=ie,this.setFontSize(he),x==null)I=k=Object.keys(v[0]),P=k.map(function(){return"left"});else if(Array.isArray(x)&&Pn(x[0])==="object")for(k=x.map(function(Le){return Le.name}),I=x.map(function(Le){return Le.prompt||Le.name||""}),P=x.map(function(Le){return Le.align||"left"}),y=0;y<x.length;y+=1)ae[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(I=k=x,P=k.map(function(){return"left"}));if(W||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<k.length;y+=1){for(M[A=k[y]]=v.map(function(Le){return Le[A]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(I[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=M[A],this.setFont(void 0,"normal"),j=0;j<E.length;j+=1)ee.push(this.getTextDimensions(E[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[A]=Math.max.apply(null,ee)+q+q,ee=[]}if(Y){var ye={};for(y=0;y<k.length;y+=1)ye[k[y]]={},ye[k[y]].text=I[y],ye[k[y]].align=P[y];var X=u.call(this,ye,ae);J=k.map(function(Le){return new o(f,m,ae[Le],X,ye[Le].text,void 0,ye[Le].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var le=x.reduce(function(Le,G){return Le[G.name]=G.align,Le},{});for(y=0;y<v.length;y+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:y,data:v[y]},this);var se=u.call(this,v[y],ae);for(j=0;j<k.length;j+=1){var _e=v[y][k[j]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:y,col:j,data:_e},this),h.call(this,new o(f,m,ae[k[j]],se,_e,y+2,le[k[j]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var u=function(f,m){var v=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(y){var E=f[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,m[y]-v-v)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/N+v+v},this).reduce(function(y,E){return Math.max(y,E)},0)};t.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,m){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){v=this.internal.__cell__.tableHeaderRow[y].clone(),m&&(v.y=this.internal.__cell__.margins.top||0,N.push(v)),v.lineNumber=f;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,v),this.setTextColor(E)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),n=!1}})(Nt.API);var cx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ux=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G0=lx(ux),dx=[100,200,300,400,500,600,700,800,900],z7=lx(dx);function o0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return cx[o=o||"normal"]?o:"normal"})(t.style),a=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof G0[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:a,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,a].join(" ")}}}function qb(t,e,n,a){var i;for(i=n;i>=0&&i<e.length;i+=a)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=a)if(t[e[i]])return t[e[i]]}var F7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Hb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Gb(t){return t.trimLeft()}function q7(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function H7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var _f,$b,Wb,Lu,Nf,Yb,Kb,Xb,l0=["times"];function Jb(t,e,n,a,i){var o=4,h=Zb;switch(i){case Nt.API.image_compression.FAST:o=1,h=Qb;break;case Nt.API.image_compression.MEDIUM:o=6,h=ey;break;case Nt.API.image_compression.SLOW:o=9,h=ty}t=(function(f,m,v,x){for(var N,y=f.length/m,E=new Uint8Array(f.length+y),j=[V7,Qb,Zb,ey,ty],A=0;A<y;A+=1){var k=A*m,I=f.subarray(k,k+m);if(x)E.set(x(I,v,N),k+A);else{for(var P=j.length,M=[],ae=0;ae<P;ae+=1)M[ae]=j[ae](I,v,N);var ee=$7(M.concat());E.set(M[ee],k+A)}N=I}return E})(t,e,Math.ceil(n*a/8),h);var u=B0(t,{level:o});return Nt.API.__addimage__.arrayBufferToBinaryString(u)}function V7(t){var e=Array.apply([],t);return e.unshift(0),e}function Qb(t,e){var n=t.length,a=[];a[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;a[i+1]=t[i]-o+256&255}return a}function Zb(t,e,n){var a=t.length,i=[];i[0]=2;for(var o=0;o<a;o+=1){var h=n&&n[o]||0;i[o+1]=t[o]-h+256&255}return i}function ey(t,e,n){var a=t.length,i=[];i[0]=3;for(var o=0;o<a;o+=1){var h=t[o-e]||0,u=n&&n[o]||0;i[o+1]=t[o]+256-(h+u>>>1)&255}return i}function ty(t,e,n){var a=t.length,i=[];i[0]=4;for(var o=0;o<a;o+=1){var h=G7(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-h+256&255}return i}function G7(t,e,n){if(t===e&&e===n)return t;var a=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return a<=i&&a<=o?t:i<=o?e:n}function $7(t){var e=t.map(function(n){return n.reduce(function(a,i){return a+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function c0(t,e,n){var a=e*n,i=Math.floor(a/8),o=16-(a-8*i+n),h=(1<<n)-1;return hx(t,i)>>o&h}function ny(t,e,n,a){var i=n*a,o=Math.floor(i/8),h=16-(i-8*o+a),u=(1<<a)-1,f=(e&u)<<h;(function(m,v,x){if(v+1<m.byteLength)m.setUint16(v,x,!1);else{var N=x>>8&255;m.setUint8(v,N)}})(t,o,hx(t,o)&~(u<<h)&65535|f)}function hx(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function W7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,h=1<<1+(7&i);t[e++],t[e++];var u=null,f=null;o&&(u=e,f=h,e+=3*h);var m=!0,v=[],x=0,N=null,y=0,E=null;for(this.width=n,this.height=a;m&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=t[e++];x=t[e++]|t[e++]<<8,N=t[e++],1&j||(N=null),y=j>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,M=t[e++],ae=M>>6&1,ee=1<<1+(7&M),J=u,W=f,Y=!1;M>>7&&(Y=!0,J=e,W=ee,e+=3*ee);var he=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}v.push({x:A,y:k,width:I,height:P,has_local_palette:Y,palette_offset:J,palette_size:W,data_offset:he,data_length:e-he,transparent_index:N,interlaced:!!ae,delay:x,disposal:y});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return E},this.frameInfo=function(q){if(q<0||q>=v.length)throw new Error("Frame index out of range.");return v[q]},this.decodeAndBlitFrameBGRA=function(q,Q){var ie=this.frameInfo(q),ye=ie.width*ie.height,X=new Uint8Array(ye);ry(t,ie.data_offset,X,ye);var le=ie.palette_offset,se=ie.transparent_index;se===null&&(se=256);var _e=ie.width,Le=n-_e,G=_e,O=4*(ie.y*n+ie.x),B=4*((ie.y+ie.height)*n+ie.x),H=O,ne=4*Le;ie.interlaced===!0&&(ne+=4*n*7);for(var oe=8,ue=0,ge=X.length;ue<ge;++ue){var we=X[ue];if(G===0&&(G=_e,(H+=ne)>=B&&(ne=4*Le+4*n*(oe-1),H=O+(_e+Le)*(oe<<1),oe>>=1)),we===se)H+=4;else{var Oe=t[le+3*we],He=t[le+3*we+1],$e=t[le+3*we+2];Q[H++]=$e,Q[H++]=He,Q[H++]=Oe,Q[H++]=255}--G}},this.decodeAndBlitFrameRGBA=function(q,Q){var ie=this.frameInfo(q),ye=ie.width*ie.height,X=new Uint8Array(ye);ry(t,ie.data_offset,X,ye);var le=ie.palette_offset,se=ie.transparent_index;se===null&&(se=256);var _e=ie.width,Le=n-_e,G=_e,O=4*(ie.y*n+ie.x),B=4*((ie.y+ie.height)*n+ie.x),H=O,ne=4*Le;ie.interlaced===!0&&(ne+=4*n*7);for(var oe=8,ue=0,ge=X.length;ue<ge;++ue){var we=X[ue];if(G===0&&(G=_e,(H+=ne)>=B&&(ne=4*Le+4*n*(oe-1),H=O+(_e+Le)*(oe<<1),oe>>=1)),we===se)H+=4;else{var Oe=t[le+3*we],He=t[le+3*we+1],$e=t[le+3*we+2];Q[H++]=Oe,Q[H++]=He,Q[H++]=$e,Q[H++]=255}--G}}}function ry(t,e,n,a){for(var i=t[e++],o=1<<i,h=o+1,u=h+1,f=i+1,m=(1<<f)-1,v=0,x=0,N=0,y=t[e++],E=new Int32Array(4096),j=null;;){for(;v<16&&y!==0;)x|=t[e++]<<v,v+=8,y===1?y=t[e++]:--y;if(v<f)break;var A=x&m;if(x>>=f,v-=f,A!==o){if(A===h)break;for(var k=A<u?A:j,I=0,P=k;P>o;)P=E[P]>>8,++I;var M=P;if(N+I+(k!==A?1:0)>a)return void Yn.log("Warning, gif stream longer than expected.");n[N++]=M;var ae=N+=I;for(k!==A&&(n[N++]=M),P=k;I--;)P=E[P],n[--ae]=255&P,P>>=8;j!==null&&u<4096&&(E[u++]=j<<8|M,u>=m+1&&f<12&&(++f,m=m<<1|1)),j=A}else u=h+1,m=(1<<(f=i+1))-1,j=null}return N!==a&&Yn.log("Warning, gif stream shorter than expected."),n}function u0(t){var e,n,a,i,o,h=Math.floor,u=new Array(64),f=new Array(64),m=new Array(64),v=new Array(64),x=new Array(65535),N=new Array(65535),y=new Array(64),E=new Array(64),j=[],A=0,k=7,I=new Array(64),P=new Array(64),M=new Array(64),ae=new Array(256),ee=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(O,B){for(var H=0,ne=0,oe=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=O[ue];ge++)oe[B[ne]]=[],oe[B[ne]][0]=H,oe[B[ne]][1]=ue,ne++,H++;H*=2}return oe}function le(O){for(var B=O[0],H=O[1]-1;H>=0;)B&1<<H&&(A|=1<<k),H--,--k<0&&(A==255?(se(255),se(0)):se(A),k=7,A=0)}function se(O){j.push(O)}function _e(O){se(O>>8&255),se(255&O)}function Le(O,B,H,ne,oe){for(var ue,ge=oe[0],we=oe[240],Oe=(function(Re,at){var Ze,st,pt,Ft,Qt,Lt,Zt,Ht,lt,Et,gt=0;for(lt=0;lt<8;++lt){Ze=Re[gt],st=Re[gt+1],pt=Re[gt+2],Ft=Re[gt+3],Qt=Re[gt+4],Lt=Re[gt+5],Zt=Re[gt+6];var Cn=Ze+(Ht=Re[gt+7]),Kt=Ze-Ht,At=st+Zt,Rt=st-Zt,Xt=pt+Lt,St=pt-Lt,xn=Ft+Qt,wt=Ft-Qt,Dt=Cn+xn,Sn=Cn-xn,qt=At+Xt,vt=At-Xt;Re[gt]=Dt+qt,Re[gt+4]=Dt-qt;var Qe=.707106781*(vt+Sn);Re[gt+2]=Sn+Qe,Re[gt+6]=Sn-Qe;var wn=.382683433*((Dt=wt+St)-(vt=Rt+Kt)),un=.5411961*Dt+wn,Kn=1.306562965*vt+wn,qr=.707106781*(qt=St+Rt),et=Kt+qr,ar=Kt-qr;Re[gt+5]=ar+un,Re[gt+3]=ar-un,Re[gt+1]=et+Kn,Re[gt+7]=et-Kn,gt+=8}for(gt=0,lt=0;lt<8;++lt){Ze=Re[gt],st=Re[gt+8],pt=Re[gt+16],Ft=Re[gt+24],Qt=Re[gt+32],Lt=Re[gt+40],Zt=Re[gt+48];var ca=Ze+(Ht=Re[gt+56]),Hn=Ze-Ht,Vn=st+Zt,Tn=st-Zt,En=pt+Lt,kr=pt-Lt,Pi=Ft+Qt,ua=Ft-Qt,On=ca+Pi,Jn=ca-Pi,ta=Vn+En,Oa=Vn-En;Re[gt]=On+ta,Re[gt+32]=On-ta;var Ha=.707106781*(Oa+Jn);Re[gt+16]=Jn+Ha,Re[gt+48]=Jn-Ha;var co=.382683433*((On=ua+kr)-(Oa=Tn+Hn)),cs=.5411961*On+co,us=1.306562965*Oa+co,Ii=.707106781*(ta=kr+Tn),ds=Hn+Ii,hs=Hn-Ii;Re[gt+40]=hs+cs,Re[gt+24]=hs-cs,Re[gt+8]=ds+us,Re[gt+56]=ds-us,gt++}for(lt=0;lt<64;++lt)Et=Re[lt]*at[lt],y[lt]=Et>0?Et+.5|0:Et-.5|0;return y})(O,B),He=0;He<64;++He)E[J[He]]=Oe[He];var $e=E[0]-H;H=E[0],$e==0?le(ne[0]):(le(ne[N[ue=32767+$e]]),le(x[ue]));for(var Je=63;Je>0&&E[Je]==0;)Je--;if(Je==0)return le(ge),H;for(var rt,K=1;K<=Je;){for(var Ke=K;E[K]==0&&K<=Je;)++K;var Se=K-Ke;if(Se>=16){rt=Se>>4;for(var Ye=1;Ye<=rt;++Ye)le(we);Se&=15}ue=32767+E[K],le(oe[(Se<<4)+N[ue]]),le(x[ue]),K++}return Je!=63&&le(ge),H}function G(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(B){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=h((H[ne]*B+50)/100);oe=Math.min(Math.max(oe,1),255),u[J[ne]]=oe}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var we=h((ue[ge]*B+50)/100);we=Math.min(Math.max(we,1),255),f[J[ge]]=we}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,$e=0;$e<8;$e++)for(var Je=0;Je<8;Je++)m[He]=1/(u[J[He]]*Oe[$e]*Oe[Je]*8),v[He]=1/(f[J[He]]*Oe[$e]*Oe[Je]*8),He++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,B){B&&G(B),j=new Array,A=0,k=7,_e(65496),_e(65504),_e(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),_e(1),_e(1),se(0),se(0),(function(){_e(65499),_e(132),se(0);for(var st=0;st<64;st++)se(u[st]);se(1);for(var pt=0;pt<64;pt++)se(f[pt])})(),(function(st,pt){_e(65472),_e(17),se(8),_e(pt),_e(st),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(O.width,O.height),(function(){_e(65476),_e(418),se(0);for(var st=0;st<16;st++)se(W[st+1]);for(var pt=0;pt<=11;pt++)se(Y[pt]);se(16);for(var Ft=0;Ft<16;Ft++)se(he[Ft+1]);for(var Qt=0;Qt<=161;Qt++)se(D[Qt]);se(1);for(var Lt=0;Lt<16;Lt++)se(q[Lt+1]);for(var Zt=0;Zt<=11;Zt++)se(Q[Zt]);se(17);for(var Ht=0;Ht<16;Ht++)se(ie[Ht+1]);for(var lt=0;lt<=161;lt++)se(ye[lt])})(),_e(65498),_e(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var H=0,ne=0,oe=0;A=0,k=7,this.encode.displayName="_encode_";for(var ue,ge,we,Oe,He,$e,Je,rt,K,Ke=O.data,Se=O.width,Ye=O.height,Re=4*Se,at=0;at<Ye;){for(ue=0;ue<Re;){for(He=Re*at+ue,Je=-1,rt=0,K=0;K<64;K++)$e=He+(rt=K>>3)*Re+(Je=4*(7&K)),at+rt>=Ye&&($e-=Re*(at+1+rt-Ye)),ue+Je>=Re&&($e-=ue+Je-Re+4),ge=Ke[$e++],we=Ke[$e++],Oe=Ke[$e++],I[K]=(ee[ge]+ee[we+256|0]+ee[Oe+512|0]>>16)-128,P[K]=(ee[ge+768|0]+ee[we+1024|0]+ee[Oe+1280|0]>>16)-128,M[K]=(ee[ge+1280|0]+ee[we+1536|0]+ee[Oe+1792|0]>>16)-128;H=Le(I,m,H,e,a),ne=Le(P,v,ne,n,i),oe=Le(M,v,oe,n,i),ue+=32}at+=8}if(k>=0){var Ze=[];Ze[1]=k+1,Ze[0]=(1<<k+1)-1,le(Ze)}return _e(65497),new Uint8Array(j)},t=t||50,(function(){for(var O=String.fromCharCode,B=0;B<256;B++)ae[B]=O(B)})(),e=X(W,Y),n=X(q,Q),a=X(he,D),i=X(ie,ye),(function(){for(var O=1,B=2,H=1;H<=15;H++){for(var ne=O;ne<B;ne++)N[32767+ne]=H,x[32767+ne]=[],x[32767+ne][1]=H,x[32767+ne][0]=ne;for(var oe=-(B-1);oe<=-O;oe++)N[32767+oe]=H,x[32767+oe]=[],x[32767+oe][1]=H,x[32767+oe][0]=B-1+oe;O<<=1,B<<=1}})(),(function(){for(var O=0;O<256;O++)ee[O]=19595*O,ee[O+256|0]=38470*O,ee[O+512|0]=7471*O+32768,ee[O+768|0]=-11059*O,ee[O+1024|0]=-21709*O,ee[O+1280|0]=32768*O+8421375,ee[O+1536|0]=-27439*O,ee[O+1792|0]=-5329*O})(),G(t)}function Ai(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ay(t){function e(Y){if(!Y)throw Error("assert :P")}function n(Y,he,D){for(var q=0;4>q;q++)if(Y[he+q]!=D.charCodeAt(q))return!0;return!1}function a(Y,he,D,q,Q){for(var ie=0;ie<Q;ie++)Y[he+ie]=D[q+ie]}function i(Y,he,D,q){for(var Q=0;Q<q;Q++)Y[he+Q]=D}function o(Y){return new Int32Array(Y)}function h(Y,he){for(var D=[],q=0;q<Y;q++)D.push(new he);return D}function u(Y,he){var D=[];return(function q(Q,ie,ye){for(var X=ye[ie],le=0;le<X&&(Q.push(ye.length>ie+1?[]:new he),!(ye.length<ie+1));le++)q(Q[le],ie+1,ye)})(D,0,Y),D}var f=function(){var Y=this;function he(p,b){for(var S=1<<b-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function D(p,b,S,C,R){e(!(C%S));do p[b+(C-=S)]=R;while(0<C)}function q(p,b,S,C,R){if(e(2328>=R),512>=R)var U=o(512);else if((U=o(R))==null)return 0;return(function(z,V,$,te,fe,je){var Z,pe,xe=V,De=1<<$,Ne=o(16),Me=o(16);for(e(fe!=0),e(te!=null),e(z!=null),e(0<$),pe=0;pe<fe;++pe){if(15<te[pe])return 0;++Ne[te[pe]]}if(Ne[0]==fe)return 0;for(Me[1]=0,Z=1;15>Z;++Z){if(Ne[Z]>1<<Z)return 0;Me[Z+1]=Me[Z]+Ne[Z]}for(pe=0;pe<fe;++pe)Z=te[pe],0<te[pe]&&(je[Me[Z]++]=pe);if(Me[15]==1)return(te=new Q).g=0,te.value=je[0],D(z,xe,1,De,te),De;var Ue,Ge=-1,qe=De-1,dt=0,tt=1,Ut=1,ot=1<<$;for(pe=0,Z=1,fe=2;Z<=$;++Z,fe<<=1){if(tt+=Ut<<=1,0>(Ut-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z])(te=new Q).g=Z,te.value=je[pe++],D(z,xe+dt,fe,ot,te),dt=he(dt,Z)}for(Z=$+1,fe=2;15>=Z;++Z,fe<<=1){if(tt+=Ut<<=1,0>(Ut-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z]){if(te=new Q,(dt&qe)!=Ge){for(xe+=ot,Ue=1<<(Ge=Z)-$;15>Ge&&!(0>=(Ue-=Ne[Ge]));)++Ge,Ue<<=1;De+=ot=1<<(Ue=Ge-$),z[V+(Ge=dt&qe)].g=Ue+$,z[V+Ge].value=xe-V-Ge}te.g=Z-$,te.value=je[pe++],D(z,xe+(dt>>$),fe,ot,te),dt=he(dt,Z)}}return tt!=2*Me[15]-1?0:De})(p,b,S,C,R,U)}function Q(){this.value=this.g=0}function ie(){this.value=this.g=0}function ye(){this.G=h(5,Q),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(qi,ie)}function X(p,b,S,C){e(p!=null),e(b!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=S,p.Jd=b,p.Yc=S+C,p.Zc=4<=C?S+C-4+1:S,ge(p)}function le(p,b){for(var S=0;0<b--;)S|=Oe(p,128)<<b;return S}function se(p,b){var S=le(p,b);return we(p)?-S:S}function _e(p,b,S,C){var R,U=0;for(e(p!=null),e(b!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),R=0;R<C;++R)U+=b[S+R]<<8*R;p.Ra=U,p.bb=C,p.oa=b,p.pa=S}function Le(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Bs-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function G(p,b){if(e(0<=b),!p.h&&b<=ma){var S=H(p)&Na[b];return p.u+=b,Le(p),S}return p.h=1,p.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(p){return p.Ra>>>(p.u&Bs-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Bs}function oe(p,b){p.u=b,p.h=ne(p)}function ue(p){p.u>=Us&&(e(p.u>=Us),Le(p))}function ge(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function we(p){return le(p,1)}function Oe(p,b){var S=p.Ca;0>p.b&&ge(p);var C=p.b,R=S*b>>>8,U=(p.I>>>C>R)+0;for(U?(S-=R,p.I-=R+1<<C>>>0):S=R+1,C=S,R=0;256<=C;)R+=8,C>>=8;return C=7^R+fi[C],p.b-=C,p.Ca=(S<<C)-1,U}function He(p,b,S){p[b+0]=S>>24&255,p[b+1]=S>>16&255,p[b+2]=S>>8&255,p[b+3]=255&S}function $e(p,b){return p[b+0]|p[b+1]<<8}function Je(p,b){return $e(p,b)|p[b+2]<<16}function rt(p,b){return $e(p,b)|$e(p,b+2)<<16}function K(p,b){var S=1<<b;return e(p!=null),e(0<b),p.X=o(S),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function Ke(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),a(b.X,0,p.X,0,1<<b.Xa)}function Se(){this.X=[],this.Xa=this.Mb=0}function Ye(p,b,S,C){e(S!=null),e(C!=null);var R=S[0],U=C[0];return R==0&&(R=(p*U+b/2)/b),U==0&&(U=(b*R+p/2)/p),0>=R||0>=U?0:(S[0]=R,C[0]=U,1)}function Re(p,b){return p+(1<<b)-1>>>b}function at(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function Ze(p,b){Y[b]=function(S,C,R,U,z,V,$){var te;for(te=0;te<z;++te){var fe=Y[p](V[$+te-1],R,U+te);V[$+te]=at(S[C+te],fe)}}}function st(){this.ud=this.hd=this.jd=0}function pt(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function Ft(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Qt(p,b){return Ft(p+(p-b+.5>>1))}function Lt(p,b,S){return Math.abs(b-S)-Math.abs(p-S)}function Zt(p,b,S,C,R,U,z){for(C=U[z-1],S=0;S<R;++S)U[z+S]=C=at(p[b+S],C)}function Ht(p,b,S,C,R){var U;for(U=0;U<S;++U){var z=p[b+U],V=z>>8&255,$=16711935&($=($=16711935&z)+((V<<16)+V));C[R+U]=(4278255360&z)+$>>>0}}function lt(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function Et(p,b,S,C,R,U){var z;for(z=0;z<C;++z){var V=b[S+z],$=V>>>8,te=V,fe=255&(fe=(fe=V>>>16)+((p.jd<<24>>24)*($<<24>>24)>>>5));te=255&(te=(te+=(p.hd<<24>>24)*($<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),R[U+z]=(4278255360&V)+(fe<<16)+te}}function gt(p,b,S,C,R){Y[b]=function(U,z,V,$,te,fe,je,Z,pe){for($=je;$<Z;++$)for(je=0;je<pe;++je)te[fe++]=R(V[C(U[z++])])},Y[p]=function(U,z,V,$,te,fe,je){var Z=8>>U.b,pe=U.Ea,xe=U.K[0],De=U.w;if(8>Z)for(U=(1<<U.b)-1,De=(1<<Z)-1;z<V;++z){var Ne,Me=0;for(Ne=0;Ne<pe;++Ne)Ne&U||(Me=C($[te++])),fe[je++]=R(xe[Me&De]),Me>>=Z}else Y["VP8LMapColor"+S]($,te,xe,De,fe,je,z,V,pe)}}function Cn(p,b,S,C,R){for(S=b+S;b<S;){var U=p[b++];C[R++]=U>>16&255,C[R++]=U>>8&255,C[R++]=255&U}}function Kt(p,b,S,C,R){for(S=b+S;b<S;){var U=p[b++];C[R++]=U>>16&255,C[R++]=U>>8&255,C[R++]=255&U,C[R++]=U>>24&255}}function At(p,b,S,C,R){for(S=b+S;b<S;){var U=(z=p[b++])>>16&240|z>>12&15,z=240&z|z>>28&15;C[R++]=U,C[R++]=z}}function Rt(p,b,S,C,R){for(S=b+S;b<S;){var U=(z=p[b++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;C[R++]=U,C[R++]=z}}function Xt(p,b,S,C,R){for(S=b+S;b<S;){var U=p[b++];C[R++]=255&U,C[R++]=U>>8&255,C[R++]=U>>16&255}}function St(p,b,S,C,R,U){if(U==0)for(S=b+S;b<S;)He(C,((U=p[b++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),R+=32;else a(C,R,p,b,S)}function xn(p,b){Y[b][0]=Y[p+"0"],Y[b][1]=Y[p+"1"],Y[b][2]=Y[p+"2"],Y[b][3]=Y[p+"3"],Y[b][4]=Y[p+"4"],Y[b][5]=Y[p+"5"],Y[b][6]=Y[p+"6"],Y[b][7]=Y[p+"7"],Y[b][8]=Y[p+"8"],Y[b][9]=Y[p+"9"],Y[b][10]=Y[p+"10"],Y[b][11]=Y[p+"11"],Y[b][12]=Y[p+"12"],Y[b][13]=Y[p+"13"],Y[b][14]=Y[p+"0"],Y[b][15]=Y[p+"0"]}function wt(p){return p==ic||p==Wc||p==ol||p==Yc}function Dt(){this.eb=[],this.size=this.A=this.fb=0}function Sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dt,this.f.kb=new Sn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function un(p,b){var S=p.T,C=b.ba.f.RGBA,R=C.eb,U=C.fb+p.ka*C.A,z=Yr[b.ba.S],V=p.y,$=p.O,te=p.f,fe=p.N,je=p.ea,Z=p.W,pe=b.cc,xe=b.dc,De=b.Mc,Ne=b.Nc,Me=p.ka,Ue=p.ka+p.T,Ge=p.U,qe=Ge+1>>1;for(Me==0?z(V,$,null,null,te,fe,je,Z,te,fe,je,Z,R,U,null,null,Ge):(z(b.ec,b.fc,V,$,pe,xe,De,Ne,te,fe,je,Z,R,U-C.A,R,U,Ge),++S);Me+2<Ue;Me+=2)pe=te,xe=fe,De=je,Ne=Z,fe+=p.Rc,Z+=p.Rc,U+=2*C.A,z(V,($+=2*p.fa)-p.fa,V,$,pe,xe,De,Ne,te,fe,je,Z,R,U-C.A,R,U,Ge);return $+=p.fa,p.j+Ue<p.o?(a(b.ec,b.fc,V,$,Ge),a(b.cc,b.dc,te,fe,qe),a(b.Mc,b.Nc,je,Z,qe),S--):1&Ue||z(V,$,null,null,te,fe,je,Z,te,fe,je,Z,R,U+C.A,null,null,Ge),S}function Kn(p,b,S){var C=p.F,R=[p.J];if(C!=null){var U=p.U,z=b.ba.S,V=z==sc||z==ol;b=b.ba.f.RGBA;var $=[0],te=p.ka;$[0]=p.T,p.Kb&&(te==0?--$[0]:(--te,R[0]-=p.width),p.j+p.ka+p.T==p.o&&($[0]=p.o-p.j-te));var fe=b.eb;te=b.fb+te*b.A,p=tc(C,R[0],p.width,U,$,fe,te+(V?0:3),b.A),e(S==$),p&&wt(z)&&wo(fe,te,V,U,$,b.A)}return 0}function qr(p){var b=p.ma,S=b.ba.S,C=11>S,R=S==aa||S==Ya||S==sc||S==il||S==12||wt(S);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!hi(b.Oa,p,R?11:12))return 0;if(R&&wt(S)&&Jl(),p.da)alert("todo:use_scaling");else{if(C){if(b.Ib=wn,p.Kb){if(S=p.U+1>>1,b.memory=o(p.U+2*S),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+S,b.Ib=un,Jl()}}else alert("todo:EmitYUV");R&&(b.Jb=Kn,C&&vs())}if(C&&!Ki){for(p=0;256>p;++p)Kr[p]=89858*(p-128)+ul>>es,om[p]=-22014*(p-128)+ul,ph[p]=-45773*(p-128),Zc[p]=113618*(p-128)+ul>>es;for(p=jo;p<Yi;++p)b=76283*(p-16)+ul>>es,lm[p-jo]=Ra(b,255),cm[p-jo]=Ra(b+8>>4,15);Ki=1}return 1}function et(p){var b=p.ma,S=p.U,C=p.T;return e(!(1&p.ka)),0>=S||0>=C?0:(S=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,S),b.Dc+=S,1)}function ar(p){p.ma.memory=null}function ca(p,b,S,C){return G(p,8)!=47?0:(b[0]=G(p,14)+1,S[0]=G(p,14)+1,C[0]=G(p,1),G(p,3)!=0?0:!p.h)}function Hn(p,b){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+G(b,S)+1}function Vn(p,b){return 120<b?b-120:1<=(S=((S=Xa[b-1])>>4)*p+(8-(15&S)))?S:1;var S}function Tn(p,b,S){var C=H(S),R=p[b+=255&C].g-8;return 0<R&&(oe(S,S.u+8),C=H(S),b+=p[b].value,b+=C&(1<<R)-1),oe(S,S.u+p[b].g),p[b].value}function En(p,b,S){return S.g+=p.g,S.value+=p.value<<b>>>0,e(8>=S.g),p.g}function kr(p,b,S){var C=p.xc;return e((b=C==0?0:p.vc[p.md*(S>>C)+(b>>C)])<p.Wb),p.Ya[b]}function Pi(p,b,S,C){var R=p.ab,U=p.c*b,z=p.C;b=z+b;var V=S,$=C;for(C=p.Ta,S=p.Ua;0<R--;){var te=p.gc[R],fe=z,je=b,Z=V,pe=$,xe=($=C,V=S,te.Ea);switch(e(fe<je),e(je<=te.nc),te.hc){case 2:hr(Z,pe,(je-fe)*xe,$,V);break;case 0:var De=fe,Ne=je,Me=$,Ue=V,Ge=(ot=te).Ea;De==0&&(nl(Z,pe,null,null,1,Me,Ue),Zt(Z,pe+1,0,0,Ge-1,Me,Ue+1),pe+=Ge,Ue+=Ge,++De);for(var qe=1<<ot.b,dt=qe-1,tt=Re(Ge,ot.b),Ut=ot.K,ot=ot.w+(De>>ot.b)*tt;De<Ne;){var nn=Ut,$n=ot,Gt=1;for(rl(Z,pe,Me,Ue-Ge,1,Me,Ue);Gt<Ge;){var nt=(Gt&~dt)+qe;nt>Ge&&(nt=Ge),(0,mi[nn[$n++]>>8&15])(Z,pe+ +Gt,Me,Ue+Gt-Ge,nt-Gt,Me,Ue+Gt),Gt=nt}pe+=Ge,Ue+=Ge,++De&dt||(ot+=tt)}je!=te.nc&&a($,V-xe,$,V+(je-fe-1)*xe,xe);break;case 1:for(xe=Z,Ne=pe,Ge=(Z=te.Ea)-(Ue=Z&~(Me=(pe=1<<te.b)-1)),De=Re(Z,te.b),qe=te.K,te=te.w+(fe>>te.b)*De;fe<je;){for(dt=qe,tt=te,Ut=new st,ot=Ne+Ue,nn=Ne+Z;Ne<ot;)lt(dt[tt++],Ut),al(Ut,xe,Ne,pe,$,V),Ne+=pe,V+=pe;Ne<nn&&(lt(dt[tt++],Ut),al(Ut,xe,Ne,Ge,$,V),Ne+=Ge,V+=Ge),++fe&Me||(te+=De)}break;case 3:if(Z==$&&pe==V&&0<te.b){for(Ne=$,Z=xe=V+(je-fe)*xe-(Ue=(je-fe)*Re(te.Ea,te.b)),pe=$,Me=V,De=[],Ue=(Ge=Ue)-1;0<=Ue;--Ue)De[Ue]=pe[Me+Ue];for(Ue=Ge-1;0<=Ue;--Ue)Ne[Z+Ue]=De[Ue];qc(te,fe,je,$,xe,$,V)}else qc(te,fe,je,Z,pe,$,V)}V=C,$=S}$!=S&&a(C,S,V,$,U)}function ua(p,b){var S=p.V,C=p.Ba+p.c*p.C,R=b-p.C;if(e(b<=p.l.o),e(16>=R),0<R){var U=p.l,z=p.Ta,V=p.Ua,$=U.width;if(Pi(p,R,S,C),R=V=[V],e((S=p.C)<(C=b)),e(U.v<U.va),C>U.o&&(C=U.o),S<U.j){var te=U.j-S;S=U.j,R[0]+=te*$}if(S>=C?S=0:(R[0]+=4*U.v,U.ka=S-U.j,U.U=U.va-U.v,U.T=C-S,S=1),S){if(V=V[0],11>(S=p.ca).S){var fe=S.f.RGBA,je=(C=S.S,R=U.U,U=U.T,te=fe.eb,fe.A),Z=U;for(fe=fe.fb+p.Ma*fe.A;0<Z--;){var pe=z,xe=V,De=R,Ne=te,Me=fe;switch(C){case Gc:sl(pe,xe,De,Ne,Me);break;case aa:pi(pe,xe,De,Ne,Me);break;case ic:pi(pe,xe,De,Ne,Me),wo(Ne,Me,0,De,1,0);break;case $c:yo(pe,xe,De,Ne,Me);break;case Ya:St(pe,xe,De,Ne,Me,1);break;case Wc:St(pe,xe,De,Ne,Me,1),wo(Ne,Me,0,De,1,0);break;case sc:St(pe,xe,De,Ne,Me,0);break;case ol:St(pe,xe,De,Ne,Me,0),wo(Ne,Me,1,De,1,0);break;case il:gi(pe,xe,De,Ne,Me);break;case Yc:gi(pe,xe,De,Ne,Me),Wa(Ne,Me,De,1,0);break;case Hi:qs(pe,xe,De,Ne,Me);break;default:e(0)}V+=$,fe+=je}p.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=b,e(p.C<=p.i)}function On(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var S=p.Ya[b].G,C=p.Ya[b].H;if(0<S[1][C[1]+0].g||0<S[2][C[2]+0].g||0<S[3][C[3]+0].g)return 0}return 1}function Jn(p,b,S,C,R,U){if(p.Z!=0){var z=p.qd,V=p.rd;for(e(yi[p.Z]!=null);b<S;++b)yi[p.Z](z,V,C,R,C,R,U),z=C,V=R,R+=U;p.qd=z,p.rd=V}}function ta(p,b){var S=p.l.ma,C=S.Z==0||S.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(b<=p.l.o),b>C){var R=p.l.width,U=S.ca,z=S.tb+R*C,V=p.V,$=p.Ba+p.c*C,te=p.gc;e(p.ab==1),e(te[0].hc==3),Fs(te[0],C,b,V,$,U,z),Jn(S,C,b,U,z,R)}p.C=p.Ma=b}function Oa(p,b,S,C,R,U,z){var V=p.$/C,$=p.$%C,te=p.m,fe=p.s,je=S+p.$,Z=je;R=S+C*R;var pe=S+C*U,xe=280+fe.ua,De=p.Pb?V:16777216,Ne=0<fe.ua?fe.Wa:null,Me=fe.wc,Ue=je<pe?kr(fe,$,V):null;e(p.C<U),e(pe<=R);var Ge=!1;e:for(;;){for(;Ge||je<pe;){var qe=0;if(V>=De){var dt=je-S;e((De=p).Pb),De.wd=De.m,De.xd=dt,0<De.s.ua&&Ke(De.s.Wa,De.s.vb),De=V+Vi}if($&Me||(Ue=kr(fe,$,V)),e(Ue!=null),Ue.Qb&&(b[je]=Ue.qb,Ge=!0),!Ge)if(ue(te),Ue.jc){qe=te,dt=b;var tt=je,Ut=Ue.pd[H(qe)&qi-1];e(Ue.jc),256>Ut.g?(oe(qe,qe.u+Ut.g),dt[tt]=Ut.value,qe=0):(oe(qe,qe.u+Ut.g-256),e(256<=Ut.value),qe=Ut.value),qe==0&&(Ge=!0)}else qe=Tn(Ue.G[0],Ue.H[0],te);if(te.h)break;if(Ge||256>qe){if(!Ge)if(Ue.nd)b[je]=(Ue.qb|qe<<8)>>>0;else{if(ue(te),Ge=Tn(Ue.G[1],Ue.H[1],te),ue(te),dt=Tn(Ue.G[2],Ue.H[2],te),tt=Tn(Ue.G[3],Ue.H[3],te),te.h)break;b[je]=(tt<<24|Ge<<16|qe<<8|dt)>>>0}if(Ge=!1,++je,++$>=C&&($=0,++V,z!=null&&V<=U&&!(V%16)&&z(p,V),Ne!=null))for(;Z<je;)qe=b[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe}else if(280>qe){if(qe=Hn(qe-256,te),dt=Tn(Ue.G[4],Ue.H[4],te),ue(te),dt=Vn(C,dt=Hn(dt,te)),te.h)break;if(je-S<dt||R-je<qe)break e;for(tt=0;tt<qe;++tt)b[je+tt]=b[je+tt-dt];for(je+=qe,$+=qe;$>=C;)$-=C,++V,z!=null&&V<=U&&!(V%16)&&z(p,V);if(e(je<=R),$&Me&&(Ue=kr(fe,$,V)),Ne!=null)for(;Z<je;)qe=b[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe}else{if(!(qe<xe))break e;for(Ge=qe-280,e(Ne!=null);Z<je;)qe=b[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe;qe=je,e(!(Ge>>>(dt=Ne).Xa)),b[qe]=dt.X[Ge],Ge=!0}Ge||e(te.h==ne(te))}if(p.Pb&&te.h&&je<R)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ke(p.s.vb,p.s.Wa);else{if(te.h)break e;z?.(p,V>U?U:V),p.a=0,p.$=je-S}return 1}return p.a=3,0}function Ha(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function co(){var p=new Pt;return p==null?null:(p.a=0,p.xb=rd,xn("Predictor","VP8LPredictors"),xn("Predictor","VP8LPredictors_C"),xn("PredictorAdd","VP8LPredictorsAdd"),xn("PredictorAdd","VP8LPredictorsAdd_C"),hr=Ht,al=Et,sl=Cn,pi=Kt,gi=At,qs=Rt,yo=Xt,Y.VP8LMapColor32b=zs,Y.VP8LMapColor8b=Gr,p)}function cs(p,b,S,C,R){var U=1,z=[p],V=[b],$=C.m,te=C.s,fe=null,je=0;e:for(;;){if(S)for(;U&&G($,1);){var Z=z,pe=V,xe=C,De=1,Ne=xe.m,Me=xe.gc[xe.ab],Ue=G(Ne,2);if(xe.Oc&1<<Ue)U=0;else{switch(xe.Oc|=1<<Ue,Me.hc=Ue,Me.Ea=Z[0],Me.nc=pe[0],Me.K=[null],++xe.ab,e(4>=xe.ab),Ue){case 0:case 1:Me.b=G(Ne,3)+2,De=cs(Re(Me.Ea,Me.b),Re(Me.nc,Me.b),0,xe,Me.K),Me.K=Me.K[0];break;case 3:var Ge,qe=G(Ne,8)+1,dt=16<qe?0:4<qe?1:2<qe?2:3;if(Z[0]=Re(Me.Ea,dt),Me.b=dt,Ge=De=cs(qe,1,0,xe,Me.K)){var tt,Ut=qe,ot=Me,nn=1<<(8>>ot.b),$n=o(nn);if($n==null)Ge=0;else{var Gt=ot.K[0],nt=ot.w;for($n[0]=ot.K[0][0],tt=1;tt<1*Ut;++tt)$n[tt]=at(Gt[nt+tt],$n[tt-1]);for(;tt<4*nn;++tt)$n[tt]=0;ot.K[0]=null,ot.K[0]=$n,Ge=1}}De=Ge;break;case 2:break;default:e(0)}U=De}}if(z=z[0],V=V[0],U&&G($,1)&&!(U=1<=(je=G($,4))&&11>=je)){C.a=3;break e}var Xe;if(Xe=U)t:{var Zn,Ot,Yt,jn=C,Tr=z,Xr=V,Un=je,yr=S,sa=jn.m,xr=jn.s,en=[null],mn=1,er=0,yn=Ja[Un];n:for(;;){if(yr&&G(sa,1)){var Or=G(sa,3)+2,tr=Re(Tr,Or),pn=Re(Xr,Or),pr=tr*pn;if(!cs(tr,pn,0,jn,en))break n;for(en=en[0],xr.xc=Or,Zn=0;Zn<pr;++Zn){var An=en[Zn]>>8&65535;en[Zn]=An,An>=mn&&(mn=An+1)}}if(sa.h)break n;for(Ot=0;5>Ot;++Ot){var wr=No[Ot];!Ot&&0<Un&&(wr+=1<<Un),er<wr&&(er=wr)}var _r=h(mn*yn,Q),Ln=mn,fn=h(Ln,ye);if(fn==null)var ia=null;else e(65536>=Ln),ia=fn;var ir=o(er);if(ia==null||ir==null||_r==null){jn.a=1;break n}var jt=_r;for(Zn=Yt=0;Zn<mn;++Zn){var kt=ia[Zn],gn=kt.G,Sa=kt.H,ts=0,ga=1,Nr=0;for(Ot=0;5>Ot;++Ot){wr=No[Ot],gn[Ot]=jt,Sa[Ot]=Yt,!Ot&&0<Un&&(wr+=1<<Un);a:{var Xi,Ji=wr,tu=jn,zn=ir,sd=jt,id=Yt,nu=0,xi=tu.m,um=G(xi,1);if(i(zn,0,0,Ji),um){var od=G(xi,1)+1,ld=G(xi,1),ru=G(xi,ld==0?1:8);zn[ru]=1,od==2&&(zn[ru=G(xi,8)]=1);var Br=1}else{var or=o(19),uc=G(xi,4)+4;if(19<uc){tu.a=3;var Qi=0;break a}for(Xi=0;Xi<uc;++Xi)or[oc[Xi]]=G(xi,3);var hl=void 0,Ao=void 0,Gs=tu,au=or,fl=Ji,su=zn,iu=0,wi=Gs.m,cd=8,ud=h(128,Q);r:for(;q(ud,0,7,au,19);){if(G(wi,1)){var gh=2+2*G(wi,3);if((hl=2+G(wi,gh))>fl)break r}else hl=fl;for(Ao=0;Ao<fl&&hl--;){ue(wi);var dd=ud[0+(127&H(wi))];oe(wi,wi.u+dd.g);var Zi=dd.value;if(16>Zi)su[Ao++]=Zi,Zi!=0&&(cd=Zi);else{var vh=Zi==16,bh=Zi-16,yh=ll[bh],hd=G(wi,Ka[bh])+yh;if(Ao+hd>fl)break r;for(var xh=vh?cd:0;0<hd--;)su[Ao++]=xh}}iu=1;break r}iu||(Gs.a=3),Br=iu}(Br=Br&&!xi.h)&&(nu=q(sd,id,8,zn,Ji)),Br&&nu!=0?Qi=nu:(tu.a=3,Qi=0)}if(Qi==0)break n;if(ga&&Kc[Ot]==1&&(ga=jt[Yt].g==0),ts+=jt[Yt].g,Yt+=Qi,3>=Ot){var ko,ou=ir[0];for(ko=1;ko<wr;++ko)ir[ko]>ou&&(ou=ir[ko]);Nr+=ou}}if(kt.nd=ga,kt.Qb=0,ga&&(kt.qb=(gn[3][Sa[3]+0].value<<24|gn[1][Sa[1]+0].value<<16|gn[2][Sa[2]+0].value)>>>0,ts==0&&256>gn[0][Sa[0]+0].value&&(kt.Qb=1,kt.qb+=gn[0][Sa[0]+0].value<<8)),kt.jc=!kt.Qb&&6>Nr,kt.jc){var dc,$s=kt;for(dc=0;dc<qi;++dc){var _i=dc,Ni=$s.pd[_i],lu=$s.G[0][$s.H[0]+_i];256<=lu.value?(Ni.g=lu.g+256,Ni.value=lu.value):(Ni.g=0,Ni.value=0,_i>>=En(lu,8,Ni),_i>>=En($s.G[1][$s.H[1]+_i],16,Ni),_i>>=En($s.G[2][$s.H[2]+_i],0,Ni),En($s.G[3][$s.H[3]+_i],24,Ni))}}}xr.vc=en,xr.Wb=mn,xr.Ya=ia,xr.yc=_r,Xe=1;break t}Xe=0}if(!(U=Xe)){C.a=3;break e}if(0<je){if(te.ua=1<<je,!K(te.Wa,je)){C.a=1,U=0;break e}}else te.ua=0;var cu=C,Co=z,wh=V,ml=cu.s,pl=ml.xc;if(cu.c=Co,cu.i=wh,ml.md=Re(Co,pl),ml.wc=pl==0?-1:(1<<pl)-1,S){C.xb=Gi;break e}if((fe=o(z*V))==null){C.a=1,U=0;break e}U=(U=Oa(C,fe,0,z,V,V,null))&&!$.h;break e}return U?(R!=null?R[0]=fe:(e(fe==null),e(S)),C.$=0,S||Ha(te)):Ha(te),U}function us(p,b){var S=p.c*p.i,C=S+b+16*b;return e(p.c<=b),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+b,1)}function Ii(p,b){var S=p.C,C=b-S,R=p.V,U=p.Ba+p.c*S;for(e(b<=p.l.o);0<C;){var z=16<C?16:C,V=p.l.ma,$=p.l.width,te=$*z,fe=V.ca,je=V.tb+$*S,Z=p.Ta,pe=p.Ua;Pi(p,z,R,U),Ba(Z,pe,fe,je,te),Jn(V,S,S+z,fe,je,$),C-=z,R+=z*p.c,S+=z}e(S==b),p.C=p.Ma=b}function ds(){this.ub=this.yd=this.td=this.Rb=0}function hs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function uo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ls(){this.Yb=(function(){var p=[];return(function b(S,C,R){for(var U=R[C],z=0;z<U&&(S.push(R.length>C+1?[]:0),!(R.length<C+1));z++)b(S[z],C+1,R)})(p,0,[3,11]),p})()}function ur(){this.jb=o(3),this.Wc=u([4,8],Ls),this.Xc=u([4,17],Ls)}function Il(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function La(){this.ld=this.La=this.dd=this.tc=0}function fs(){this.Na=this.la=0}function Zs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ul(){this.uc=this.M=this.Nb=0,this.wa=Array(new La),this.Y=0,this.ya=Array(new Bl),this.aa=0,this.l=new ei}function zl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Lc(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new ds,this.Kc=new hs,this.ed=new Il,this.Qa=new uo,this.Ic=this.$c=this.Aa=0,this.D=new Ul,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,O),this.ia=0,this.pb=h(4,Zs),this.Pa=new ur,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zl),this.Hd=0,this.rb=Array(new fs),this.sb=0,this.wa=Array(new La),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bl),this.L=this.aa=0,this.gd=u([4,2],La),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ra(p,b){return 0>p?0:p>b?b:p}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ms(){var p=new Lc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ua||(Ua=Bi)),p}function vn(p,b,S){return p.a==0&&(p.a=b,p.sc=S,p.cb=0),0}function Fl(p,b,S){return 3<=S&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function Rs(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return vn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=b.data,C=b.w,R=b.ha;if(4>R)return vn(p,7,"Truncated header.");var U=S[C+0]|S[C+1]<<8|S[C+2]<<16,z=p.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return vn(p,3,"Incorrect keyframe parameters.");if(!z.yd)return vn(p,4,"Frame not displayable.");C+=3,R-=3;var V=p.Kc;if(z.Rb){if(7>R)return vn(p,7,"cannot parse picture header");if(!Fl(S,C,R))return vn(p,3,"Bad code word");V.c=16383&(S[C+4]<<8|S[C+3]),V.Td=S[C+4]>>6,V.i=16383&(S[C+6]<<8|S[C+5]),V.Ud=S[C+6]>>6,C+=7,R-=7,p.za=V.c+15>>4,p.Ub=V.i+15>>4,b.width=V.c,b.height=V.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((U=p.Pa).jb,0,255,U.jb.length),e((U=p.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>R)return vn(p,7,"bad partition length");X(U=p.m,S,C,z.ub),C+=z.ub,R-=z.ub,z.Rb&&(V.Ld=we(U),V.Kd=we(U)),V=p.Qa;var $,te=p.Pa;if(e(U!=null),e(V!=null),V.Cb=we(U),V.Cb){if(V.Bb=we(U),we(U)){for(V.Fb=we(U),$=0;4>$;++$)V.Zb[$]=we(U)?se(U,7):0;for($=0;4>$;++$)V.Lb[$]=we(U)?se(U,6):0}if(V.Bb)for($=0;3>$;++$)te.jb[$]=we(U)?le(U,8):255}else V.Bb=0;if(U.Ka)return vn(p,3,"cannot parse segment header");if((V=p.ed).zd=we(U),V.Tb=le(U,6),V.wb=le(U,3),V.Pc=we(U),V.Pc&&we(U)){for(te=0;4>te;++te)we(U)&&(V.vd[te]=se(U,6));for(te=0;4>te;++te)we(U)&&(V.od[te]=se(U,6))}if(p.L=V.Tb==0?0:V.zd?1:2,U.Ka)return vn(p,3,"cannot parse filter header");var fe=R;if(R=$=C,C=$+fe,V=fe,p.Xb=(1<<le(p.m,2))-1,fe<3*(te=p.Xb))S=7;else{for($+=3*te,V-=3*te,fe=0;fe<te;++fe){var je=S[R+0]|S[R+1]<<8|S[R+2]<<16;je>V&&(je=V),X(p.Jc[+fe],S,$,je),$+=je,V-=je,R+=3}X(p.Jc[+te],S,$,V),S=$<C?0:5}if(S!=0)return vn(p,S,"cannot parse partitions");for(S=le($=p.m,7),R=we($)?se($,4):0,C=we($)?se($,4):0,V=we($)?se($,4):0,te=we($)?se($,4):0,$=we($)?se($,4):0,fe=p.Qa,je=0;4>je;++je){if(fe.Cb){var Z=fe.Zb[je];fe.Fb||(Z+=S)}else{if(0<je){p.pb[je]=p.pb[0];continue}Z=S}var pe=p.pb[je];pe.Sc[0]=Qa[Ra(Z+R,127)],pe.Sc[1]=Za[Ra(Z+0,127)],pe.Eb[0]=2*Qa[Ra(Z+C,127)],pe.Eb[1]=101581*Za[Ra(Z+V,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Qa[Ra(Z+te,117)],pe.Qc[1]=Za[Ra(Z+$,127)],pe.lc=Z+$}if(!z.Rb)return vn(p,4,"Not a key frame.");for(we(U),z=p.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(C=0;3>C;++C)for(V=0;11>V;++V)te=Oe(U,Gn[S][R][C][V])?le(U,8):mh[S][R][C][V],z.Wc[S][R].Yb[C][V]=te;for(R=0;17>R;++R)z.Xc[S][R]=z.Wc[S][rn[R]]}return p.kc=we(U),p.kc&&(p.Bd=le(U,8)),p.cb=1}function Bi(p,b,S,C,R,U,z){var V=b[R].Yb[S];for(S=0;16>R;++R){if(!Oe(p,V[S+0]))return R;for(;!Oe(p,V[S+1]);)if(V=b[++R].Yb[0],S=0,R==16)return 16;var $=b[R+1].Yb;if(Oe(p,V[S+2])){var te=p,fe=0;if(Oe(te,(Z=V)[(je=S)+3]))if(Oe(te,Z[je+6])){for(V=0,je=2*(fe=Oe(te,Z[je+8]))+(Z=Oe(te,Z[je+9+fe])),fe=0,Z=fh[je];Z[V];++V)fe+=fe+Oe(te,Z[V]);fe+=3+(8<<je)}else Oe(te,Z[je+7])?(fe=7+2*Oe(te,165),fe+=Oe(te,145)):fe=5+Oe(te,159);else fe=Oe(te,Z[je+4])?3+Oe(te,Z[je+5]):2;V=$[2]}else fe=1,V=$[1];$=z+nd[R],0>(te=p).b&&ge(te);var je,Z=te.b,pe=(je=te.Ca>>1)-(te.I>>Z)>>31;--te.b,te.Ca+=pe,te.Ca|=1,te.I-=(je+1&pe)<<Z,U[$]=((fe^pe)-pe)*C[(0<R)+0]}return 16}function ql(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function da(p,b,S,C,R){R=p[b+S+32*C]+(R>>3),p[b+S+32*C]=-256&R?0>R?0:255:R}function Cr(p,b,S,C,R,U){da(p,b,0,S,C+R),da(p,b,1,S,C+U),da(p,b,2,S,C-U),da(p,b,3,S,C-R)}function vr(p){return(20091*p>>16)+p}function Ko(p,b,S,C){var R,U=0,z=o(16);for(R=0;4>R;++R){var V=p[b+0]+p[b+8],$=p[b+0]-p[b+8],te=(35468*p[b+4]>>16)-vr(p[b+12]),fe=vr(p[b+4])+(35468*p[b+12]>>16);z[U+0]=V+fe,z[U+1]=$+te,z[U+2]=$-te,z[U+3]=V-fe,U+=4,b++}for(R=U=0;4>R;++R)V=(p=z[U+0]+4)+z[U+8],$=p-z[U+8],te=(35468*z[U+4]>>16)-vr(z[U+12]),da(S,C,0,0,V+(fe=vr(z[U+4])+(35468*z[U+12]>>16))),da(S,C,1,0,$+te),da(S,C,2,0,$-te),da(S,C,3,0,V-fe),U++,C+=32}function Rc(p,b,S,C){var R=p[b+0]+4,U=35468*p[b+4]>>16,z=vr(p[b+4]),V=35468*p[b+1]>>16;Cr(S,C,0,R+z,p=vr(p[b+1]),V),Cr(S,C,1,R+U,p,V),Cr(S,C,2,R-U,p,V),Cr(S,C,3,R-z,p,V)}function Hl(p,b,S,C,R){Ko(p,b,S,C),R&&Ko(p,b+16,S,C+4)}function ha(p,b,S,C){vi(p,b+0,S,C,1),vi(p,b+32,S,C+128,1)}function Vl(p,b,S,C){var R;for(p=p[b+0]+4,R=0;4>R;++R)for(b=0;4>b;++b)da(S,C,b,R,p)}function Gl(p,b,S,C){p[b+0]&&bn(p,b+0,S,C),p[b+16]&&bn(p,b+16,S,C+4),p[b+32]&&bn(p,b+32,S,C+128),p[b+48]&&bn(p,b+48,S,C+128+4)}function ps(p,b,S,C){var R,U=o(16);for(R=0;4>R;++R){var z=p[b+0+R]+p[b+12+R],V=p[b+4+R]+p[b+8+R],$=p[b+4+R]-p[b+8+R],te=p[b+0+R]-p[b+12+R];U[0+R]=z+V,U[8+R]=z-V,U[4+R]=te+$,U[12+R]=te-$}for(R=0;4>R;++R)z=(p=U[0+4*R]+3)+U[3+4*R],V=U[1+4*R]+U[2+4*R],$=U[1+4*R]-U[2+4*R],te=p-U[3+4*R],S[C+0]=z+V>>3,S[C+16]=te+$>>3,S[C+32]=z-V>>3,S[C+48]=te-$>>3,C+=64}function ho(p,b,S){var C,R=b-32,U=ra,z=255-p[R-1];for(C=0;C<S;++C){var V,$=U,te=z+p[b-1];for(V=0;V<S;++V)p[b+V]=$[te+p[R+V]];b+=32}}function Mc(p,b){ho(p,b,4)}function Dc(p,b){ho(p,b,8)}function $l(p,b){ho(p,b,16)}function Wl(p,b){var S;for(S=0;16>S;++S)a(p,b+32*S,p,b-32,16)}function Pc(p,b){var S;for(S=16;0<S;--S)i(p,b,p[b-1],16),b+=32}function _a(p,b,S){var C;for(C=0;16>C;++C)i(b,S+32*C,p,16)}function gs(p,b){var S,C=16;for(S=0;16>S;++S)C+=p[b-1+32*S]+p[b+S-32];_a(C>>5,p,b)}function ti(p,b){var S,C=8;for(S=0;16>S;++S)C+=p[b-1+32*S];_a(C>>4,p,b)}function fo(p,b){var S,C=8;for(S=0;16>S;++S)C+=p[b+S-32];_a(C>>4,p,b)}function Ui(p,b){_a(128,p,b)}function Tt(p,b,S){return p+2*b+S+2>>2}function Ic(p,b){var S,C=b-32;for(C=new Uint8Array([Tt(p[C-1],p[C+0],p[C+1]),Tt(p[C+0],p[C+1],p[C+2]),Tt(p[C+1],p[C+2],p[C+3]),Tt(p[C+2],p[C+3],p[C+4])]),S=0;4>S;++S)a(p,b+32*S,C,0,C.length)}function Yl(p,b){var S=p[b-1],C=p[b-1+32],R=p[b-1+64],U=p[b-1+96];He(p,b+0,16843009*Tt(p[b-1-32],S,C)),He(p,b+32,16843009*Tt(S,C,R)),He(p,b+64,16843009*Tt(C,R,U)),He(p,b+96,16843009*Tt(R,U,U))}function Bc(p,b){var S,C=4;for(S=0;4>S;++S)C+=p[b+S-32]+p[b-1+32*S];for(C>>=3,S=0;4>S;++S)i(p,b+32*S,C,4)}function Ma(p,b){var S=p[b-1+0],C=p[b-1+32],R=p[b-1+64],U=p[b-1-32],z=p[b+0-32],V=p[b+1-32],$=p[b+2-32],te=p[b+3-32];p[b+0+96]=Tt(C,R,p[b-1+96]),p[b+1+96]=p[b+0+64]=Tt(S,C,R),p[b+2+96]=p[b+1+64]=p[b+0+32]=Tt(U,S,C),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Tt(z,U,S),p[b+3+64]=p[b+2+32]=p[b+1+0]=Tt(V,z,U),p[b+3+32]=p[b+2+0]=Tt($,V,z),p[b+3+0]=Tt(te,$,V)}function Hr(p,b){var S=p[b+1-32],C=p[b+2-32],R=p[b+3-32],U=p[b+4-32],z=p[b+5-32],V=p[b+6-32],$=p[b+7-32];p[b+0+0]=Tt(p[b+0-32],S,C),p[b+1+0]=p[b+0+32]=Tt(S,C,R),p[b+2+0]=p[b+1+32]=p[b+0+64]=Tt(C,R,U),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Tt(R,U,z),p[b+3+32]=p[b+2+64]=p[b+1+96]=Tt(U,z,V),p[b+3+64]=p[b+2+96]=Tt(z,V,$),p[b+3+96]=Tt(V,$,$)}function Kl(p,b){var S=p[b-1+0],C=p[b-1+32],R=p[b-1+64],U=p[b-1-32],z=p[b+0-32],V=p[b+1-32],$=p[b+2-32],te=p[b+3-32];p[b+0+0]=p[b+1+64]=U+z+1>>1,p[b+1+0]=p[b+2+64]=z+V+1>>1,p[b+2+0]=p[b+3+64]=V+$+1>>1,p[b+3+0]=$+te+1>>1,p[b+0+96]=Tt(R,C,S),p[b+0+64]=Tt(C,S,U),p[b+0+32]=p[b+1+96]=Tt(S,U,z),p[b+1+32]=p[b+2+96]=Tt(U,z,V),p[b+2+32]=p[b+3+96]=Tt(z,V,$),p[b+3+32]=Tt(V,$,te)}function mo(p,b){var S=p[b+0-32],C=p[b+1-32],R=p[b+2-32],U=p[b+3-32],z=p[b+4-32],V=p[b+5-32],$=p[b+6-32],te=p[b+7-32];p[b+0+0]=S+C+1>>1,p[b+1+0]=p[b+0+64]=C+R+1>>1,p[b+2+0]=p[b+1+64]=R+U+1>>1,p[b+3+0]=p[b+2+64]=U+z+1>>1,p[b+0+32]=Tt(S,C,R),p[b+1+32]=p[b+0+96]=Tt(C,R,U),p[b+2+32]=p[b+1+96]=Tt(R,U,z),p[b+3+32]=p[b+2+96]=Tt(U,z,V),p[b+3+64]=Tt(z,V,$),p[b+3+96]=Tt(V,$,te)}function Da(p,b){var S=p[b-1+0],C=p[b-1+32],R=p[b-1+64],U=p[b-1+96];p[b+0+0]=S+C+1>>1,p[b+2+0]=p[b+0+32]=C+R+1>>1,p[b+2+32]=p[b+0+64]=R+U+1>>1,p[b+1+0]=Tt(S,C,R),p[b+3+0]=p[b+1+32]=Tt(C,R,U),p[b+3+32]=p[b+1+64]=Tt(R,U,U),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=U}function po(p,b){var S=p[b-1+0],C=p[b-1+32],R=p[b-1+64],U=p[b-1+96],z=p[b-1-32],V=p[b+0-32],$=p[b+1-32],te=p[b+2-32];p[b+0+0]=p[b+2+32]=S+z+1>>1,p[b+0+32]=p[b+2+64]=C+S+1>>1,p[b+0+64]=p[b+2+96]=R+C+1>>1,p[b+0+96]=U+R+1>>1,p[b+3+0]=Tt(V,$,te),p[b+2+0]=Tt(z,V,$),p[b+1+0]=p[b+3+32]=Tt(S,z,V),p[b+1+32]=p[b+3+64]=Tt(C,S,z),p[b+1+64]=p[b+3+96]=Tt(R,C,S),p[b+1+96]=Tt(U,R,C)}function Ms(p,b){var S;for(S=0;8>S;++S)a(p,b+32*S,p,b-32,8)}function Uc(p,b){var S;for(S=0;8>S;++S)i(p,b,p[b-1],8),b+=32}function Va(p,b,S){var C;for(C=0;8>C;++C)i(b,S+32*C,p,8)}function Xo(p,b){var S,C=8;for(S=0;8>S;++S)C+=p[b+S-32]+p[b-1+32*S];Va(C>>4,p,b)}function Jo(p,b){var S,C=4;for(S=0;8>S;++S)C+=p[b+S-32];Va(C>>3,p,b)}function Pr(p,b){var S,C=4;for(S=0;8>S;++S)C+=p[b-1+32*S];Va(C>>3,p,b)}function Ds(p,b){Va(128,p,b)}function Ga(p,b,S){var C=p[b-S],R=p[b+0],U=3*(R-C)+bi[1020+p[b-2*S]-p[b+S]],z=ac[112+(U+4>>3)];p[b-S]=ra[255+C+ac[112+(U+3>>3)]],p[b+0]=ra[255+R-z]}function ni(p,b,S,C){var R=p[b+0],U=p[b+S];return $r[255+p[b-2*S]-p[b-S]]>C||$r[255+U-R]>C}function Qo(p,b,S,C){return 4*$r[255+p[b-S]-p[b+0]]+$r[255+p[b-2*S]-p[b+S]]<=C}function go(p,b,S,C,R){var U=p[b-3*S],z=p[b-2*S],V=p[b-S],$=p[b+0],te=p[b+S],fe=p[b+2*S],je=p[b+3*S];return 4*$r[255+V-$]+$r[255+z-te]>C?0:$r[255+p[b-4*S]-U]<=R&&$r[255+U-z]<=R&&$r[255+z-V]<=R&&$r[255+je-fe]<=R&&$r[255+fe-te]<=R&&$r[255+te-$]<=R}function ri(p,b,S,C){var R=2*C+1;for(C=0;16>C;++C)Qo(p,b+C,S,R)&&Ga(p,b+C,S)}function ai(p,b,S,C){var R=2*C+1;for(C=0;16>C;++C)Qo(p,b+C*S,1,R)&&Ga(p,b+C*S,1)}function vo(p,b,S,C){var R;for(R=3;0<R;--R)ri(p,b+=4*S,S,C)}function Xl(p,b,S,C){var R;for(R=3;0<R;--R)ai(p,b+=4,S,C)}function si(p,b,S,C,R,U,z,V){for(U=2*U+1;0<R--;){if(go(p,b,S,U,z))if(ni(p,b,S,V))Ga(p,b,S);else{var $=p,te=b,fe=S,je=$[te-2*fe],Z=$[te-fe],pe=$[te+0],xe=$[te+fe],De=$[te+2*fe],Ne=27*(Ue=bi[1020+3*(pe-Z)+bi[1020+je-xe]])+63>>7,Me=18*Ue+63>>7,Ue=9*Ue+63>>7;$[te-3*fe]=ra[255+$[te-3*fe]+Ue],$[te-2*fe]=ra[255+je+Me],$[te-fe]=ra[255+Z+Ne],$[te+0]=ra[255+pe-Ne],$[te+fe]=ra[255+xe-Me],$[te+2*fe]=ra[255+De-Ue]}b+=C}}function ii(p,b,S,C,R,U,z,V){for(U=2*U+1;0<R--;){if(go(p,b,S,U,z))if(ni(p,b,S,V))Ga(p,b,S);else{var $=p,te=b,fe=S,je=$[te-fe],Z=$[te+0],pe=$[te+fe],xe=ac[112+(4+(De=3*(Z-je))>>3)],De=ac[112+(De+3>>3)],Ne=xe+1>>1;$[te-2*fe]=ra[255+$[te-2*fe]+Ne],$[te-fe]=ra[255+je+De],$[te+0]=ra[255+Z-xe],$[te+fe]=ra[255+pe-Ne]}b+=C}}function zc(p,b,S,C,R,U){si(p,b,S,1,16,C,R,U)}function oi(p,b,S,C,R,U){si(p,b,1,S,16,C,R,U)}function Fc(p,b,S,C,R,U){var z;for(z=3;0<z;--z)ii(p,b+=4*S,S,1,16,C,R,U)}function _(p,b,S,C,R,U){var z;for(z=3;0<z;--z)ii(p,b+=4,1,S,16,C,R,U)}function L(p,b,S,C,R,U,z,V){si(p,b,R,1,8,U,z,V),si(S,C,R,1,8,U,z,V)}function re(p,b,S,C,R,U,z,V){si(p,b,1,R,8,U,z,V),si(S,C,1,R,8,U,z,V)}function de(p,b,S,C,R,U,z,V){ii(p,b+4*R,R,1,8,U,z,V),ii(S,C+4*R,R,1,8,U,z,V)}function ve(p,b,S,C,R,U,z,V){ii(p,b+4,1,R,8,U,z,V),ii(S,C+4,1,R,8,U,z,V)}function Be(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ve(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bt(){this.ua=0,this.Wa=new Se,this.vb=new Se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ye,this.yc=new Q}function Pt(){this.xb=this.a=0,this.l=new ei,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bt,this.ab=0,this.gc=h(4,ct),this.Oc=0}function Vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(p,b,S,C,R,U,z){for(p=p==null?0:p[b+0],b=0;b<z;++b)R[U+b]=p+S[C+b]&255,p=R[U+b]}function Qn(p,b,S,C,R,U,z){var V;if(p==null)dn(null,null,S,C,R,U,z);else for(V=0;V<z;++V)R[U+V]=p[b+V]+S[C+V]&255}function dr(p,b,S,C,R,U,z){if(p==null)dn(null,null,S,C,R,U,z);else{var V,$=p[b+0],te=$,fe=$;for(V=0;V<z;++V)te=fe+($=p[b+V])-te,fe=S[C+V]+(-256&te?0>te?0:255:te)&255,te=$,R[U+V]=fe}}function In(p,b,S,C){var R=b.width,U=b.o;if(e(p!=null&&b!=null),0>S||0>=C||S+C>U)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new Vt,(z=p.ga==null)||(z=b.width*b.o,e(p.Gb.length==0),p.Gb=o(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var V=p.Fa,$=p.P,te=p.qc,fe=p.mb,je=p.nb,Z=$+1,pe=te-1,xe=z.l;if(e(V!=null&&fe!=null&&b!=null),yi[0]=null,yi[1]=dn,yi[2]=Qn,yi[3]=dr,z.ca=fe,z.tb=je,z.c=b.width,z.i=b.height,e(0<z.c&&0<z.i),1>=te)b=0;else if(z.$a=3&V[$+0],z.Z=V[$+0]>>2&3,z.Lc=V[$+0]>>4&3,$=V[$+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||$)b=0;else if(xe.put=et,xe.ac=qr,xe.bc=ar,xe.ma=z,xe.width=b.width,xe.height=b.height,xe.Da=b.Da,xe.v=b.v,xe.va=b.va,xe.j=b.j,xe.o=b.o,z.$a)e:{e(z.$a==1),b=co();t:for(;;){if(b==null){b=0;break e}if(e(z!=null),z.mc=b,b.c=z.c,b.i=z.i,b.l=z.l,b.l.ma=z,b.l.width=z.c,b.l.height=z.i,b.a=0,_e(b.m,V,Z,pe),!cs(z.c,z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&On(b.s)?(z.ic=1,V=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(V),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(z.ic=0,b=us(b,z.c)),!b))break t;b=1;break e}z.mc=null,b=0}else b=pe>=z.c*z.i;z=!b}if(z)return null;p.ga.Lc!=1?p.Ga=0:C=U-S}e(p.ga!=null),e(S+C<=U);e:{if(b=(V=p.ga).c,U=V.l.o,V.$a==0){if(Z=p.rc,pe=p.Vc,xe=p.Fa,$=p.P+1+S*b,te=p.mb,fe=p.nb+S*b,e($<=p.P+p.qc),V.Z!=0)for(e(yi[V.Z]!=null),z=0;z<C;++z)yi[V.Z](Z,pe,xe,$,te,fe,b),Z=te,pe=fe,fe+=b,$+=b;else for(z=0;z<C;++z)a(te,fe,xe,$,b),Z=te,pe=fe,fe+=b,$+=b;p.rc=Z,p.Vc=pe}else{if(e(V.mc!=null),b=S+C,e((z=V.mc)!=null),e(b<=z.i),z.C>=b)b=1;else if(V.ic||vs(),V.ic){V=z.V,Z=z.Ba,pe=z.c;var De=z.i,Ne=(xe=1,$=z.$/pe,te=z.$%pe,fe=z.m,je=z.s,z.$),Me=pe*De,Ue=pe*b,Ge=je.wc,qe=Ne<Ue?kr(je,te,$):null;e(Ne<=Me),e(b<=De),e(On(je));t:for(;;){for(;!fe.h&&Ne<Ue;){if(te&Ge||(qe=kr(je,te,$)),e(qe!=null),ue(fe),256>(De=Tn(qe.G[0],qe.H[0],fe)))V[Z+Ne]=De,++Ne,++te>=pe&&(te=0,++$<=b&&!($%16)&&ta(z,$));else{if(!(280>De)){xe=0;break t}De=Hn(De-256,fe);var dt,tt=Tn(qe.G[4],qe.H[4],fe);if(ue(fe),!(Ne>=(tt=Vn(pe,tt=Hn(tt,fe)))&&Me-Ne>=De)){xe=0;break t}for(dt=0;dt<De;++dt)V[Z+Ne+dt]=V[Z+Ne+dt-tt];for(Ne+=De,te+=De;te>=pe;)te-=pe,++$<=b&&!($%16)&&ta(z,$);Ne<Ue&&te&Ge&&(qe=kr(je,te,$))}e(fe.h==ne(fe))}ta(z,$>b?b:$);break t}!xe||fe.h&&Ne<Me?(xe=0,z.a=fe.h?5:3):z.$=Ne,b=xe}else b=Oa(z,z.V,z.Ba,z.c,z.i,b,Ii);if(!b){C=0;break e}}S+C>=U&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*R}function Er(p,b,S,C,R,U){for(;0<R--;){var z,V=p,$=b+(S?1:0),te=p,fe=b+(S?0:3);for(z=0;z<C;++z){var je=te[fe+4*z];je!=255&&(je*=32897,V[$+4*z+0]=V[$+4*z+0]*je>>23,V[$+4*z+1]=V[$+4*z+1]*je>>23,V[$+4*z+2]=V[$+4*z+2]*je>>23)}b+=U}}function br(p,b,S,C,R){for(;0<C--;){var U;for(U=0;U<S;++U){var z=p[b+2*U+0],V=15&(te=p[b+2*U+1]),$=4369*V,te=(240&te|te>>4)*$>>16;p[b+2*U+0]=(240&z|z>>4)*$>>16&240|(15&z|z<<4)*$>>16>>4&15,p[b+2*U+1]=240&te|V}b+=R}}function Vr(p,b,S,C,R,U,z,V){var $,te,fe=255;for(te=0;te<R;++te){for($=0;$<C;++$){var je=p[b+$];U[z+4*$]=je,fe&=je}b+=S,z+=V}return fe!=255}function li(p,b,S,C,R){var U;for(U=0;U<R;++U)S[C+U]=p[b+U]>>8}function vs(){wo=Er,Wa=br,tc=Vr,Ba=li}function ci(p,b,S){Y[p]=function(C,R,U,z,V,$,te,fe,je,Z,pe,xe,De,Ne,Me,Ue,Ge){var qe,dt=Ge-1>>1,tt=V[$+0]|te[fe+0]<<16,Ut=je[Z+0]|pe[xe+0]<<16;e(C!=null);var ot=3*tt+Ut+131074>>2;for(b(C[R+0],255&ot,ot>>16,De,Ne),U!=null&&(ot=3*Ut+tt+131074>>2,b(U[z+0],255&ot,ot>>16,Me,Ue)),qe=1;qe<=dt;++qe){var nn=V[$+qe]|te[fe+qe]<<16,$n=je[Z+qe]|pe[xe+qe]<<16,Gt=tt+nn+Ut+$n+524296,nt=Gt+2*(nn+Ut)>>3;ot=nt+tt>>1,tt=(Gt=Gt+2*(tt+$n)>>3)+nn>>1,b(C[R+2*qe-1],255&ot,ot>>16,De,Ne+(2*qe-1)*S),b(C[R+2*qe-0],255&tt,tt>>16,De,Ne+(2*qe-0)*S),U!=null&&(ot=Gt+Ut>>1,tt=nt+$n>>1,b(U[z+2*qe-1],255&ot,ot>>16,Me,Ue+(2*qe-1)*S),b(U[z+2*qe+0],255&tt,tt>>16,Me,Ue+(2*qe+0)*S)),tt=nn,Ut=$n}1&Ge||(ot=3*tt+Ut+131074>>2,b(C[R+Ge-1],255&ot,ot>>16,De,Ne+(Ge-1)*S),U!=null&&(ot=3*Ut+tt+131074>>2,b(U[z+Ge-1],255&ot,ot>>16,Me,Ue+(Ge-1)*S)))}}function Jl(){Yr[Gc]=So,Yr[aa]=cl,Yr[$c]=ad,Yr[Ya]=Jc,Yr[sc]=$i,Yr[il]=Vs,Yr[Hi]=Wi,Yr[ic]=cl,Yr[Wc]=Jc,Yr[ol]=$i,Yr[Yc]=Vs}function Zo(p){return p&-16384?0>p?0:255:p>>Qc}function Ps(p,b){return Zo((19077*p>>8)+(26149*b>>8)-14234)}function bs(p,b,S){return Zo((19077*p>>8)-(6419*b>>8)-(13320*S>>8)+8708)}function bo(p,b){return Zo((19077*p>>8)+(33050*b>>8)-17685)}function ui(p,b,S,C,R){C[R+0]=Ps(p,S),C[R+1]=bs(p,b,S),C[R+2]=bo(p,b)}function Ir(p,b,S,C,R){C[R+0]=bo(p,b),C[R+1]=bs(p,b,S),C[R+2]=Ps(p,S)}function zi(p,b,S,C,R){var U=bs(p,b,S);b=U<<3&224|bo(p,b)>>3,C[R+0]=248&Ps(p,S)|U>>5,C[R+1]=b}function Fi(p,b,S,C,R){var U=240&bo(p,b)|15;C[R+0]=240&Ps(p,S)|bs(p,b,S)>>4,C[R+1]=U}function el(p,b,S,C,R){C[R+0]=255,ui(p,b,S,C,R+1)}function Is(p,b,S,C,R){Ir(p,b,S,C,R),C[R+3]=255}function fa(p,b,S,C,R){ui(p,b,S,C,R),C[R+3]=255}function di(p,b,S){Y[p]=function(C,R,U,z,V,$,te,fe,je){for(var Z=fe+(-2&je)*S;fe!=Z;)b(C[R+0],U[z+0],V[$+0],te,fe),b(C[R+1],U[z+0],V[$+0],te,fe+S),R+=2,++z,++$,fe+=2*S;1&je&&b(C[R+0],U[z+0],V[$+0],te,fe)}}function tl(p,b,S){return S==0?p==0?b==0?6:5:b==0?4:0:S}function Ql(p,b,S,C,R){switch(p>>>30){case 3:vi(b,S,C,R,0);break;case 2:na(b,S,C,R);break;case 1:bn(b,S,C,R)}}function Pa(p,b){var S,C,R=b.M,U=b.Nb,z=p.oc,V=p.pc+40,$=p.oc,te=p.pc+584,fe=p.oc,je=p.pc+600;for(S=0;16>S;++S)z[V+32*S-1]=129;for(S=0;8>S;++S)$[te+32*S-1]=129,fe[je+32*S-1]=129;for(0<R?z[V-1-32]=$[te-1-32]=fe[je-1-32]=129:(i(z,V-32-1,127,21),i($,te-32-1,127,9),i(fe,je-32-1,127,9)),C=0;C<p.za;++C){var Z=b.ya[b.aa+C];if(0<C){for(S=-1;16>S;++S)a(z,V+32*S-4,z,V+32*S+12,4);for(S=-1;8>S;++S)a($,te+32*S-4,$,te+32*S+4,4),a(fe,je+32*S-4,fe,je+32*S+4,4)}var pe=p.Gd,xe=p.Hd+C,De=Z.ad,Ne=Z.Hc;if(0<R&&(a(z,V-32,pe[xe].y,0,16),a($,te-32,pe[xe].f,0,8),a(fe,je-32,pe[xe].ea,0,8)),Z.Za){var Me=z,Ue=V-32+16;for(0<R&&(C>=p.za-1?i(Me,Ue,pe[xe].y[15],4):a(Me,Ue,pe[xe+1].y,0,4)),S=0;4>S;S++)Me[Ue+128+S]=Me[Ue+256+S]=Me[Ue+384+S]=Me[Ue+0+S];for(S=0;16>S;++S,Ne<<=2)Me=z,Ue=V+mr[S],sr[Z.Ob[S]](Me,Ue),Ql(Ne,De,16*+S,Me,Ue)}else if(Me=tl(C,R,Z.Ob[0]),pa[Me](z,V),Ne!=0)for(S=0;16>S;++S,Ne<<=2)Ql(Ne,De,16*+S,z,V+mr[S]);for(S=Z.Gc,Me=tl(C,R,Z.Dd),_s[Me]($,te),_s[Me](fe,je),Ne=De,Me=$,Ue=te,255&(Z=0|S)&&(170&Z?$a(Ne,256,Me,Ue):hn(Ne,256,Me,Ue)),Z=fe,Ne=je,255&(S>>=8)&&(170&S?$a(De,320,Z,Ne):hn(De,320,Z,Ne)),R<p.Ub-1&&(a(pe[xe].y,0,z,V+480,16),a(pe[xe].f,0,$,te+224,8),a(pe[xe].ea,0,fe,je+224,8)),S=8*U*p.B,pe=p.sa,xe=p.ta+16*C+16*U*p.R,De=p.qa,Z=p.ra+8*C+S,Ne=p.Ha,Me=p.Ia+8*C+S,S=0;16>S;++S)a(pe,xe+S*p.R,z,V+32*S,16);for(S=0;8>S;++S)a(De,Z+S*p.B,$,te+32*S,8),a(Ne,Me+S*p.B,fe,je+32*S,8)}}function ys(p,b,S,C,R,U,z,V,$){var te=[0],fe=[0],je=0,Z=$!=null?$.kd:0,pe=$??new Ve;if(p==null||12>S)return 7;pe.data=p,pe.w=b,pe.ha=S,b=[b],S=[S],pe.gb=[pe.gb];e:{var xe=b,De=S,Ne=pe.gb;if(e(p!=null),e(De!=null),e(Ne!=null),Ne[0]=0,12<=De[0]&&!n(p,xe[0],"RIFF")){if(n(p,xe[0]+8,"WEBP")){Ne=3;break e}var Me=rt(p,xe[0]+4);if(12>Me||4294967286<Me){Ne=3;break e}if(Z&&Me>De[0]-8){Ne=7;break e}Ne[0]=Me,xe[0]+=12,De[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Me=0<pe.gb[0],S=S[0];;){e:{var Ue=p;De=b,Ne=S;var Ge=te,qe=fe,dt=xe=[0];if((ot=je=[je])[0]=0,8>Ne[0])Ne=7;else{if(!n(Ue,De[0],"VP8X")){if(rt(Ue,De[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var tt=rt(Ue,De[0]+8),Ut=1+Je(Ue,De[0]+12);if(2147483648<=Ut*(Ue=1+Je(Ue,De[0]+15))){Ne=3;break e}dt!=null&&(dt[0]=tt),Ge!=null&&(Ge[0]=Ut),qe!=null&&(qe[0]=Ue),De[0]+=18,Ne[0]-=18,ot[0]=1}Ne=0}}if(je=je[0],xe=xe[0],Ne!=0)return Ne;if(De=!!(2&xe),!Me&&je)return 3;if(U!=null&&(U[0]=!!(16&xe)),z!=null&&(z[0]=De),V!=null&&(V[0]=0),z=te[0],xe=fe[0],je&&De&&$==null){Ne=0;break}if(4>S){Ne=7;break}if(Me&&je||!Me&&!je&&!n(p,b[0],"ALPH")){S=[S],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{tt=p,Ne=b,Me=S;var ot=pe.gb;Ge=pe.na,qe=pe.P,dt=pe.Sa,Ut=22,e(tt!=null),e(Me!=null),Ue=Ne[0];var nn=Me[0];for(e(Ge!=null),e(dt!=null),Ge[0]=null,qe[0]=null,dt[0]=0;;){if(Ne[0]=Ue,Me[0]=nn,8>nn){Ne=7;break e}var $n=rt(tt,Ue+4);if(4294967286<$n){Ne=3;break e}var Gt=8+$n+1&-2;if(Ut+=Gt,0<ot&&Ut>ot){Ne=3;break e}if(!n(tt,Ue,"VP8 ")||!n(tt,Ue,"VP8L")){Ne=0;break e}if(nn[0]<Gt){Ne=7;break e}n(tt,Ue,"ALPH")||(Ge[0]=tt,qe[0]=Ue+8,dt[0]=$n),Ue+=Gt,nn-=Gt}}if(S=S[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],Ne!=0)break}S=[S],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(ot=p,Ne=b,Me=S,Ge=pe.gb[0],qe=pe.Ja,dt=pe.xa,tt=Ne[0],Ue=!n(ot,tt,"VP8 "),Ut=!n(ot,tt,"VP8L"),e(ot!=null),e(Me!=null),e(qe!=null),e(dt!=null),8>Me[0])Ne=7;else{if(Ue||Ut){if(ot=rt(ot,tt+4),12<=Ge&&ot>Ge-12){Ne=3;break e}if(Z&&ot>Me[0]-8){Ne=7;break e}qe[0]=ot,Ne[0]+=8,Me[0]-=8,dt[0]=Ut}else dt[0]=5<=Me[0]&&ot[tt+0]==47&&!(ot[tt+4]>>5),qe[0]=Me[0];Ne=0}if(S=S[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],b=b[0],Ne!=0)break;if(4294967286<pe.Ja)return 3;if(V==null||De||(V[0]=pe.xa?2:1),z=[z],xe=[xe],pe.xa){if(5>S){Ne=7;break}V=z,Z=xe,De=U,p==null||5>S?p=0:5<=S&&p[b+0]==47&&!(p[b+4]>>5)?(Me=[0],ot=[0],Ge=[0],_e(qe=new B,p,b,S),ca(qe,Me,ot,Ge)?(V!=null&&(V[0]=Me[0]),Z!=null&&(Z[0]=ot[0]),De!=null&&(De[0]=Ge[0]),p=1):p=0):p=0}else{if(10>S){Ne=7;break}V=xe,p==null||10>S||!Fl(p,b+3,S-3)?p=0:(Z=p[b+0]|p[b+1]<<8|p[b+2]<<16,De=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=pe.Ja||!De||!p?p=0:(z&&(z[0]=De),V&&(V[0]=p),p=1))}if(!p||(z=z[0],xe=xe[0],je&&(te[0]!=z||fe[0]!=xe)))return 3;$!=null&&($[0]=pe,$.offset=b-$.w,e(4294967286>b-$.w),e($.offset==$.ha-S));break}return Ne==0||Ne==7&&je&&$==null?(U!=null&&(U[0]|=pe.na!=null&&0<pe.na.length),C!=null&&(C[0]=z),R!=null&&(R[0]=xe),0):Ne}function hi(p,b,S){var C=b.width,R=b.height,U=0,z=0,V=C,$=R;if(b.Da=p!=null&&0<p.Da,b.Da&&(V=p.cd,$=p.bd,U=p.v,z=p.j,11>S||(U&=-2,z&=-2),0>U||0>z||0>=V||0>=$||U+V>C||z+$>R))return 0;if(b.v=U,b.j=z,b.va=U+V,b.o=z+$,b.U=V,b.T=$,b.da=p!=null&&0<p.da,b.da){if(!Ye(V,$,S=[p.ib],U=[p.hb]))return 0;b.ib=S[0],b.hb=U[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*R/4,b.Kb=0),1}function Zl(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function xs(p,b,S,C){if(C==null||0>=p||0>=b)return 2;if(S!=null){if(S.Da){var R=S.cd,U=S.bd,z=-2&S.v,V=-2&S.j;if(0>z||0>V||0>=R||0>=U||z+R>p||V+U>b)return 2;p=R,b=U}if(S.da){if(!Ye(p,b,R=[S.ib],U=[S.hb]))return 2;p=R[0],b=U[0]}}C.width=p,C.height=b;e:{var $=C.width,te=C.height;if(p=C.S,0>=$||0>=te||!(p>=Gc&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){z=U=R=b=0;var fe=(V=$*eu[p])*te;if(11>p||(U=(te+1)/2*(b=($+1)/2),p==12&&(z=(R=$)*te)),(te=o(fe+2*U+z))==null){p=1;break e}C.sd=te,11>p?(($=C.f.RGBA).eb=te,$.fb=0,$.A=V,$.size=fe):(($=C.f.kb).y=te,$.O=0,$.fa=V,$.Fd=fe,$.f=te,$.N=0+fe,$.Ab=b,$.Cd=U,$.ea=te,$.W=0+fe+U,$.Db=b,$.Ed=U,p==12&&($.F=te,$.J=0+fe+2*U),$.Tc=z,$.lb=R)}if(b=1,R=C.S,U=C.width,z=C.height,R>=Gc&&13>R)if(11>R)p=C.f.RGBA,b&=(V=Math.abs(p.A))*(z-1)+U<=p.size,b&=V>=U*eu[R],b&=p.eb!=null;else{p=C.f.kb,V=(U+1)/2,fe=(z+1)/2,$=Math.abs(p.fa),te=Math.abs(p.Ab);var je=Math.abs(p.Db),Z=Math.abs(p.lb),pe=Z*(z-1)+U;b&=$*(z-1)+U<=p.Fd,b&=te*(fe-1)+V<=p.Cd,b=(b&=je*(fe-1)+V<=p.Ed)&$>=U&te>=V&je>=V,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,R==12&&(b&=Z>=U,b&=pe<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||S!=null&&S.fd&&(p=Zl(C)),p}var qi=64,Na=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ma=24,Bs=32,Us=8,fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(p){return p},Y.Predictor2=function(p,b,S){return b[S+0]},Y.Predictor3=function(p,b,S){return b[S+1]},Y.Predictor4=function(p,b,S){return b[S-1]},Y.Predictor5=function(p,b,S){return pt(pt(p,b[S+1]),b[S+0])},Y.Predictor6=function(p,b,S){return pt(p,b[S-1])},Y.Predictor7=function(p,b,S){return pt(p,b[S+0])},Y.Predictor8=function(p,b,S){return pt(b[S-1],b[S+0])},Y.Predictor9=function(p,b,S){return pt(b[S+0],b[S+1])},Y.Predictor10=function(p,b,S){return pt(pt(p,b[S-1]),pt(b[S+0],b[S+1]))},Y.Predictor11=function(p,b,S){var C=b[S+0];return 0>=Lt(C>>24&255,p>>24&255,(b=b[S-1])>>24&255)+Lt(C>>16&255,p>>16&255,b>>16&255)+Lt(C>>8&255,p>>8&255,b>>8&255)+Lt(255&C,255&p,255&b)?C:p},Y.Predictor12=function(p,b,S){var C=b[S+0];return(Ft((p>>24&255)+(C>>24&255)-((b=b[S-1])>>24&255))<<24|Ft((p>>16&255)+(C>>16&255)-(b>>16&255))<<16|Ft((p>>8&255)+(C>>8&255)-(b>>8&255))<<8|Ft((255&p)+(255&C)-(255&b)))>>>0},Y.Predictor13=function(p,b,S){var C=b[S-1];return(Qt((p=pt(p,b[S+0]))>>24&255,C>>24&255)<<24|Qt(p>>16&255,C>>16&255)<<16|Qt(p>>8&255,C>>8&255)<<8|Qt(255&p,255&C))>>>0};var nl=Y.PredictorAdd0;Y.PredictorAdd1=Zt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var rl=Y.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var hr,qc=Y.ColorIndexInverseTransform,zs=Y.MapARGB,Fs=Y.VP8LColorIndexInverseTransformAlpha,Gr=Y.MapAlpha,mi=Y.VP8LPredictorsAdd=[];mi.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var al,sl,pi,gi,qs,yo,Ia,vi,na,$a,bn,hn,Bn,fr,Hs,ws,xo,ec,Zu,uh,dh,hh,ed,td,wo,Wa,tc,Ba,_o=o(511),Hc=o(2041),nc=o(225),rc=o(767),Vc=0,bi=Hc,ac=nc,ra=rc,$r=_o,Gc=0,aa=1,$c=2,Ya=3,sc=4,il=5,Hi=6,ic=7,Wc=8,ol=9,Yc=10,Ka=[2,3,7],ll=[3,3,11],No=[280,256,256,256,40],Kc=[0,1,1,1,0],oc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ja=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vi=8,Qa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Za=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ua=null,fh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pa=[],sr=[],_s=[],Gi=1,rd=2,yi=[],Yr=[];ci("UpsampleRgbLinePair",ui,3),ci("UpsampleBgrLinePair",Ir,3),ci("UpsampleRgbaLinePair",fa,4),ci("UpsampleBgraLinePair",Is,4),ci("UpsampleArgbLinePair",el,4),ci("UpsampleRgba4444LinePair",Fi,2),ci("UpsampleRgb565LinePair",zi,2);var So=Y.UpsampleRgbLinePair,ad=Y.UpsampleBgrLinePair,cl=Y.UpsampleRgbaLinePair,Jc=Y.UpsampleBgraLinePair,$i=Y.UpsampleArgbLinePair,Vs=Y.UpsampleRgba4444LinePair,Wi=Y.UpsampleRgb565LinePair,es=16,ul=1<<es-1,jo=-227,Yi=482,Qc=6,Ki=0,Kr=o(256),Zc=o(256),ph=o(256),om=o(256),lm=o(Yi-jo),cm=o(Yi-jo);di("YuvToRgbRow",ui,3),di("YuvToBgrRow",Ir,3),di("YuvToRgbaRow",fa,4),di("YuvToBgraRow",Is,4),di("YuvToArgbRow",el,4),di("YuvToRgba4444Row",Fi,2),di("YuvToRgb565Row",zi,2);var mr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dl=[0,2,8],lc=[8,7,6,4,4,2,2,2,1,1,1,1],cc=1;this.WebPDecodeRGBA=function(p,b,S,C,R){var U=aa,z=new Be,V=new qt;z.ba=V,V.S=U,V.width=[V.width],V.height=[V.height];var $=V.width,te=V.height,fe=new vt;if(fe==null||p==null)var je=2;else e(fe!=null),je=ys(p,b,S,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(je!=0?$=0:($!=null&&($[0]=fe.width[0]),te!=null&&(te[0]=fe.height[0]),$=1),$){V.width=V.width[0],V.height=V.height[0],C!=null&&(C[0]=V.width),R!=null&&(R[0]=V.height);e:{if(C=new ei,(R=new Ve).data=p,R.w=b,R.ha=S,R.kd=1,b=[0],e(R!=null),((p=ys(R.data,R.w,R.ha,null,null,null,b,null,R))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(z!=null),C.data=R.data,C.w=R.w+R.offset,C.ha=R.ha-R.offset,C.put=et,C.ac=qr,C.bc=ar,C.ma=z,R.xa){if((p=co())==null){z=1;break e}if((function(Z,pe){var xe=[0],De=[0],Ne=[0];t:for(;;){if(Z==null)return 0;if(pe==null)return Z.a=2,0;if(Z.l=pe,Z.a=0,_e(Z.m,pe.data,pe.w,pe.ha),!ca(Z.m,xe,De,Ne)){Z.a=3;break t}if(Z.xb=rd,pe.width=xe[0],pe.height=De[0],!cs(xe[0],De[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(p,C)){if(C=(b=xs(C.width,C.height,z.Oa,z.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((S=C.l)!=null),e((R=S.ma)!=null),C.xb!=0){if(C.ca=R.ba,C.tb=R.tb,e(C.ca!=null),!hi(R.Oa,S,Ya)){C.a=2;break n}if(!us(C,S.width)||S.da)break n;if((S.da||wt(C.ca.S))&&vs(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&vs()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!K(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Oa(C,C.V,C.Ba,C.c,C.i,S.o,ua))break n;R.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(b=p.a)}else b=p.a}else{if((p=new ms)==null){z=1;break e}if(p.Fa=R.na,p.P=R.P,p.qc=R.Sa,Rs(p,C)){if((b=xs(C.width,C.height,z.Oa,z.ba))==0){if(p.Aa=0,S=z.Oa,e((R=p)!=null),S!=null){if(0<($=0>($=S.Md)?0:100<$?255:255*$/100)){for(te=fe=0;4>te;++te)12>(je=R.pb[te]).lc&&(je.ia=$*lc[0>je.lc?0:je.lc]>>3),fe|=je.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(Z,pe){if(Z==null)return 0;if(pe==null)return vn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Rs(Z,pe))return 0;if(e(Z.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(Z.L=0);var xe=dl[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=pe.v-xe>>4,Z.zb=pe.j-xe>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=pe.o+15+xe>>4,Z.Hb=pe.va+15+xe>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var De=Z.ed;for(xe=0;4>xe;++xe){var Ne;if(Z.Qa.Cb){var Me=Z.Qa.Lb[xe];Z.Qa.Fb||(Me+=De.Tb)}else Me=De.Tb;for(Ne=0;1>=Ne;++Ne){var Ue=Z.gd[xe][Ne],Ge=Me;if(De.Pc&&(Ge+=De.vd[0],Ne&&(Ge+=De.od[0])),0<(Ge=0>Ge?0:63<Ge?63:Ge)){var qe=Ge;0<De.wb&&(qe=4<De.wb?qe>>2:qe>>1)>9-De.wb&&(qe=9-De.wb),1>qe&&(qe=1),Ue.dd=qe,Ue.tc=2*Ge+qe,Ue.ld=40<=Ge?2:15<=Ge?1:0}else Ue.tc=0;Ue.La=Ne}}}xe=0}else vn(Z,6,"Frame setup failed"),xe=Z.a;if(xe=xe==0){if(xe){Z.$c=0,0<Z.Aa||(Z.Ic=cc);t:{xe=Z.Ic,De=4*(qe=Z.za);var dt=32*qe,tt=qe+1,Ut=0<Z.L?qe*(0<Z.Aa?2:1):0,ot=(Z.Aa==2?2:1)*qe;if((Ue=De+832+(Ne=3*(16*xe+dl[Z.L])/2*dt)+(Me=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Ue)xe=0;else{if(Ue>Z.Vb){if(Z.Vb=0,Z.Ec=o(Ue),Z.Fc=0,Z.Ec==null){xe=vn(Z,1,"no memory during frame initialization.");break t}Z.Vb=Ue}Ue=Z.Ec,Ge=Z.Fc,Z.Ac=Ue,Z.Bc=Ge,Ge+=De,Z.Gd=h(dt,zl),Z.Hd=0,Z.rb=h(tt+1,fs),Z.sb=1,Z.wa=Ut?h(Ut,La):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=qe),e(!0),Z.oc=Ue,Z.pc=Ge,Ge+=832,Z.ya=h(ot,Bl),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=qe),Z.R=16*qe,Z.B=8*qe,qe=(dt=dl[Z.L])*Z.R,dt=dt/2*Z.B,Z.sa=Ue,Z.ta=Ge+qe,Z.qa=Z.sa,Z.ra=Z.ta+16*xe*Z.R+dt,Z.Ha=Z.qa,Z.Ia=Z.ra+8*xe*Z.B+dt,Z.$c=0,Ge+=Ne,Z.mb=Me?Ue:null,Z.nb=Me?Ge:null,e(Ge+Me<=Z.Fc+Z.Vb),ql(Z),i(Z.Ac,Z.Bc,0,De),xe=1}}if(xe){if(pe.ka=0,pe.y=Z.sa,pe.O=Z.ta,pe.f=Z.qa,pe.N=Z.ra,pe.ea=Z.Ha,pe.Vd=Z.Ia,pe.fa=Z.R,pe.Rc=Z.B,pe.F=null,pe.J=0,!Vc){for(xe=-255;255>=xe;++xe)_o[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)Hc[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)nc[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)rc[255+xe]=0>xe?0:255<xe?255:xe;Vc=1}Ia=ps,vi=Hl,$a=ha,bn=Vl,hn=Gl,na=Rc,Bn=zc,fr=oi,Hs=L,ws=re,xo=Fc,ec=_,Zu=de,uh=ve,dh=ri,hh=ai,ed=vo,td=Xl,sr[0]=Bc,sr[1]=Mc,sr[2]=Ic,sr[3]=Yl,sr[4]=Ma,sr[5]=Kl,sr[6]=Hr,sr[7]=mo,sr[8]=po,sr[9]=Da,pa[0]=gs,pa[1]=$l,pa[2]=Wl,pa[3]=Pc,pa[4]=ti,pa[5]=fo,pa[6]=Ui,_s[0]=Xo,_s[1]=Dc,_s[2]=Ms,_s[3]=Uc,_s[4]=Pr,_s[5]=Jo,_s[6]=Ds,xe=1}else xe=0}xe&&(xe=(function(nn,$n){for(nn.M=0;nn.M<nn.Va;++nn.M){var Gt,nt=nn.Jc[nn.M&nn.Xb],Xe=nn.m,Zn=nn;for(Gt=0;Gt<Zn.za;++Gt){var Ot=Xe,Yt=Zn,jn=Yt.Ac,Tr=Yt.Bc+4*Gt,Xr=Yt.zc,Un=Yt.ya[Yt.aa+Gt];if(Yt.Qa.Bb?Un.$b=Oe(Ot,Yt.Pa.jb[0])?2+Oe(Ot,Yt.Pa.jb[2]):Oe(Ot,Yt.Pa.jb[1]):Un.$b=0,Yt.kc&&(Un.Ad=Oe(Ot,Yt.Bd)),Un.Za=!Oe(Ot,145)+0,Un.Za){var yr=Un.Ob,sa=0;for(Yt=0;4>Yt;++Yt){var xr,en=Xr[0+Yt];for(xr=0;4>xr;++xr){en=Wr[jn[Tr+xr]][en];for(var mn=Xc[Oe(Ot,en[0])];0<mn;)mn=Xc[2*mn+Oe(Ot,en[mn])];en=-mn,jn[Tr+xr]=en}a(yr,sa,jn,Tr,4),sa+=4,Xr[0+Yt]=en}}else en=Oe(Ot,156)?Oe(Ot,128)?1:3:Oe(Ot,163)?2:0,Un.Ob[0]=en,i(jn,Tr,en,4),i(Xr,0,en,4);Un.Dd=Oe(Ot,142)?Oe(Ot,114)?Oe(Ot,183)?1:3:2:0}if(Zn.m.Ka)return vn(nn,7,"Premature end-of-partition0 encountered.");for(;nn.ja<nn.za;++nn.ja){if(Zn=nt,Ot=(Xe=nn).rb[Xe.sb-1],jn=Xe.rb[Xe.sb+Xe.ja],Gt=Xe.ya[Xe.aa+Xe.ja],Tr=Xe.kc?Gt.Ad:0)Ot.la=jn.la=0,Gt.Za||(Ot.Na=jn.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var er,yn;if(Ot=jn,jn=Zn,Tr=Xe.Pa.Xc,Xr=Xe.ya[Xe.aa+Xe.ja],Un=Xe.pb[Xr.$b],Yt=Xr.ad,yr=0,sa=Xe.rb[Xe.sb-1],en=xr=0,i(Yt,yr,0,384),Xr.Za)var Or=0,tr=Tr[3];else{mn=o(16);var pn=Ot.Na+sa.Na;if(pn=Ua(jn,Tr[1],pn,Un.Eb,0,mn,0),Ot.Na=sa.Na=(0<pn)+0,1<pn)Ia(mn,0,Yt,yr);else{var pr=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)Yt[yr+mn]=pr}Or=1,tr=Tr[0]}var An=15&Ot.la,wr=15&sa.la;for(mn=0;4>mn;++mn){var _r=1&wr;for(pr=yn=0;4>pr;++pr)An=An>>1|(_r=(pn=Ua(jn,tr,pn=_r+(1&An),Un.Sc,Or,Yt,yr))>Or)<<7,yn=yn<<2|(3<pn?3:1<pn?2:Yt[yr+0]!=0),yr+=16;An>>=4,wr=wr>>1|_r<<7,xr=(xr<<8|yn)>>>0}for(tr=An,Or=wr>>4,er=0;4>er;er+=2){for(yn=0,An=Ot.la>>4+er,wr=sa.la>>4+er,mn=0;2>mn;++mn){for(_r=1&wr,pr=0;2>pr;++pr)pn=_r+(1&An),An=An>>1|(_r=0<(pn=Ua(jn,Tr[2],pn,Un.Qc,0,Yt,yr)))<<3,yn=yn<<2|(3<pn?3:1<pn?2:Yt[yr+0]!=0),yr+=16;An>>=2,wr=wr>>1|_r<<5}en|=yn<<4*er,tr|=An<<4<<er,Or|=(240&wr)<<er}Ot.la=tr,sa.la=Or,Xr.Hc=xr,Xr.Gc=en,Xr.ia=43690&en?0:Un.ia,Tr=!(xr|en)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[Gt.$b][Gt.Za],Xe.wa[Xe.Y+Xe.ja].La|=!Tr),Zn.Ka)return vn(nn,7,"Premature end-of-file encountered.")}if(ql(nn),Xe=$n,Zn=1,Gt=(nt=nn).D,Ot=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Gt.M=nt.M,Gt.uc=Ot,Pa(nt,Gt),Zn=1,Gt=(yn=nt.D).Nb,Ot=(en=dl[nt.L])*nt.R,jn=en/2*nt.B,mn=16*Gt*nt.R,pr=8*Gt*nt.B,Tr=nt.sa,Xr=nt.ta-Ot+mn,Un=nt.qa,Yt=nt.ra-jn+pr,yr=nt.Ha,sa=nt.Ia-jn+pr,wr=(An=yn.M)==0,xr=An>=nt.Va-1,nt.Aa==2&&Pa(nt,yn),yn.uc)for(_r=(pn=nt).D.M,e(pn.D.uc),yn=pn.yb;yn<pn.Hb;++yn){Or=yn,tr=_r;var Ln=(fn=(Nr=pn).D).Nb;er=Nr.R;var fn=fn.wa[fn.Y+Or],ia=Nr.sa,ir=Nr.ta+16*Ln*er+16*Or,jt=fn.dd,kt=fn.tc;if(kt!=0)if(e(3<=kt),Nr.L==1)0<Or&&hh(ia,ir,er,kt+4),fn.La&&td(ia,ir,er,kt),0<tr&&dh(ia,ir,er,kt+4),fn.La&&ed(ia,ir,er,kt);else{var gn=Nr.B,Sa=Nr.qa,ts=Nr.ra+8*Ln*gn+8*Or,ga=Nr.Ha,Nr=Nr.Ia+8*Ln*gn+8*Or;Ln=fn.ld,0<Or&&(fr(ia,ir,er,kt+4,jt,Ln),ws(Sa,ts,ga,Nr,gn,kt+4,jt,Ln)),fn.La&&(ec(ia,ir,er,kt,jt,Ln),uh(Sa,ts,ga,Nr,gn,kt,jt,Ln)),0<tr&&(Bn(ia,ir,er,kt+4,jt,Ln),Hs(Sa,ts,ga,Nr,gn,kt+4,jt,Ln)),fn.La&&(xo(ia,ir,er,kt,jt,Ln),Zu(Sa,ts,ga,Nr,gn,kt,jt,Ln))}}if(nt.ia&&alert("todo:DitherRow"),Xe.put!=null){if(yn=16*An,An=16*(An+1),wr?(Xe.y=nt.sa,Xe.O=nt.ta+mn,Xe.f=nt.qa,Xe.N=nt.ra+pr,Xe.ea=nt.Ha,Xe.W=nt.Ia+pr):(yn-=en,Xe.y=Tr,Xe.O=Xr,Xe.f=Un,Xe.N=Yt,Xe.ea=yr,Xe.W=sa),xr||(An-=en),An>Xe.o&&(An=Xe.o),Xe.F=null,Xe.J=null,nt.Fa!=null&&0<nt.Fa.length&&yn<An&&(Xe.J=In(nt,Xe,yn,An-yn),Xe.F=nt.mb,Xe.F==null&&Xe.F.length==0)){Zn=vn(nt,3,"Could not decode alpha data.");break t}yn<Xe.j&&(en=Xe.j-yn,yn=Xe.j,e(!(1&en)),Xe.O+=nt.R*en,Xe.N+=nt.B*(en>>1),Xe.W+=nt.B*(en>>1),Xe.F!=null&&(Xe.J+=Xe.width*en)),yn<An&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,Xe.F!=null&&(Xe.J+=Xe.v),Xe.ka=yn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=An-yn,Zn=Xe.put(Xe))}Gt+1!=nt.Ic||xr||(a(nt.sa,nt.ta-Ot,Tr,Xr+16*nt.R,Ot),a(nt.qa,nt.ra-jn,Un,Yt+8*nt.B,jn),a(nt.Ha,nt.Ia-jn,yr,sa+8*nt.B,jn))}if(!Zn)return vn(nn,6,"Output aborted.")}return 1})(Z,pe)),pe.bc!=null&&pe.bc(pe),xe&=1}return xe?(Z.cb=0,xe):0})(p,C)||(b=p.a)}}else b=p.a}b==0&&z.Oa!=null&&z.Oa.fd&&(b=Zl(z.ba))}z=b}U=z!=0?null:11>U?V.f.RGBA.eb:V.f.kb.y}else U=null;return U};var eu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Y,he){for(var D="",q=0;q<4;q++)D+=String.fromCharCode(Y[he++]);return D}function v(Y,he){return Y[he+0]|Y[he+1]<<8}function x(Y,he){return(Y[he+0]|Y[he+1]<<8|Y[he+2]<<16)>>>0}function N(Y,he){return(Y[he+0]|Y[he+1]<<8|Y[he+2]<<16|Y[he+3]<<24)>>>0}new f;var y=[0],E=[0],j=[],A=new f,k=t,I=(function(Y,he){var D={},q=0,Q=!1,ie=0,ye=0;if(D.frames=[],!(function(O,B){for(var H=0;H<4;H++)if(O[B+H]!="RIFF".charCodeAt(H))return!0;return!1})(Y,he)){for(N(Y,he+=4),he+=8;he<Y.length;){var X=m(Y,he),le=N(Y,he+=4);he+=4;var se=le+(1&le);switch(X){case"VP8 ":case"VP8L":D.frames[q]===void 0&&(D.frames[q]={}),(G=D.frames[q]).src_off=Q?ye:he-8,G.src_size=ie+le+8,q++,Q&&(Q=!1,ie=0,ye=0);break;case"VP8X":(G=D.header={}).feature_flags=Y[he];var _e=he+4;G.canvas_width=1+x(Y,_e),_e+=3,G.canvas_height=1+x(Y,_e),_e+=3;break;case"ALPH":Q=!0,ie=se+8,ye=he-8;break;case"ANIM":(G=D.header).bgcolor=N(Y,he),_e=he+4,G.loop_count=v(Y,_e),_e+=2;break;case"ANMF":var Le,G;(G=D.frames[q]={}).offset_x=2*x(Y,he),he+=3,G.offset_y=2*x(Y,he),he+=3,G.width=1+x(Y,he),he+=3,G.height=1+x(Y,he),he+=3,G.duration=x(Y,he),he+=3,Le=Y[he++],G.dispose=1&Le,G.blend=Le>>1&1}X!="ANMF"&&(he+=se)}return D}})(k,0);I.response=k,I.rgbaoutput=!0,I.dataurl=!1;var P=I.header?I.header:null,M=I.frames?I.frames:null;if(P){P.loop_counter=P.loop_count,y=[P.canvas_height],E=[P.canvas_width];for(var ae=0;ae<M.length&&M[ae].blend!=0;ae++);}var ee=M[0],J=A.WebPDecodeRGBA(k,ee.src_off,ee.src_size,E,y);ee.rgba=J,ee.imgwidth=E[0],ee.imgheight=y[0];for(var W=0;W<E[0]*y[0]*4;W++)j[W]=J[W];return this.width=E,this.height=y,this.data=j,this}(function(t){var e,n,a,i,o,h,u,f,m,v=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new f,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new h,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new h,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,m=new v}]);var x=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=O;Object.defineProperty(this,"pdf",{get:function(){return B}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(K){H=!!K}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(K){ne=!!K}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(K){isNaN(K)||(oe=K)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(K){isNaN(K)||(ue=K)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(K){var Ke;typeof K=="number"?Ke=[K,K,K,K]:((Ke=new Array(4))[0]=K[0],Ke[1]=K.length>=2?K[1]:Ke[0],Ke[2]=K.length>=3?K[2]:Ke[0],Ke[3]=K.length>=4?K[3]:Ke[1]),m.margin=Ke}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(K){ge=K}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(K){we=K}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(K){Oe=K}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(K){K instanceof v&&(m=K)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(K){m.path=K}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(K){He=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var Ke;Ke=N(K),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var Ke=N(K);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var $e=null,Je=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(K){$e=null,Je=null,rt=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var Ke;if(this.ctx.font=K,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Se=Ke[1];Ke[2];var Ye=Ke[3],Re=Ke[4];Ke[5];var at=Ke[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(Ze==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var st=(function(gt){var Cn,Kt,At=[],Rt=gt.trim();if(Rt==="")return l0;if(Rt in Hb)return[Hb[Rt]];for(;Rt!=="";){switch(Kt=null,Cn=(Rt=Gb(Rt)).charAt(0)){case'"':case"'":Kt=q7(Rt.substring(1),Cn);break;default:Kt=H7(Rt)}if(Kt===null||(At.push(Kt[0]),(Rt=Gb(Kt[1]))!==""&&Rt.charAt(0)!==","))return l0;Rt=Rt.replace(/^,/,"")}return At})(at);if(this.fontFaces){var pt=(function(gt,Cn){var Kt=gt.getFontList(),At=JSON.stringify(Kt);if($e===null||Je!==At){var Rt=(function(Xt){var St=[];return Object.keys(Xt).forEach(function(xn){Xt[xn].forEach(function(wt){var Dt=null;switch(wt){case"bold":Dt={family:xn,weight:"bold"};break;case"italic":Dt={family:xn,style:"italic"};break;case"bolditalic":Dt={family:xn,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:xn}}Dt!==null&&(Dt.ref={name:xn,style:wt},St.push(Dt))})}),St})(Kt);$e=(function(Xt){for(var St={},xn=0;xn<Xt.length;++xn){var wt=o0(Xt[xn]),Dt=wt.family,Sn=wt.stretch,qt=wt.style,vt=wt.weight;St[Dt]=St[Dt]||{},St[Dt][Sn]=St[Dt][Sn]||{},St[Dt][Sn][qt]=St[Dt][Sn][qt]||{},St[Dt][Sn][qt][vt]=wt}return St})(Rt.concat(Cn)),Je=At}return $e})(this.pdf,this.fontFaces),Ft=st.map(function(gt){return{family:gt,stretch:"normal",weight:Ye,style:Se}}),Qt=(function(gt,Cn,Kt){for(var At=(Kt=Kt||{}).defaultFontFamily||"times",Rt=Object.assign({},F7,Kt.genericFontFamilies||{}),Xt=null,St=null,xn=0;xn<Cn.length;++xn)if(Rt[(Xt=o0(Cn[xn])).family]&&(Xt.family=Rt[Xt.family]),gt.hasOwnProperty(Xt.family)){St=gt[Xt.family];break}if(!(St=St||gt[At]))throw new Error("Could not find a font-family for the rule '"+Vb(Xt)+"' and default family '"+At+"'.");if(St=(function(wt,Dt){if(Dt[wt])return Dt[wt];var Sn=G0[wt],qt=Sn<=G0.normal?-1:1,vt=qb(Dt,ux,Sn,qt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+wt);return vt})(Xt.stretch,St),St=(function(wt,Dt){if(Dt[wt])return Dt[wt];for(var Sn=cx[wt],qt=0;qt<Sn.length;++qt)if(Dt[Sn[qt]])return Dt[Sn[qt]];throw new Error("Could not find a matching font-style for "+wt)})(Xt.style,St),!(St=(function(wt,Dt){if(Dt[wt])return Dt[wt];if(wt===400&&Dt[500])return Dt[500];if(wt===500&&Dt[400])return Dt[400];var Sn=z7[wt],qt=qb(Dt,dx,Sn,wt<400?-1:1);if(!qt)throw new Error("Could not find a matching font-weight for value "+wt);return qt})(Xt.weight,St)))throw new Error("Failed to resolve a font for the rule '"+Vb(Xt)+"'.");return St})(pt,Ft);this.pdf.setFont(Qt.ref.name,Qt.ref.style)}else{var Lt="";(Ye==="bold"||parseInt(Ye,10)>=700||Se==="bold")&&(Lt="bold"),Se==="italic"&&(Lt+="italic"),Lt.length===0&&(Lt="normal");for(var Zt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<st.length;lt++){if(this.pdf.internal.getFont(st[lt],Lt,{noFallback:!0,disableWarning:!0})!==void 0){Zt=st[lt];break}if(Lt==="bolditalic"&&this.pdf.internal.getFont(st[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Zt=st[lt],Lt="bold";else if(this.pdf.internal.getFont(st[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Zt=st[lt],Lt="normal";break}}if(Zt===""){for(var Et=0;Et<st.length;Et++)if(Ht[st[Et]]){Zt=Ht[st[Et]];break}}Zt=Zt===""?"Times":Zt,this.pdf.setFont(Zt,Lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};x.prototype.setLineDash=function(O){this.lineDash=O},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){M.call(this,"fill",!1)},x.prototype.stroke=function(){M.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(O,B){if(isNaN(O)||isNaN(B))throw Yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new h(O,B));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new h(O,B)},x.prototype.closePath=function(){var O=new h(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Pn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){O=new h(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(O.x,O.y)},x.prototype.lineTo=function(O,B){if(isNaN(O)||isNaN(B))throw Yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new h(O,B));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new h(H.x,H.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},x.prototype.quadraticCurveTo=function(O,B,H,ne){if(isNaN(H)||isNaN(ne)||isNaN(O)||isNaN(B))throw Yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new h(H,ne)),ue=this.ctx.transform.applyToPoint(new h(O,B));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new h(oe.x,oe.y)},x.prototype.bezierCurveTo=function(O,B,H,ne,oe,ue){if(isNaN(oe)||isNaN(ue)||isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne))throw Yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new h(oe,ue)),we=this.ctx.transform.applyToPoint(new h(O,B)),Oe=this.ctx.transform.applyToPoint(new h(H,ne));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Oe.x,y2:Oe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new h(ge.x,ge.y)},x.prototype.arc=function(O,B,H,ne,oe,ue){if(isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne)||isNaN(oe))throw Yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new h(O,B));O=ge.x,B=ge.y;var we=this.ctx.transform.applyToPoint(new h(0,H)),Oe=this.ctx.transform.applyToPoint(new h(0,0));H=Math.sqrt(Math.pow(we.x-Oe.x,2)+Math.pow(we.y-Oe.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:O,y:B,radius:H,startAngle:ne,endAngle:oe,counterclockwise:ue})},x.prototype.arcTo=function(O,B,H,ne,oe){throw new Error("arcTo not implemented.")},x.prototype.rect=function(O,B,H,ne){if(isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne))throw Yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,B),this.lineTo(O+H,B),this.lineTo(O+H,B+ne),this.lineTo(O,B+ne),this.lineTo(O,B),this.lineTo(O+H,B),this.lineTo(O,B)},x.prototype.fillRect=function(O,B,H,ne){if(isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne))throw Yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,B,H,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},x.prototype.strokeRect=function(O,B,H,ne){if(isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne))throw Yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(O,B,H,ne),this.stroke())},x.prototype.clearRect=function(O,B,H,ne){if(isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne))throw Yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,B,H,ne))},x.prototype.save=function(O){O=typeof O!="boolean"||O;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},x.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(B),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(O){var B,H,ne,oe;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))B=0,H=0,ne=0,oe=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ue!==null)B=parseInt(ue[1]),H=parseInt(ue[2]),ne=parseInt(ue[3]),oe=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)B=parseInt(ue[1]),H=parseInt(ue[2]),ne=parseInt(ue[3]),oe=parseFloat(ue[4]);else{if(oe=1,typeof O=="string"&&O.charAt(0)!=="#"){var ge=new nx(O);O=ge.ok?ge.toHex():"#000000"}O.length===4?(B=O.substring(1,2),B+=B,H=O.substring(2,3),H+=H,ne=O.substring(3,4),ne+=ne):(B=O.substring(1,3),H=O.substring(3,5),ne=O.substring(5,7)),B=parseInt(B,16),H=parseInt(H,16),ne=parseInt(ne,16)}}return{r:B,g:H,b:ne,a:oe,style:O}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(O,B,H,ne){if(isNaN(B)||isNaN(H)||typeof O!="string")throw Yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!y.call(this)){var oe=se(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;q.call(this,{text:O,x:B,y:H,scale:ue,angle:oe,align:this.textAlign,maxWidth:ne})}},x.prototype.strokeText=function(O,B,H,ne){if(isNaN(B)||isNaN(H)||typeof O!="string")throw Yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ne=isNaN(ne)?void 0:ne;var oe=se(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;q.call(this,{text:O,x:B,y:H,scale:ue,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},x.prototype.measureText=function(O){if(typeof O!="string")throw Yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,H=this.pdf.internal.scaleFactor,ne=B.internal.getFontSize(),oe=B.getStringUnitWidth(O)*ne/B.internal.scaleFactor;return new function(ue){var ge=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:oe*=Math.round(96*H/72*1e4)/1e4})},x.prototype.scale=function(O,B){if(isNaN(O)||isNaN(B))throw Yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new f(O,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},x.prototype.rotate=function(O){if(isNaN(O))throw Yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new f(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},x.prototype.translate=function(O,B){if(isNaN(O)||isNaN(B))throw Yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new f(1,0,0,1,O,B);this.ctx.transform=this.ctx.transform.multiply(H)},x.prototype.transform=function(O,B,H,ne,oe,ue){if(isNaN(O)||isNaN(B)||isNaN(H)||isNaN(ne)||isNaN(oe)||isNaN(ue))throw Yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new f(O,B,H,ne,oe,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},x.prototype.setTransform=function(O,B,H,ne,oe,ue){O=isNaN(O)?1:O,B=isNaN(B)?0:B,H=isNaN(H)?0:H,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,ue=isNaN(ue)?0:ue,this.ctx.transform=new f(O,B,H,ne,oe,ue)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(O,B,H,ne,oe,ue,ge,we,Oe){var He=this.pdf.getImageProperties(O),$e=1,Je=1,rt=1,K=1;ne!==void 0&&we!==void 0&&(rt=we/ne,K=Oe/oe,$e=He.width/ne*we/ne,Je=He.height/oe*Oe/oe),ue===void 0&&(ue=B,ge=H,B=0,H=0),ne!==void 0&&we===void 0&&(we=ne,Oe=oe),ne===void 0&&we===void 0&&(we=He.width,Oe=He.height);var Ke=this.ctx.transform.decompose(),Se=se(Ke.rotate.shx),Ye=new f,Re=(Ye=(Ye=(Ye=Ye.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new u(ue-B*rt,ge-H*K,ne*$e,oe*Je));if(this.autoPaging){for(var at,Ze=A.call(this,Re),st=[],pt=0;pt<Ze.length;pt+=1)st.indexOf(Ze[pt])===-1&&st.push(Ze[pt]);P(st);for(var Ft=st[0],Qt=st[st.length-1],Lt=Ft;Lt<Qt+1;Lt++){this.pdf.setPage(Lt);var Zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=Lt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Lt===1?0:lt+(Lt-2)*Et;if(this.ctx.clip_path.length!==0){var Cn=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(at,this.posX+this.margin[3],-gt+Ht+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=Cn}var Kt=JSON.parse(JSON.stringify(Re));Kt=I([Kt],this.posX+this.margin[3],-gt+Ht+this.ctx.prevPageLastElemOffset)[0];var At=(Lt>Ft||Lt<Qt)&&j.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,Et,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Se),At&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Se)};var A=function(O,B,H){var ne=[];B=B||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ne.push(Math.floor((O.y+oe)/H)+1);break;case"arc":ne.push(Math.floor((O.y+oe-O.radius)/H)+1),ne.push(Math.floor((O.y+oe+O.radius)/H)+1);break;case"qct":var ue=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ne.push(Math.floor((ue.y+oe)/H)+1),ne.push(Math.floor((ue.y+ue.h+oe)/H)+1);break;case"bct":var ge=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ne.push(Math.floor((ge.y+oe)/H)+1),ne.push(Math.floor((ge.y+ge.h+oe)/H)+1);break;case"rect":ne.push(Math.floor((O.y+oe)/H)+1),ne.push(Math.floor((O.y+O.h+oe)/H)+1)}for(var we=0;we<ne.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ne[we];)k.call(this);return ne},k=function(){var O=this.fillStyle,B=this.strokeStyle,H=this.font,ne=this.lineCap,oe=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=B,this.font=H,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=ue},I=function(O,B,H){for(var ne=0;ne<O.length;ne++)switch(O[ne].type){case"bct":O[ne].x2+=B,O[ne].y2+=H;case"qct":O[ne].x1+=B,O[ne].y1+=H;default:O[ne].x+=B,O[ne].y+=H}return O},P=function(O){return O.sort(function(B,H){return B-H})},M=function(O,B){var H=this.fillStyle,ne=this.strokeStyle,oe=this.lineCap,ue=this.lineWidth,ge=Math.abs(ue*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var Oe,He,$e=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),rt=[],K=0;K<Je.length;K++)if(Je[K].x!==void 0)for(var Ke=A.call(this,Je[K]),Se=0;Se<Ke.length;Se+=1)rt.indexOf(Ke[Se])===-1&&rt.push(Ke[Se]);for(var Ye=0;Ye<rt.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<rt[Ye];)k.call(this);P(rt);for(var Re=rt[0],at=rt[rt.length-1],Ze=Re;Ze<at+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=H,this.strokeStyle=ne,this.lineCap=oe,this.lineWidth=ge,this.lineJoin=we;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Ze===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Ze===1?0:Ft+(Ze-2)*Qt;if(this.ctx.clip_path.length!==0){var Zt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Oe,this.posX+this.margin[3],-Lt+pt+this.ctx.prevPageLastElemOffset),ae.call(this,O,!0),this.path=Zt}if(He=JSON.parse(JSON.stringify($e)),this.path=I(He,this.posX+this.margin[3],-Lt+pt+this.ctx.prevPageLastElemOffset),B===!1||Ze===0){var Ht=(Ze>Re||Ze<at)&&j.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Qt,null).clip().discardPath()),ae.call(this,O,B),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=$e}else this.lineWidth=ge,ae.call(this,O,B),this.lineWidth=ue},ae=function(O,B){if((O!=="stroke"||B||!E.call(this))&&(O==="stroke"||B||!y.call(this))){for(var H,ne,oe=[],ue=this.path,ge=0;ge<ue.length;ge++){var we=ue[ge];switch(we.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:we,deltas:[],abs:[]});break;case"lt":var Oe=oe.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(H=[we.x-ue[ge-1].x,we.y-ue[ge-1].y],Oe>0)){for(;Oe>=0;Oe--)if(oe[Oe-1].close!==!0&&oe[Oe-1].begin!==!0){oe[Oe-1].deltas.push(H),oe[Oe-1].abs.push(we);break}}break;case"bct":H=[we.x1-ue[ge-1].x,we.y1-ue[ge-1].y,we.x2-ue[ge-1].x,we.y2-ue[ge-1].y,we.x-ue[ge-1].x,we.y-ue[ge-1].y],oe[oe.length-1].deltas.push(H);break;case"qct":var He=ue[ge-1].x+2/3*(we.x1-ue[ge-1].x),$e=ue[ge-1].y+2/3*(we.y1-ue[ge-1].y),Je=we.x+2/3*(we.x1-we.x),rt=we.y+2/3*(we.y1-we.y),K=we.x,Ke=we.y;H=[He-ue[ge-1].x,$e-ue[ge-1].y,Je-ue[ge-1].x,rt-ue[ge-1].y,K-ue[ge-1].x,Ke-ue[ge-1].y],oe[oe.length-1].deltas.push(H);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(we)}}ne=B?null:O==="stroke"?"stroke":"fill";for(var Se=!1,Ye=0;Ye<oe.length;Ye++)if(oe[Ye].arc)for(var Re=oe[Ye].abs,at=0;at<Re.length;at++){var Ze=Re[at];Ze.type==="arc"?W.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,B,!Se):Q.call(this,Ze.x,Ze.y),Se=!0}else if(oe[Ye].close===!0)this.pdf.internal.out("h"),Se=!1;else if(oe[Ye].begin!==!0){var st=oe[Ye].start.x,pt=oe[Ye].start.y;ie.call(this,oe[Ye].deltas,st,pt),Se=!0}ne&&Y.call(this,ne),B&&he.call(this)}},ee=function(O){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-H;case"top":return O+B-H;case"hanging":return O+B-2*H;case"middle":return O+B/2-H;default:return O}},J=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(B,H){this.colorStops.push([B,H])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(O,B,H,ne,oe,ue,ge,we,Oe){for(var He=X.call(this,H,ne,oe,ue),$e=0;$e<He.length;$e++){var Je=He[$e];$e===0&&(Oe?D.call(this,Je.x1+O,Je.y1+B):Q.call(this,Je.x1+O,Je.y1+B)),ye.call(this,O,B,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}we?he.call(this):Y.call(this,ge)},Y=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},he=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(O,B){this.pdf.internal.out(n(O)+" "+a(B)+" m")},q=function(O){var B;switch(O.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var H,ne,oe,ue=this.pdf.getTextDimensions(O.text),ge=ee.call(this,O.y),we=J.call(this,ge)-ue.h,Oe=this.ctx.transform.applyToPoint(new h(O.x,ge));if(this.autoPaging){var He=this.ctx.transform.decompose(),$e=new f;$e=($e=($e=$e.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var Je=this.ctx.transform.applyToRectangle(new u(O.x,ge,ue.w,ue.h)),rt=$e.applyToRectangle(new u(O.x,we,ue.w,ue.h)),K=A.call(this,rt),Ke=[],Se=0;Se<K.length;Se+=1)Ke.indexOf(K[Se])===-1&&Ke.push(K[Se]);P(Ke);for(var Ye=Ke[0],Re=Ke[Ke.length-1],at=Ye;at<Re+1;at++){this.pdf.setPage(at);var Ze=at===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],Ft=pt-this.margin[0],Qt=this.pdf.internal.pageSize.width-this.margin[1],Lt=Qt-this.margin[3],Zt=at===1?0:st+(at-2)*Ft;if(this.ctx.clip_path.length!==0){var Ht=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(H,this.posX+this.margin[3],-1*Zt+Ze),ae.call(this,"fill",!0),this.path=Ht}var lt=I([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Zt+Ze+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*O.scale),oe=this.lineWidth,this.lineWidth=oe*O.scale);var Et=this.autoPaging!=="text";if(Et||lt.y+lt.h<=pt){if(Et||lt.y>=Ze&&lt.x<=Qt){var gt=Et?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Qt-lt.x)[0],Cn=I([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Zt+Ze+this.ctx.prevPageLastElemOffset)[0],Kt=Et&&(at>Ye||at<Re)&&j.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Ft,null).clip().discardPath()),this.pdf.text(gt,Cn.x,Cn.y,{angle:O.angle,align:B,renderingMode:O.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else lt.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-lt.y);O.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=oe)}}else O.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*O.scale),oe=this.lineWidth,this.lineWidth=oe*O.scale),this.pdf.text(O.text,Oe.x+this.posX,Oe.y+this.posY,{angle:O.angle,align:B,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=oe)},Q=function(O,B,H,ne){H=H||0,ne=ne||0,this.pdf.internal.out(n(O+H)+" "+a(B+ne)+" l")},ie=function(O,B,H){return this.pdf.lines(O,B,H,null,null)},ye=function(O,B,H,ne,oe,ue,ge,we){this.pdf.internal.out([e(i(H+O)),e(o(ne+B)),e(i(oe+O)),e(o(ue+B)),e(i(ge+O)),e(o(we+B)),"c"].join(" "))},X=function(O,B,H,ne){for(var oe=2*Math.PI,ue=Math.PI/2;B>H;)B-=oe;var ge=Math.abs(H-B);ge<oe&&ne&&(ge=oe-ge);for(var we=[],Oe=ne?-1:1,He=B;ge>1e-5;){var $e=He+Oe*Math.min(ge,ue);we.push(le.call(this,O,He,$e)),ge-=Math.abs($e-He),He=$e}return we},le=function(O,B,H){var ne=(H-B)/2,oe=O*Math.cos(ne),ue=O*Math.sin(ne),ge=oe,we=-ue,Oe=ge*ge+we*we,He=Oe+ge*oe+we*ue,$e=4/3*(Math.sqrt(2*Oe*He)-He)/(ge*ue-we*oe),Je=ge-$e*we,rt=we+$e*ge,K=Je,Ke=-rt,Se=ne+B,Ye=Math.cos(Se),Re=Math.sin(Se);return{x1:O*Math.cos(B),y1:O*Math.sin(B),x2:Je*Ye-rt*Re,y2:Je*Re+rt*Ye,x3:K*Ye-Ke*Re,y3:K*Re+Ke*Ye,x4:O*Math.cos(H),y4:O*Math.sin(H)}},se=function(O){return 180*O/Math.PI},_e=function(O,B,H,ne,oe,ue){var ge=O+.5*(H-O),we=B+.5*(ne-B),Oe=oe+.5*(H-oe),He=ue+.5*(ne-ue),$e=Math.min(O,oe,ge,Oe),Je=Math.max(O,oe,ge,Oe),rt=Math.min(B,ue,we,He),K=Math.max(B,ue,we,He);return new u($e,rt,Je-$e,K-rt)},Le=function(O,B,H,ne,oe,ue,ge,we){var Oe,He,$e,Je,rt,K,Ke,Se,Ye,Re,at,Ze,st,pt,Ft=H-O,Qt=ne-B,Lt=oe-H,Zt=ue-ne,Ht=ge-oe,lt=we-ue;for(He=0;He<41;He++)Ye=(Ke=($e=O+(Oe=He/40)*Ft)+Oe*((rt=H+Oe*Lt)-$e))+Oe*(rt+Oe*(oe+Oe*Ht-rt)-Ke),Re=(Se=(Je=B+Oe*Qt)+Oe*((K=ne+Oe*Zt)-Je))+Oe*(K+Oe*(ue+Oe*lt-K)-Se),He==0?(at=Ye,Ze=Re,st=Ye,pt=Re):(at=Math.min(at,Ye),Ze=Math.min(Ze,Re),st=Math.max(st,Ye),pt=Math.max(pt,Re));return new u(Math.round(at),Math.round(Ze),Math.round(st-at),Math.round(pt-Ze))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,B,H=(O=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:B}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Nt.API),(function(t){var e=function(h){var u,f,m,v,x,N,y,E,j,A;for(f=[],m=0,v=(h+=u="\0\0\0\0".slice(h.length%4||4)).length;v>m;m+=4)(x=(h.charCodeAt(m)<<24)+(h.charCodeAt(m+1)<<16)+(h.charCodeAt(m+2)<<8)+h.charCodeAt(m+3))!==0?(N=(x=((x=((x=((x=(x-(A=x%85))/85)-(j=x%85))/85)-(E=x%85))/85)-(y=x%85))/85)%85,f.push(N+33,y+33,E+33,j+33,A+33)):f.push(122);return(function(k,I){for(var P=I;P>0;P--)k.pop()})(f,u.length),String.fromCharCode.apply(String,f)+"~>"},n=function(h){var u,f,m,v,x,N=String,y="length",E=255,j="charCodeAt",A="slice",k="replace";for(h[A](-2),h=h[A](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),m=[],v=0,x=(h+=u="uuuuu"[A](h[y]%5||5))[y];x>v;v+=5)f=52200625*(h[j](v)-33)+614125*(h[j](v+1)-33)+7225*(h[j](v+2)-33)+85*(h[j](v+3)-33)+(h[j](v+4)-33),m.push(E&f>>24,E&f>>16,E&f>>8,E&f);return(function(I,P){for(var M=P;M>0;M--)I.pop()})(m,u[y]),N.fromCharCode.apply(N,m)},a=function(h){return h.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(h){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),u.test(h)===!1)return"";for(var f="",m=0;m<h.length;m+=2)f+=String.fromCharCode("0x"+(h[m]+h[m+1]));return f},o=function(h){for(var u=new Uint8Array(h.length),f=h.length;f--;)u[f]=h.charCodeAt(f);return(u=B0(u)).reduce(function(m,v){return m+String.fromCharCode(v)},"")};t.processDataByFilters=function(h,u){var f=0,m=h||"",v=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=i(m),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=a(m),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:m,reverseChain:v.reverse().join(" ")}}})(Nt.API),(function(t){t.loadFile=function(e,n,a){return(function(i,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var u=void 0;try{u=(function(f,m,v){var x=new XMLHttpRequest,N=0,y=function(E){var j=E.length,A=[],k=String.fromCharCode;for(N=0;N<j;N+=1)A.push(k(255&E.charCodeAt(N)));return A.join("")};if(x.open("GET",f,!m),x.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(x.onload=function(){x.status===200?v(y(this.responseText)):v(void 0)}),x.send(null),m&&x.status===200)return y(x.responseText)})(i,o,h)}catch{}return u})(e,n,a)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Nt.API),(function(t){function e(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):Hp(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):Hp(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var a=function(u){var f=Pn(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},i=function(u,f){var m=document.createElement(u);for(var v in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[v]=f.style[v];return m},o=function u(f,m){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)m!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||v.appendChild(u(x,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},h=function u(f){var m=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),v=u.convert(Promise.resolve(),m);return(v=v.setProgress(1,u,1,[u])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(u,f){return u.__proto__=f||h.prototype,u},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(u,f){return this.then(function(){switch(f=f||(function(m){switch(a(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),f){case"string":return this.then(n).then(function(m){return this.set({src:i("div",{innerHTML:u,dompurify:m})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},h.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var m=this.opt.jsPDF,v=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=v,v)for(var y=0;y<v.length;++y){var E=v[y],j=E.src.find(function(A){return A.format==="truetype"});j&&m.addFont(j.url,E.ref.name,E.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,m.context2d.save(!0),f(this.prop.container,N)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(u,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},h.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},h.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},h.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(u){if(a(u)!=="object")return this;var f=Object.keys(u||{}).map(function(m){if(m in h.template.prop)return function(){this.prop[m]=u[m]};switch(m){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[m]=u[m]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(u,f){return this.then(function(){var m=u in h.template.prop?this.prop[u]:this.opt[u];return f?f(m):m})},h.prototype.setMargin=function(u){return this.then(function(){switch(a(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},h.prototype.setPageSize=function(u){function f(m,v){return Math.floor(m*v/72*96)}return this.then(function(){(u=u||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},h.prototype.setProgress=function(u,f,m,v){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(u,f,m,v){return this.setProgress(u?this.progress.val+u:null,f||null,m?this.progress.n+m:null,v?this.progress.stack.concat(v):null)},h.prototype.then=function(u,f){var m=this;return this.thenCore(u,f,function(v,x){return m.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(N){return m.updateProgress(null,v),N}).then(v,x).then(function(N){return m.updateProgress(1),N})})},h.prototype.thenCore=function(u,f,m){m=m||Promise.prototype.then;var v=this;u&&(u=u.bind(v)),f&&(f=f.bind(v));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:h.convert(Object.assign({},v),Promise.prototype),N=m.call(x,u,f);return h.convert(N,v.__proto__)},h.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},h.prototype.thenList=function(u){var f=this;return u.forEach(function(m){f=f.thenCore(m)}),f},h.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return h.convert(f,this)},h.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},h.prototype.error=function(u){return this.then(function(){throw new Error(u)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Nt.getPageSize=function(u,f,m){if(Pn(u)==="object"){var v=u;u=v.orientation,f=v.unit||f,m=v.format||m}f=f||"mm",m=m||"a4",u=(""+(u||"P")).toLowerCase();var x,N=(""+m).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var E,j=0,A=0;if(y.hasOwnProperty(N))j=y[N][1]/x,A=y[N][0]/x;else try{j=m[1],A=m[0]}catch{throw new Error("Invalid format: "+m)}if(u==="p"||u==="portrait")u="p",A>j&&(E=A,A=j,j=E);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",j>A&&(E=A,A=j,j=E)}return{width:A,height:j,unit:f,k:x,orientation:u}},t.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(o0):null;var m=new h(f);return f.worker?m:m.from(u).doCallback()}})(Nt.API),Nt.API.addJS=function(t){return Wb=t,this.internal.events.subscribe("postPutResources",function(){_f=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_f+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$b=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Wb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_f!==void 0&&$b!==void 0&&this.internal.out("/Names <</JavaScript "+_f+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var h=i[o],u=a.exec(h);if(u!=null){var f=u[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(h)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,v=[];for(o=0;o<m;o++){var x=n.internal.newObject();v.push(x);var N=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<v.length;o++)n.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,i,o){var h={title:i,options:o,children:[]};return a==null&&(a=this.root),a.children.push(h),h},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var h=a.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var u=this.count=this.count_r({count:0},h);if(u>0&&this.line("/Count "+u),h.options&&h.options.pageNumber){var f=n.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var m=0;m<a.children.length;m++)this.renderItems(a.children[m])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,i){for(var o=0;o<i.children.length;o++)a.count++,this.count_r(a,i.children[o]);return a.count}}])})(Nt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,i,o,h,u){var f,m=this.decode.DCT_DECODE,v=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=h||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(x){for(var N,y=256*x.charCodeAt(4)+x.charCodeAt(5),E=x.length,j={width:0,height:0,numcomponents:1},A=4;A<E;A+=2){if(A+=y,e.indexOf(x.charCodeAt(A+1))!==-1){N=256*x.charCodeAt(A+5)+x.charCodeAt(A+6),j={width:256*x.charCodeAt(A+7)+x.charCodeAt(A+8),height:N,numcomponents:x.charCodeAt(A+9)};break}y=256*x.charCodeAt(A+2)+x.charCodeAt(A+3)}return j})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}v={data:n,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:m,index:a,alias:i}}return v}})(Nt.API),Nt.API.processPNG=function(t,e,n,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=A7(t,{checkCrc:!0}),h=o.width,u=o.height,f=o.channels,m=o.palette,v=o.depth;i=m&&f===1?(function(W){for(var Y=W.width,he=W.height,D=W.data,q=W.palette,Q=W.depth,ie=!1,ye=[],X=[],le=void 0,se=!1,_e=0,Le=0;Le<q.length;Le++){var G=Jv(q[Le],4),O=G[0],B=G[1],H=G[2],ne=G[3];ye.push(O,B,H),ne!=null&&(ne===0?(_e++,X.length<1&&X.push(Le)):ne<255&&(se=!0))}if(se||_e>1){ie=!0,X=void 0;var oe=Y*he;le=new Uint8Array(oe);for(var ue=new DataView(D.buffer),ge=0;ge<oe;ge++){var we=c0(ue,ge,Q),Oe=Jv(q[we],4)[3];le[ge]=Oe}}else _e===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:D,alphaBytes:le,needSMask:ie,palette:ye,mask:X}})(o):f===2||f===4?(function(W){for(var Y=W.data,he=W.width,D=W.height,q=W.channels,Q=W.depth,ie=q===2?"DeviceGray":"DeviceRGB",ye=q-1,X=he*D,le=ye,se=X*le,_e=1*X,Le=Math.ceil(se*Q/8),G=Math.ceil(_e*Q/8),O=new Uint8Array(Le),B=new Uint8Array(G),H=new DataView(Y.buffer),ne=new DataView(O.buffer),oe=new DataView(B.buffer),ue=!1,ge=0;ge<X;ge++){for(var we=ge*q,Oe=0;Oe<le;Oe++)ny(ne,c0(H,we+Oe,Q),ge*le+Oe,Q);var He=c0(H,we+le,Q);He<(1<<Q)-1&&(ue=!0),ny(oe,He,1*ge,Q)}return{colorSpace:ie,colorsPerPixel:ye,sMaskBitsPerComponent:ue?Q:void 0,colorBytes:O,alphaBytes:B,needSMask:ue}})(o):(function(W){var Y=W.data,he=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:he,colorsPerPixel:he==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(D){for(var q=D.length,Q=new Uint8Array(2*q),ie=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),ye=0;ye<q;ye++)ie.setUint16(2*ye,D[ye],!1);return Q})(Y):Y,needSMask:!1}})(o);var x,N,y,E=i,j=E.colorSpace,A=E.colorsPerPixel,k=E.sMaskBitsPerComponent,I=E.colorBytes,P=E.alphaBytes,M=E.needSMask,ae=E.palette,ee=E.mask,J=null;return a!==Nt.API.image_compression.NONE&&typeof B0=="function"?(J=(function(W){var Y;switch(W){case Nt.API.image_compression.FAST:Y=11;break;case Nt.API.image_compression.MEDIUM:Y=13;break;case Nt.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(a),x=this.decode.FLATE_DECODE,N="/Predictor ".concat(J," /Colors ").concat(A," /BitsPerComponent ").concat(v," /Columns ").concat(h),t=Jb(I,Math.ceil(h*A*v/8),A,v,a),M&&(y=Jb(P,Math.ceil(h*k/8),1,k,a))):(x=void 0,N=void 0,t=I,M&&(y=P)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:t,index:e,filter:x,decodeParameters:N,transparency:ee,palette:ae,sMask:y,predictor:J,width:h,height:u,bitsPerComponent:v,sMaskBitsPerComponent:k,colorSpace:j}}},(function(t){t.processGIF89A=function(e,n,a,i){var o=new W7(e),h=o.width,u=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:h,height:u},v=new u0(100).encode(m,100);return t.processJPEG.call(this,v,n,a,i)},t.processGIF87A=t.processGIF89A})(Nt.API),Ai.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:a,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ai.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Yn.log("bit decode error:"+n)}},Ai.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),h=a*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var f=this.palette[o>>7-u&1];this.data[h+4*u]=f.blue,this.data[h+4*u+1]=f.green,this.data[h+4*u+2]=f.red,this.data[h+4*u+3]=255}n!==0&&(this.pos+=4-n)}},Ai.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),h=a*this.width*4+2*i*4,u=o>>4,f=15&o,m=this.palette[u];if(this.data[h]=m.blue,this.data[h+1]=m.green,this.data[h+2]=m.red,this.data[h+3]=255,2*i+1>=this.width)break;m=this.palette[f],this.data[h+4]=m.blue,this.data[h+4+1]=m.green,this.data[h+4+2]=m.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Ai.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*a;if(i<this.palette.length){var h=this.palette[i];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ai.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,m=o>>15?255:0,v=a*this.width*4+4*i;this.data[v]=f,this.data[v+1]=u,this.data[v+2]=h,this.data[v+3]=m}this.pos+=t}},Ai.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(h&e)/e*255|0,f=(h>>5&n)/n*255|0,m=(h>>11)/e*255|0,v=i*this.width*4+4*o;this.data[v]=m,this.data[v+1]=f,this.data[v+2]=u,this.data[v+3]=255}this.pos+=t}},Ai.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*n;this.data[h]=o,this.data[h+1]=i,this.data[h+2]=a,this.data[h+3]=255}this.pos+=this.width%4}},Ai.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=a,this.data[u+3]=h}},Ai.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,a,i){var o=new Ai(e,!1),h=o.width,u=o.height,f={data:o.getData(),width:h,height:u},m=new u0(100).encode(f,100);return t.processJPEG.call(this,m,n,a,i)}})(Nt.API),ay.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,a,i){var o=new ay(e),h=o.width,u=o.height,f={data:o.getData(),width:h,height:u},m=new u0(100).encode(f,100);return t.processJPEG.call(this,m,n,a,i)}})(Nt.API),Nt.API.processRGBA=function(t,e,n){for(var a=t.data,i=a.length,o=new Uint8Array(i/4*3),h=new Uint8Array(i/4),u=0,f=0,m=0;m<i;m+=4){var v=a[m],x=a[m+1],N=a[m+2],y=a[m+3];o[u++]=v,o[u++]=x,o[u++]=N,h[f++]=y}var E=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lu=Nt.API,Nf=Lu.getCharWidthsArray=function(t,e){var n,a,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,f=u.fof?u.fof:1,m=e.kerning?e.kerning:i.metadata.Unicode.kerning,v=m.fof?m.fof:1,x=e.doKerning!==!1,N=0,y=t.length,E=0,j=u[0]||f,A=[];for(n=0;n<y;n++)a=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+h*(1e3/o)||0)/1e3):(N=x&&Pn(m[a])==="object"&&!isNaN(parseInt(m[a][E],10))?m[a][E]/v:0,A.push((u[a]||j)/f+N)),E=a;return A},Yb=Lu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Lu.processArabic&&(t=Lu.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,i)/n:Nf.apply(this,arguments).reduce(function(o,h){return o+h},0)},Kb=function(t,e,n,a){for(var i=[],o=0,h=t.length,u=0;o!==h&&u+e[o]<n;)u+=e[o],o++;i.push(t.slice(0,o));var f=o;for(u=0;o!==h;)u+e[o]>a&&(i.push(t.slice(f,o)),u=0,f=o),u+=e[o],o++;return f!==o&&i.push(t.slice(f,o)),i},Xb=function(t,e,n){n||(n={});var a,i,o,h,u,f,m,v=[],x=[v],N=n.textIndent||0,y=0,E=0,j=t.split(" "),A=Nf.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?j[0].length+2:n.lineIndent||0){var k=Array(f).join(" "),I=[];j.map(function(M){(M=M.split(/\s*\n/)).length>1?I=I.concat(M.map(function(ae,ee){return(ee&&ae.length?`
`:"")+ae})):I.push(M[0])}),j=I,f=Yb.apply(this,[k,n])}for(o=0,h=j.length;o<h;o++){var P=0;if(a=j[o],f&&a[0]==`
`&&(a=a.substr(1),P=1),N+y+(E=(i=Nf.apply(this,[a,n])).reduce(function(M,ae){return M+ae},0))>e||P){if(E>e){for(u=Kb.apply(this,[a,i,e-(N+y),e]),v.push(u.shift()),v=[u.pop()];u.length;)x.push([u.shift()]);E=i.slice(a.length-(v[0]?v[0].length:0)).reduce(function(M,ae){return M+ae},0)}else v=[a];x.push(v),N=E+f,y=A}else v.push(a),N+=y+E,y=A}return m=f?function(M,ae){return(ae?k:"")+M.join(" ")}:function(M){return M.join(" ")},x.map(m)},Lu.splitTextToSize=function(t,e,n){var a,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var x=this.internal.getFont(v.fontName,v.fontStyle),N="Unicode";return x.metadata[N]?{widths:x.metadata[N].widths||{0:1},kerning:x.metadata[N].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var u,f,m=[];for(u=0,f=a.length;u<f;u++)m=m.concat(Xb.apply(this,[a[u],h,o]));return m},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},i={},o=0;o<16;o++)a[n[o]]=e[o],i[e[o]]=n[o];var h=function(N){return"0x"+parseInt(N,10).toString(16)},u=t.__fontmetrics__.compress=function(N){var y,E,j,A,k=["{"];for(var I in N){if(y=N[I],isNaN(parseInt(I,10))?E="'"+I+"'":(I=parseInt(I,10),E=(E=h(I).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof y=="number")y<0?(j=h(y).slice(3),A="-"):(j=h(y).slice(2),A=""),j=A+j.slice(0,-1)+i[j.slice(-1)];else{if(Pn(y)!=="object")throw new Error("Don't know what to do with value type "+Pn(y)+".");j=u(y)}k.push(E+j)}return k.push("}"),k.join("")},f=t.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,E,j,A,k={},I=1,P=k,M=[],ae="",ee="",J=N.length-1,W=1;W<J;W+=1)(A=N[W])=="'"?y?(j=y.join(""),y=void 0):y=[]:y?y.push(A):A=="{"?(M.push([P,j]),P={},j=void 0):A=="}"?((E=M.pop())[0][E[1]]=P,j=void 0,P=E[0]):A=="-"?I=-1:j===void 0?a.hasOwnProperty(A)?(ae+=a[A],j=parseInt(ae,16)*I,I=1,ae=""):ae+=A:a.hasOwnProperty(A)?(ee+=a[A],P[j]=parseInt(ee,16)*I,I=1,j=void 0,ee=""):ee+=A;return k},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(N){var y=N.font,E=x.Unicode[y.postScriptName];E&&(y.metadata.Unicode={},y.metadata.Unicode.widths=E.widths,y.metadata.Unicode.kerning=E.kerning);var j=v.Unicode[y.postScriptName];j&&(y.metadata.Unicode.encoding=j,y.encoding=j.codePages[0])}])})(Nt.API),(function(t){var e=function(n){for(var a=n.length,i=new Uint8Array(a),o=0;o<a;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var a=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(h,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Cf(u)),h.metadata=t.API.TTFFont.open(u),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(i,a)}}])})(Nt),Nt.API.addSvgAsImage=function(t,e,n,a,i,o,h,u){if(isNaN(e)||isNaN(n))throw Yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=i;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(zt.canvg?Promise.resolve(zt.canvg):Hp(()=>import("./index.es-buLzEROX.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(m,t,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(v)}).then(function(){x.addImage(f.toDataURL("image/jpeg",1),e,n,a,i,h,u)})},Nt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(e,n);return this},Nt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var a,i,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(h),f=[],m=0,v=0,x=0;function N(E,j){var A,k=!1;for(A=0;A<E.length;A+=1)E[A]===j&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=u.length;for(x=0;x<y;x+=1)n[u[x]].value=n[u[x]].defaultValue,n[u[x]].explicitSet=!1}if(Pn(t)==="object"){for(i in t)if(o=t[i],N(u,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&N(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(m=0;m<o.length;m+=1)if(a=!0,o[m].length===1&&typeof o[m][0]=="number")f.push(String(o[m]-1));else if(o[m].length>1){for(v=0;v<o[m].length;v+=1)typeof o[m][v]!="number"&&(a=!1);a===!0&&f.push([o[m][0]-1,o[m][1]-1].join(" "))}n[i].value="["+f.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,j=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?j.push("/"+E+" /"+n[E].value):j.push("/"+E+" "+n[E].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+h.length+u.length+i.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(i+o+h+u+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Nt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(o,h){for(var u,f=h.metadata.Unicode.widths,m=["","0","00","000","0000"],v=[""],x=0,N=o.length;x<N;++x){if(u=h.metadata.characterToGlyph(o.charCodeAt(x)),h.metadata.glyIdsUsed.push(u),h.metadata.toUnicode[u]=o.charCodeAt(x),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(h.metadata.widthOfGlyph(u),10)])),u=="0")return v.join("");u=u.toString(16),v.push(m[4-u.length],u)}return v.join("")},a=function(o){var h,u,f,m,v,x,N;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],x=0,N=(u=Object.keys(o).sort(function(y,E){return y-E})).length;x<N;x++)h=u[x],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(m=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+m+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var u=h.font,f=h.out,m=h.newObject,v=h.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,N=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",E=0;E<N.length;E++)y+=String.fromCharCode(N[E]);var j=m();v({data:y,addLength1:!0,objectId:j}),f("endobj");var A=m();v({data:a(u.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var k=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Bu(u.fontName)),f("/FontFile2 "+j+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var I=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+Bu(u.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+t.API.PDFObject.convert(x)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+A+" 0 R"),f("/BaseFont /"+Bu(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var u=h.font,f=h.out,m=h.newObject,v=h.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,N="",y=0;y<x.length;y++)N+=String.fromCharCode(x[y]);var E=m();v({data:N,addLength1:!0,objectId:E}),f("endobj");var j=m();v({data:a(u.metadata.toUnicode),addLength1:!0,objectId:j}),f("endobj");var A=m();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+E+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+Bu(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=m();for(var k=0;k<u.metadata.hmtx.widths.length;k++)u.metadata.hmtx.widths[k]=parseInt(u.metadata.hmtx.widths[k]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Bu(u.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(o)}]);var i=function(o){var h,u=o.text||"",f=o.x,m=o.y,v=o.options||{},x=o.mutex||{},N=x.pdfEscape,y=x.activeFontKey,E=x.fonts,j=y,A="",k=0,I="",P=E[j].encoding;if(E[j].encoding!=="Identity-H")return{text:u,x:f,y:m,options:v,mutex:x};for(I=u,j=y,Array.isArray(u)&&(I=u[0]),k=0;k<I.length;k+=1)E[j].metadata.hasOwnProperty("cmap")&&(h=E[j].metadata.cmap.unicode.codeMap[I[k].charCodeAt(0)]),h||I[k].charCodeAt(0)<256&&E[j].metadata.hasOwnProperty("Unicode")?A+=I[k]:A+="";var M="";return parseInt(j.slice(1))<14||P==="WinAnsiEncoding"?M=N(A,j).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(M=n(A,E[j])),x.isHex=!0,{text:M,x:f,y:m,options:v,mutex:x}};e.events.push(["postProcessText",function(o){var h=o.text||"",u=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var m=0;for(m=0;m<h.length;m+=1)Array.isArray(h[m])&&h[m].length===3?u.push([i(Object.assign({},f,{text:h[m][0]})).text,h[m][1],h[m][2]]):u.push(i(Object.assign({},f,{text:h[m]})).text);o.text=u}else o.text=i(Object.assign({},f,{text:h})).text}])})(Nt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Nt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var i,o,h,u,f,m,v,x=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,P=0;this.__bidiEngine__={};var M=function(D){var q=D.charCodeAt(),Q=q>>8,ie=j[Q];return ie!==void 0?x[256*ie+(255&q)]:Q===252||Q===253?"AL":k.test(Q)?"L":Q===8?"R":"N"},ae=function(D){for(var q,Q=0;Q<D.length;Q++){if((q=M(D.charAt(Q)))==="L")return!1;if(q==="R")return!0}return!1},ee=function(D,q,Q,ie){var ye,X,le,se,_e=q[ie];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(_e="AN");break;case"AL":I=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":ie<1||ie+1>=q.length||(ye=Q[ie-1])!=="EN"&&ye!=="AN"||(X=q[ie+1])!=="EN"&&X!=="AN"?_e="N":I&&(X="AN"),_e=X===ye?X:"N";break;case"ES":_e=(ye=ie>0?Q[ie-1]:"B")==="EN"&&ie+1<q.length&&q[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&Q[ie-1]==="EN"){_e="EN";break}if(I){_e="N";break}for(le=ie+1,se=q.length;le<se&&q[le]==="ET";)le++;_e=le<se&&q[le]==="EN"?"EN":"N";break;case"NSM":if(h&&!u){for(se=q.length,le=ie+1;le<se&&q[le]==="NSM";)le++;if(le<se){var Le=D[ie],G=Le>=1425&&Le<=2303||Le===64286;if(ye=q[le],G&&(ye==="R"||ye==="AL")){_e="R";break}}}_e=ie<1||(ye=q[ie-1])==="B"?"N":Q[ie-1];break;case"B":I=!1,i=!0,_e=P;break;case"S":o=!0,_e="N"}return _e},J=function(D,q,Q){var ie=D.split("");return Q&&W(ie,Q,{hiLevel:P}),ie.reverse(),q&&q.reverse(),ie.join("")},W=function(D,q,Q){var ie,ye,X,le,se,_e=-1,Le=D.length,G=0,O=[],B=P?y:N,H=[];for(I=!1,i=!1,o=!1,ye=0;ye<Le;ye++)H[ye]=M(D[ye]);for(X=0;X<Le;X++){if(se=G,O[X]=ee(D,H,O,X),ie=240&(G=B[se][E[O[X]]]),G&=15,q[X]=le=B[G][5],ie>0)if(ie===16){for(ye=_e;ye<X;ye++)q[ye]=1;_e=-1}else _e=-1;if(B[G][6])_e===-1&&(_e=X);else if(_e>-1){for(ye=_e;ye<X;ye++)q[ye]=le;_e=-1}H[X]==="B"&&(q[X]=0),Q.hiLevel|=le}o&&(function(ne,oe,ue){for(var ge=0;ge<ue;ge++)if(ne[ge]==="S"){oe[ge]=P;for(var we=ge-1;we>=0&&ne[we]==="WS";we--)oe[we]=P}})(H,q,Le)},Y=function(D,q,Q,ie,ye){if(!(ye.hiLevel<D)){if(D===1&&P===1&&!i)return q.reverse(),void(Q&&Q.reverse());for(var X,le,se,_e,Le=q.length,G=0;G<Le;){if(ie[G]>=D){for(se=G+1;se<Le&&ie[se]>=D;)se++;for(_e=G,le=se-1;_e<le;_e++,le--)X=q[_e],q[_e]=q[le],q[le]=X,Q&&(X=Q[_e],Q[_e]=Q[le],Q[le]=X);G=se}G++}}},he=function(D,q,Q){var ie=D.split(""),ye={hiLevel:P};return Q||(Q=[]),W(ie,Q,ye),(function(X,le,se){if(se.hiLevel!==0&&v)for(var _e,Le=0;Le<X.length;Le++)le[Le]===1&&(_e=A.indexOf(X[Le]))>=0&&(X[Le]=A[_e+1])})(ie,Q,ye),Y(2,ie,q,Q,ye),Y(1,ie,q,Q,ye),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(D,q,Q){if((function(ye,X){if(X)for(var le=0;le<ye.length;le++)X[le]=le;u===void 0&&(u=ae(ye)),m===void 0&&(m=ae(ye))})(D,q),h||!f||m)if(h&&f&&u^m)P=u?1:0,D=J(D,q,Q);else if(!h&&f&&m)P=u?1:0,D=he(D,q,Q),D=J(D,q);else if(!h||u||f||m){if(h&&!f&&u^m)D=J(D,q),u?(P=0,D=he(D,q,Q)):(P=1,D=he(D,q,Q),D=J(D,q));else if(h&&u&&!f&&m)P=1,D=he(D,q,Q),D=J(D,q);else if(!h&&!f&&u^m){var ie=v;u?(P=1,D=he(D,q,Q),P=0,v=!1,D=he(D,q,Q),v=ie):(P=0,D=he(D,q,Q),D=J(D,q),P=1,v=!1,D=he(D,q,Q),v=ie,D=J(D,q))}}else P=0,D=he(D,q,Q);else P=u?1:0,D=he(D,q,Q);return D},this.__bidiEngine__.setOptions=function(D){D&&(h=D.isInputVisual,f=D.isOutputVisual,u=D.isInputRtl,m=D.isOutputRtl,v=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(h=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?h.push([n.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):h.push([n.doBidiReorder(i[u])]);a.text=h}else a.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Pl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new lC(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Y7(this.contents),this.head=new X7(this),this.name=new tC(this),this.cmap=new fx(this),this.toUnicode={},this.hhea=new J7(this),this.maxp=new nC(this),this.hmtx=new rC(this),this.post=new Z7(this),this.os2=new Q7(this),this.loca=new oC(this),this.glyf=new aC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,a,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,u,f,m;for(m=[],h=0,u=(f=this.bbox).length;h<u;h++)e=f[h],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,a){var i,o,h,u;for(h=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)i=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/n)||0;return h*(n/1e3)},t.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t})();var Di,Pl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var n,a,i;for(i=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,a,i,o,h,u,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),h=this.readByte(),u=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^o)+65536*(255^h)+256*(255^u)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*i+16777216*o+65536*h+256*u+f},t.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(e){var n,a,i,o;for(o=[],a=0,i=e.length;a<i;a++)n=e[a],o.push(this.writeByte(n));return o},t})(),Y7=(function(){var t;function e(n){var a,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,i,o,h,u,f,m,v,x,N,y,E,j;for(j in y=Object.keys(n).length,f=Math.log(2),x=16*Math.floor(Math.log(y)/f),h=Math.floor(x/f),v=16*y-x,(i=new Pl).writeInt(this.scalarType),i.writeShort(y),i.writeShort(x),i.writeShort(h),i.writeShort(v),o=16*y,m=i.pos+o,u=null,E=[],n)for(N=n[j],i.writeString(j),i.writeInt(t(N)),i.writeInt(m),i.writeInt(N.length),E=E.concat(N),j==="head"&&(u=m),m+=N.length;m%4;)E.push(0),m++;return i.write(E),a=2981146554-t(i.data),i.pos=u+8,i.writeUInt32(a),i.data},t=function(n){var a,i,o,h;for(n=mx.call(n);n.length%4;)n.push(0);for(o=new Pl(n),i=0,a=0,h=n.length;a<h;a=a+=4)i+=o.readUInt32();return 4294967295&i},e})(),K7={}.hasOwnProperty,lo=function(t,e){for(var n in e)K7.call(e,n)&&(t[n]=e[n]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};Di=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var X7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Pl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),sy=(function(){function t(e,n){var a,i,o,h,u,f,m,v,x,N,y,E,j,A,k,I,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),N=y/2,e.pos+=6,o=(function(){var M,ae;for(ae=[],f=M=0;0<=N?M<N:M>N;f=0<=N?++M:--M)ae.push(e.readUInt16());return ae})(),e.pos+=2,j=(function(){var M,ae;for(ae=[],f=M=0;0<=N?M<N:M>N;f=0<=N?++M:--M)ae.push(e.readUInt16());return ae})(),m=(function(){var M,ae;for(ae=[],f=M=0;0<=N?M<N:M>N;f=0<=N?++M:--M)ae.push(e.readUInt16());return ae})(),v=(function(){var M,ae;for(ae=[],f=M=0;0<=N?M<N:M>N;f=0<=N?++M:--M)ae.push(e.readUInt16());return ae})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var M,ae;for(ae=[],f=M=0;0<=i?M<i:M>i;f=0<=i?++M:--M)ae.push(e.readUInt16());return ae})(),f=k=0,P=o.length;k<P;f=++k)for(A=o[f],a=I=E=j[f];E<=A?I<=A:I>=A;a=E<=A?++I:--I)v[f]===0?h=a+m[f]:(h=u[v[f]/2+(a-E)-(N-f)]||0)!==0&&(h+=m[f]),this.codeMap[a]=65535&h}e.pos=x}return t.encode=function(e,n){var a,i,o,h,u,f,m,v,x,N,y,E,j,A,k,I,P,M,ae,ee,J,W,Y,he,D,q,Q,ie,ye,X,le,se,_e,Le,G,O,B,H,ne,oe,ue,ge,we,Oe,He,$e;switch(ie=new Pl,h=Object.keys(e).sort(function(Je,rt){return Je-rt}),n){case"macroman":for(j=0,A=(function(){var Je=[];for(E=0;E<256;++E)Je.push(0);return Je})(),I={0:0},o={},ye=0,_e=h.length;ye<_e;ye++)I[we=e[i=h[ye]]]==null&&(I[we]=++j),o[i]={old:e[i],new:I[e[i]]},A[i]=I[e[i]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(A),{charMap:o,subtable:ie.data,maxGlyphID:j+1};case"unicode":for(q=[],x=[],P=0,I={},a={},k=m=null,X=0,Le=h.length;X<Le;X++)I[ae=e[i=h[X]]]==null&&(I[ae]=++P),a[i]={old:ae,new:I[ae]},u=I[ae]-i,k!=null&&u===m||(k&&x.push(k),q.push(i),m=u),k=i;for(k&&x.push(k),x.push(65535),q.push(65535),he=2*(Y=q.length),W=2*Math.pow(Math.log(Y)/Math.LN2,2),N=Math.log(W/2)/Math.LN2,J=2*Y-W,f=[],ee=[],y=[],E=le=0,G=q.length;le<G;E=++le){if(D=q[E],v=x[E],D===65535){f.push(0),ee.push(0);break}if(D-(Q=a[D].new)>=32768)for(f.push(0),ee.push(2*(y.length+Y-E)),i=se=D;D<=v?se<=v:se>=v;i=D<=v?++se:--se)y.push(a[i].new);else f.push(Q-D),ee.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*Y+2*y.length),ie.writeUInt16(0),ie.writeUInt16(he),ie.writeUInt16(W),ie.writeUInt16(N),ie.writeUInt16(J),ue=0,O=x.length;ue<O;ue++)i=x[ue],ie.writeUInt16(i);for(ie.writeUInt16(0),ge=0,B=q.length;ge<B;ge++)i=q[ge],ie.writeUInt16(i);for(Oe=0,H=f.length;Oe<H;Oe++)u=f[Oe],ie.writeUInt16(u);for(He=0,ne=ee.length;He<ne;He++)M=ee[He],ie.writeUInt16(M);for($e=0,oe=y.length;$e<oe;$e++)j=y[$e],ie.writeUInt16(j);return{charMap:a,subtable:ie.data,maxGlyphID:P+1}}},t})(),fx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,a,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new sy(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var a,i;return n==null&&(n="macroman"),a=sy.encode(e,n),(i=new Pl).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t})(),J7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Q7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Z7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="post",t.prototype.parse=function(e){var n,a,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var h,u,f;for(f=[],o=h=0,u=this.file.maxp.numGlyphs;0<=u?h<u:h>u;o=0<=u?++h:--h)f.push(e.readUInt32());return f}).call(this)}},t})(),eC=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},tC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="name",t.prototype.parse=function(e){var n,a,i,o,h,u,f,m,v,x,N;for(e.pos=this.offset,e.readShort(),n=e.readShort(),u=e.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},o=v=0,x=a.length;v<x;o=++v)i=a[o],e.pos=i.offset,m=e.readString(i.length),h=new eC(m,i),f[N=i.nameID]==null&&(f[N]=[]),f[i.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),nC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),rC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,a,i,o,h,u,f;for(e.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,v;for(v=[],n=m=0;0<=i?m<i:m>i;n=0<=i?++m:--m)v.push(e.readInt16());return v})(),this.widths=(function(){var m,v,x,N;for(N=[],m=0,v=(x=this.metrics).length;m<v;m++)o=x[m],N.push(o.advance);return N}).call(this),a=this.widths[this.widths.length-1],f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),mx=[].slice,aC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,a,i,o,h,u,f,m,v,x;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,h=(u=new Pl(n.read(i))).readShort(),m=u.readShort(),x=u.readShort(),f=u.readShort(),v=u.readShort(),this.cache[e]=h===-1?new iC(u,m,x,f,v):new sC(u,h,m,x,f,v),this.cache[e]))},t.prototype.encode=function(e,n,a){var i,o,h,u,f;for(h=[],o=[],u=0,f=n.length;u<f;u++)i=e[n[u]],o.push(h.length),i&&(h=h.concat(i.encode(a)));return o.push(h.length),{table:h,offsets:o}},t})(),sC=(function(){function t(e,n,a,i,o,h){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=i,this.xMax=o,this.yMax=h,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),iC=(function(){function t(e,n,a,i,o){var h,u;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;u=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&u;)h.pos+=1&u?4:2,128&u?h.pos+=8:64&u?h.pos+=4:8&u&&(h.pos+=2)}return t.prototype.encode=function(){var e,n,a;for(n=new Pl(mx.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),oC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Di),t.prototype.tag="loca",t.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,h=0;h<a.length;++h)if(a[h]=i,o<n.length&&n[o]==h){++o,a[h]=i;var u=this.offsets[h],f=this.offsets[h+1]-u;f>0&&(i+=f)}for(var m=new Array(4*a.length),v=0;v<a.length;++v)m[4*v+3]=255&a[v],m[4*v+2]=(65280&a[v])>>8,m[4*v+1]=(16711680&a[v])>>16,m[4*v]=(4278190080&a[v])>>24;return m},t})(),lC=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,a,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)a=o[n],e[n]=i[a];return e},t.prototype.glyphsFor=function(e){var n,a,i,o,h,u,f;for(i={},h=0,u=e.length;h<u;h++)i[o=e[h]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(a=i[o])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(o in f=this.glyphsFor(n))a=f[o],i[o]=a;return i},t.prototype.encode=function(e,n){var a,i,o,h,u,f,m,v,x,N,y,E,j,A,k;for(i in a=fx.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),y={0:0},k=a.charMap)y[(f=k[i]).old]=f.new;for(E in N=a.maxGlyphID,h)E in y||(y[E]=N++);return v=(function(I){var P,M;for(P in M={},I)M[I[P]]=P;return M})(y),x=Object.keys(v).sort(function(I,P){return I-P}),j=(function(){var I,P,M;for(M=[],I=0,P=x.length;I<P;I++)u=x[I],M.push(v[u]);return M})(),o=this.font.glyf.encode(h,j,y),m=this.font.loca.encode(o.offsets,j),A={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t})();Nt.API.PDFObject=(function(){var t;function e(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,i,o,h;if(Array.isArray(n))return"["+(function(){var u,f,m;for(m=[],u=0,f=n.length;u<f;u++)a=n[u],m.push(e.convert(a));return m})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)h=n[i],o.push("/"+i+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+n},e})();function px(t,e,n,a,i){a=a||{};var o=1.15,h=i.internal.scaleFactor,u=i.internal.getFontSize()/h,f=i.getLineHeightFactor?i.getLineHeightFactor():o,m=u*f,v=/\r\n|\r|\n/g,x="",N=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(x=typeof t=="string"?t.split(v):t,N=x.length||1),n+=u*(2-o),a.valign==="middle"?n-=N/2*m:a.valign==="bottom"&&(n-=N*m),a.halign==="center"||a.halign==="right"){var y=u;if(a.halign==="center"&&(y*=.5),x&&N>=1){for(var E=0;E<x.length;E++)i.text(x[E],e-i.getStringUnitWidth(x[E])*y,n),n+=m;return i}e-=i.getStringUnitWidth(t)*y}return a.halign==="justify"?i.text(t,e,n,{maxWidth:a.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var iy={},Ku=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:iy=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var a,i,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var h=this.jsPDFDocument.internal.getFont(),u=h.fontStyle,f=h.fontName;if(e.font&&(f=e.font),e.fontStyle){u=e.fontStyle;var m=this.getFontList()[f];m&&m.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),u=m[0])}if(this.jsPDFDocument.setFont(f,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var v=t.unifyColor(e.fillColor);v&&(a=this.jsPDFDocument).setFillColor.apply(a,v),v=t.unifyColor(e.textColor),v&&(i=this.jsPDFDocument).setTextColor.apply(i,v),v=t.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,a){return this.jsPDFDocument.splitTextToSize(e,n,a)},t.prototype.rect=function(e,n,a,i,o){return this.jsPDFDocument.rect(e,n,a,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return iy||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),$0=function(t,e){return $0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},$0(t,e)};function gx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vx=(function(t){gx(e,t);function e(n){var a=t.call(this)||this;return a._element=n,a}return e})(Array);function cC(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function uC(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Yf(t,e,n){n.applyStyles(e,!0);var a=Array.isArray(t)?t:[t],i=a.map(function(o){return n.getTextWidth(o)}).reduce(function(o,h){return Math.max(o,h)},0);return i}function bx(t,e,n,a){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var h=yx(i,!1);h&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),a.y-n.y,h)}function yx(t,e){var n=t>0,a=e||e===0;return n&&a?"DF":n?"S":a?"F":null}function im(t,e){var n,a,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(a=t.top)!==null&&a!==void 0?a:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function xx(t,e){var n=im(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function dC(t,e,n,a,i){var o={},h=1.3333333333333333,u=d0(e,function(P){return i.getComputedStyle(P).backgroundColor});u!=null&&(o.fillColor=u);var f=d0(e,function(P){return i.getComputedStyle(P).color});f!=null&&(o.textColor=f);var m=fC(a,n);m&&(o.cellPadding=m);var v="borderTopColor",x=h*n,N=a.borderTopWidth;if(a.borderBottomWidth===N&&a.borderRightWidth===N&&a.borderLeftWidth===N){var y=(parseFloat(N)||0)/x;y&&(o.lineWidth=y)}else o.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/x,right:(parseFloat(a.borderRightWidth)||0)/x,bottom:(parseFloat(a.borderBottomWidth)||0)/x,left:(parseFloat(a.borderLeftWidth)||0)/x},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var E=d0(e,function(P){return i.getComputedStyle(P)[v]});E!=null&&(o.lineColor=E);var j=["left","right","center","justify"];j.indexOf(a.textAlign)!==-1&&(o.halign=a.textAlign),j=["middle","bottom","top"],j.indexOf(a.verticalAlign)!==-1&&(o.valign=a.verticalAlign);var A=parseInt(a.fontSize||"");isNaN(A)||(o.fontSize=A/h);var k=hC(a);k&&(o.fontStyle=k);var I=(a.fontFamily||"").toLowerCase();return t.indexOf(I)!==-1&&(o.font=I),o}function hC(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function d0(t,e){var n=wx(t,e);if(!n)return null;var a=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var i=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],o=parseInt(a[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function wx(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:wx(t.parentElement,e):n}function fC(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],a=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(u){return parseInt(u||"0")/a}),h=im(o,0);return i>h.top&&(h.top=i),i>h.bottom&&(h.bottom=i),h}function _x(t,e,n,a,i){var o,h;a===void 0&&(a=!1),i===void 0&&(i=!1);var u;typeof e=="string"?u=n.document.querySelector(e):u=e;var f=Object.keys(t.getFontList()),m=t.scaleFactor(),v=[],x=[],N=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:v,body:x,foot:N};for(var y=0;y<u.rows.length;y++){var E=u.rows[y],j=(h=(o=E?.parentElement)===null||o===void 0?void 0:o.tagName)===null||h===void 0?void 0:h.toLowerCase(),A=mC(f,m,n,E,a,i);A&&(j==="thead"?v.push(A):j==="tfoot"?N.push(A):x.push(A))}return{head:v,body:x,foot:N}}function mC(t,e,n,a,i,o){for(var h=new vx(a),u=0;u<a.cells.length;u++){var f=a.cells[u],m=n.getComputedStyle(f);if(i||m.display!=="none"){var v=void 0;o&&(v=dC(t,f,e,m,n)),h.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:v,_element:f,content:pC(f)})}}var x=n.getComputedStyle(a);if(h.length>0&&(i||x.display!=="none"))return h}function pC(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function gC(t,e,n){for(var a=0,i=[t,e,n];a<i.length;a++){var o=i[a];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Ho(t,e,n,a,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),h=1;h<arguments.length;h++){var u=arguments[h];if(u!=null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])}return o}function Nx(t,e){var n=new Ku(t),a=n.getDocumentOptions(),i=n.getGlobalOptions();gC(i,a,e);var o=Ho({},i,a,e),h;typeof window<"u"&&(h=window);var u=vC(i,a,e),f=bC(i,a,e),m=yC(n,o),v=wC(n,o,h);return{id:e.tableId,content:v,hooks:f,styles:u,settings:m}}function vC(t,e,n){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(f){if(f==="columnStyles"){var m=t[f],v=e[f],x=n[f];a.columnStyles=Ho({},m,v,x)}else{var N=[t,e,n],y=N.map(function(E){return E[f]||{}});a[f]=Ho({},y[0],y[1],y[2])}},o=0,h=Object.keys(a);o<h.length;o++){var u=h[o];i(u)}return a}function bC(t,e,n){for(var a=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,h=a;o<h.length;o++){var u=h[o];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function yC(t,e){var n,a,i,o,h,u,f,m,v,x,N,y,E=im(e.margin,40/t.scaleFactor()),j=(n=xC(t,e.startY))!==null&&n!==void 0?n:E.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(a=e.showFoot)!==null&&a!==void 0?a:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var I=(o=e.useCss)!==null&&o!==void 0?o:!1,P=e.theme||(I?"plain":"striped"),M=!!e.horizontalPageBreak,ae=(h=e.horizontalPageBreakRepeat)!==null&&h!==void 0?h:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:I,theme:P,startY:j,margin:E,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(m=e.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:k,showFoot:A,tableLineWidth:(x=e.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(N=e.tableLineColor)!==null&&N!==void 0?N:200,horizontalPageBreak:M,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function xC(t,e){var n=t.getLastAutoTable(),a=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var h=n.startPageNumber+n.pageNumber-1;o=h===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&n?.finalY!=null?n.finalY+20/a:null}function wC(t,e,n){var a=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var h=e.includeHiddenHtml;if(n){var u=_x(t,e.html,n,h,e.useCss)||{};a=u.head||a,i=u.body||a,o=u.foot||a}else console.error("Cannot parse html in non browser environment")}var f=e.columns||_C(a,i,o);return{columns:f,head:a,body:i,foot:o}}function _C(t,e,n){var a=t[0]||e[0]||n[0]||[],i=[];return Object.keys(a).filter(function(o){return o!=="_element"}).forEach(function(o){var h=1,u;Array.isArray(a)?u=a[parseInt(o)]:u=a[o],typeof u=="object"&&!Array.isArray(u)&&(h=u?.colSpan||1);for(var f=0;f<h;f++){var m=void 0;Array.isArray(a)?m=i.length:m=o+(f>0?"_".concat(f):"");var v={dataKey:m};i.push(v)}}),i}var W0=(function(){function t(e,n,a){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=a,this.doc=e.getDocument()}return t})(),NC=(function(t){gx(e,t);function e(n,a,i,o,h,u){var f=t.call(this,n,a,u)||this;return f.cell=i,f.row=o,f.column=h,f.section=o.section,f}return e})(W0),SC=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,a){return n+a.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,a){return n+a.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,a,i,o,h){for(var u=0,f=n;u<f.length;u++){var m=f[u],v=new NC(e,this,a,i,o,h),x=m(v)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],x)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var a=0,i=this.hooks.didDrawPage;a<i.length;a++){var o=i[a];o(new W0(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var a=0,i=this.hooks.willDrawPage;a<i.length;a++){var o=i[a];o(new W0(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var a=this.settings.margin;return e-a.left-a.right}},t})(),Sx=(function(){function t(e,n,a,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof vx&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=a,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(a,i){var o;return Math.max(a,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(a){var i=n.cells[a.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var a=this;return e.reduce(function(i,o){var h=a.cells[o.index];if(!h)return 0;var u=n.getLineHeight(h.styles.fontSize),f=h.padding("vertical"),m=f+u;return m>i?m:i},0)},t})(),jx=(function(){function t(e,n,a){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=a,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var h=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=h.split(u)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");a=this.x+i/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var a=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,o=a*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=im(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),jC=(function(){function t(e,n,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=a}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,a=0,i=e.allRows();a<i.length;a++){var o=i[a],h=o.cells[this.index];h&&typeof h.styles.cellWidth=="number"&&(n=Math.max(n,h.styles.cellWidth))}return n},t})();function AC(t,e){kC(t,e);var n=[],a=0;e.columns.forEach(function(o){var h=o.getMaxCustomCellWidth(e);h?o.width=h:(o.width=o.wrappedWidth,n.push(o)),a+=o.width});var i=e.getWidth(t.pageSize().width)-a;i&&(i=Y0(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=Y0(n,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),EC(e),TC(e,t),CC(e)}function kC(t,e){var n=t.scaleFactor(),a=e.settings.horizontalPageBreak,i=xx(t,e);e.allRows().forEach(function(o){for(var h=0,u=e.columns;h<u.length;h++){var f=u[h],m=o.cells[f.index];if(m){var v=e.hooks.didParseCell;e.callCellHooks(t,v,m,o,f,null);var x=m.padding("horizontal");m.contentWidth=Yf(m.text,m.styles,t)+x;var N=Yf(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,t);if(m.minReadableWidth=N+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||a===!0)m.contentWidth>i?(m.minWidth=i,m.wrappedWidth=i):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var y=10/n;m.minWidth=m.styles.minCellWidth||y,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),e.allRows().forEach(function(o){for(var h=0,u=e.columns;h<u.length;h++){var f=u[h],m=o.cells[f.index];if(m&&m.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,m.wrappedWidth),f.minWidth=Math.max(f.minWidth,m.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,m.minReadableWidth);else{var v=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},x=v.cellWidth||v.minCellWidth;x&&typeof x=="number"&&(f.minWidth=x,f.wrappedWidth=x)}m&&(m.colSpan>1&&!f.minWidth&&(f.minWidth=m.minWidth),m.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=m.minWidth))}})}function Y0(t,e,n){for(var a=e,i=t.reduce(function(y,E){return y+E.wrappedWidth},0),o=0;o<t.length;o++){var h=t[o],u=h.wrappedWidth/i,f=a*u,m=h.width+f,v=n(h),x=m<v?v:m;e-=x-h.width,h.width=x}if(e=Math.round(e*1e10)/1e10,e){var N=t.filter(function(y){return e<0?y.width>n(y):!0});N.length&&(e=Y0(N,e,n))}return e}function CC(t){for(var e={},n=1,a=t.allRows(),i=0;i<a.length;i++)for(var o=a[i],h=0,u=t.columns;h<u.length;h++){var f=u[h],m=e[f.index];if(n>1)n--,delete o.cells[f.index];else if(m)m.cell.height+=o.height,n=m.cell.colSpan,delete o.cells[f.index],m.left--,m.left<=1&&delete e[f.index];else{var v=o.cells[f.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var x=a.length-i,N=v.rowSpan>x?x:v.rowSpan;e[f.index]={cell:v,left:N,row:o}}}}}function EC(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var a=e[n],i=null,o=0,h=0,u=0;u<t.columns.length;u++){var f=t.columns[u];if(h-=1,h>1&&t.columns[u+1])o+=f.width,delete a.cells[f.index];else if(i){var m=i;delete a.cells[f.index],i=null,m.width=f.width+o}else{var m=a.cells[f.index];if(!m)continue;if(h=m.colSpan,o=0,m.colSpan>1){i=m,o+=f.width;continue}m.width=f.width+o}}}function TC(t,e){for(var n={count:0,height:0},a=0,i=t.allRows();a<i.length;a++){for(var o=i[a],h=0,u=t.columns;h<u.length;h++){var f=u[h],m=o.cells[f.index];if(m){e.applyStyles(m.styles,!0);var v=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=e.splitTextToSize(m.text,v+1/e.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=oy(m.text,v,m.styles,e,"...");else if(m.styles.overflow==="hidden")m.text=oy(m.text,v,m.styles,e,"");else if(typeof m.styles.overflow=="function"){var x=m.styles.overflow(m.text,v);typeof x=="string"?m.text=[x]:m.text=x}m.contentHeight=m.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var N=m.contentHeight/m.rowSpan;m.rowSpan>1&&n.count*n.height<N*m.rowSpan?n={height:N,count:m.rowSpan}:n&&n.count>0&&n.height>N&&(N=n.height),N>o.height&&(o.height=N)}}n.count--}}function oy(t,e,n,a,i){return t.map(function(o){return OC(o,e,n,a,i)})}function OC(t,e,n,a,i){var o=1e4*a.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Yf(t,n,a))return t;for(;e<Yf(t+i,n,a)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Ax(t,e){var n=new Ku(t),a=LC(e,n.scaleFactor()),i=new SC(e,a);return AC(n,i),n.applyStyles(n.userStyles),i}function LC(t,e){var n=t.content,a=MC(n.columns);if(n.head.length===0){var i=ly(a,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=ly(a,"foot");i&&n.foot.push(i)}var o=t.settings.theme,h=t.styles;return{columns:a,head:h0("head",n.head,a,h,o,e),body:h0("body",n.body,a,h,o,e),foot:h0("foot",n.foot,a,h,o,e)}}function h0(t,e,n,a,i,o){var h={},u=e.map(function(f,m){for(var v=0,x={},N=0,y=0,E=0,j=n;E<j.length;E++){var A=j[E];if(h[A.index]==null||h[A.index].left===0)if(y===0){var k=void 0;Array.isArray(f)?k=f[A.index-N-v]:k=f[A.dataKey];var I={};typeof k=="object"&&!Array.isArray(k)&&(I=k?.styles||{});var P=DC(t,A,m,i,a,o,I),M=new jx(k,P,t);x[A.dataKey]=M,x[A.index]=M,y=M.colSpan-1,h[A.index]={left:M.rowSpan-1,times:y}}else y--,N++;else h[A.index].left--,y=h[A.index].times,v++}return new Sx(f,m,t,x)});return u}function ly(t,e){var n={};return t.forEach(function(a){if(a.raw!=null){var i=RC(e,a.raw);i!=null&&(n[a.dataKey]=i)}}),Object.keys(n).length>0?n:null}function RC(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function MC(t){return t.map(function(e,n){var a,i;return typeof e=="object"?i=(a=e.dataKey)!==null&&a!==void 0?a:n:i=n,new jC(i,e,n)})}function DC(t,e,n,a,i,o,h){var u=uC(a),f;t==="head"?f=i.headStyles:t==="body"?f=i.bodyStyles:t==="foot"&&(f=i.footStyles);var m=Ho({},u.table,u[t],i.styles,f),v=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},x=t==="body"?v:{},N=t==="body"&&n%2===0?Ho({},u.alternateRow,i.alternateRowStyles):{},y=cC(o),E=Ho({},y,m,N,x);return Ho(E,h)}function PC(t,e,n){var a;n===void 0&&(n={});var i=xx(t,e),o=new Map,h=[],u=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(N){var y=e.columns.find(function(E){return E.dataKey===N||E.index===N});y&&!o.has(y.index)&&(o.set(y.index,!0),h.push(y.index),u.push(e.columns[y.index]),i-=y.wrappedWidth)});for(var m=!0,v=(a=n?.start)!==null&&a!==void 0?a:0;v<e.columns.length;){if(o.has(v)){v++;continue}var x=e.columns[v].wrappedWidth;if(m||i>=x)m=!1,h.push(v),u.push(e.columns[v]),i-=x;else break;v++}return{colIndexes:h,columns:u,lastIndex:v-1}}function IC(t,e){for(var n=[],a=0;a<e.columns.length;a++){var i=PC(t,e,{start:a});i.columns.length&&(n.push(i),a=i.lastIndex)}return n}function kx(t,e){var n=e.settings,a=n.startY,i=n.margin,o={x:i.left,y:a},h=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=a+i.bottom+h;if(n.pageBreak==="avoid"){var f=e.body,m=f.reduce(function(N,y){return N+y.height},0);u+=m}var v=new Ku(t);(n.pageBreak==="always"||n.startY!=null&&u>v.pageSize().height)&&(Ex(v),o.y=i.top),e.callWillDrawPageHooks(v,o);var x=Ho({},o);e.startPageNumber=v.pageNumber(),n.horizontalPageBreak?BC(v,e,x,o):(v.applyStyles(v.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(N){return Wo(v,e,N,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(N,y){var E=y===e.body.length-1;Kf(v,e,N,E,x,o,e.columns)}),v.applyStyles(v.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(N){return Wo(v,e,N,o,e.columns)})),bx(v,e,x,o),e.callEndPageHooks(v,o),e.finalY=o.y,t.lastAutoTable=e,v.applyStyles(v.userStyles)}function BC(t,e,n,a){var i=IC(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(m,v){t.applyStyles(t.userStyles),v>0?Yd(t,e,n,a,m.columns,!0):cy(t,e,a,m.columns),UC(t,e,n,a,m.columns),f0(t,e,a,m.columns)});else for(var h=-1,u=i[0],f=function(){var m=h;if(u){t.applyStyles(t.userStyles);var v=u.columns;h>=0?Yd(t,e,n,a,v,!0):cy(t,e,a,v),m=uy(t,e,h+1,a,v),f0(t,e,a,v)}var x=m-h;i.slice(1).forEach(function(N){t.applyStyles(t.userStyles),Yd(t,e,n,a,N.columns,!0),uy(t,e,h+1,a,N.columns,x),f0(t,e,a,N.columns)}),h=m};h<e.body.length-1;)f()}function cy(t,e,n,a){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return Wo(t,e,o,n,a)})}function UC(t,e,n,a,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,h){var u=h===e.body.length-1;Kf(t,e,o,u,n,a,i)})}function uy(t,e,n,a,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var h=Math.min(n+o,e.body.length),u=-1;return e.body.slice(n,h).forEach(function(f,m){var v=n+m===e.body.length-1,x=Cx(t,e,v,a);f.canEntireRowFit(x,i)&&(Wo(t,e,f,a,i),u=n+m)}),u}function f0(t,e,n,a){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return Wo(t,e,o,n,a)})}function zC(t,e,n){var a=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/a);return Math.max(0,o)}function FC(t,e,n,a){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,h=0,u=n.columns;h<u.length;h++){var f=u[h],m=t.cells[f.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var v=new jx(m.raw,m.styles,m.section);v=Ho(v,m),v.text=[];var x=zC(m,e,a);m.text.length>x&&(v.text=m.text.splice(x,m.text.length));var N=a.scaleFactor(),y=a.getLineHeightFactor();m.contentHeight=m.getContentHeight(N,y),m.contentHeight>=e&&(m.contentHeight=e,v.styles.minCellHeight-=e),m.contentHeight>t.height&&(t.height=m.contentHeight),v.contentHeight=v.getContentHeight(N,y),v.contentHeight>o&&(o=v.contentHeight),i[f.index]=v}}var E=new Sx(t.raw,-1,t.section,i,!0);E.height=o;for(var j=0,A=n.columns;j<A.length;j++){var f=A[j],v=E.cells[f.index];v&&(v.height=E.height);var m=t.cells[f.index];m&&(m.height=t.height)}return E}function qC(t,e,n,a){var i=t.pageSize().height,o=a.settings.margin,h=o.top+o.bottom,u=i-h;e.section==="body"&&(u-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var f=e.getMinimumRowHeight(a.columns,t),m=f<n;if(f>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var v=e.hasRowSpan(a.columns),x=e.getMaxCellHeight(a.columns)>u;return x?(v&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||a.settings.rowPageBreak==="avoid")}function Kf(t,e,n,a,i,o,h){var u=Cx(t,e,a,o);if(n.canEntireRowFit(u,h))Wo(t,e,n,o,h);else if(qC(t,n,u,e)){var f=FC(n,u,e,t);Wo(t,e,n,o,h),Yd(t,e,i,o,h),Kf(t,e,f,a,i,o,h)}else Yd(t,e,i,o,h),Kf(t,e,n,a,i,o,h)}function Wo(t,e,n,a,i){a.x=e.settings.margin.left;for(var o=0,h=i;o<h.length;o++){var u=h[o],f=n.cells[u.index];if(!f){a.x+=u.width;continue}t.applyStyles(f.styles),f.x=a.x,f.y=a.y;var m=e.callCellHooks(t,e.hooks.willDrawCell,f,n,u,a);if(m===!1){a.x+=u.width;continue}HC(t,f,a);var v=f.getTextPos();px(f.text,v.x,v.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,f,n,u,a),a.x+=u.width}a.y+=n.height}function HC(t,e,n){var a=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof a.lineWidth=="number"){var i=yx(a.lineWidth,a.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof a.lineWidth=="object"&&(a.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),VC(t,e,n,a.lineWidth))}function VC(t,e,n,a){var i,o,h,u;a.top&&(i=n.x,o=n.y,h=n.x+e.width,u=n.y,a.right&&(h+=.5*a.right),a.left&&(i-=.5*a.left),f(a.top,i,o,h,u)),a.bottom&&(i=n.x,o=n.y+e.height,h=n.x+e.width,u=n.y+e.height,a.right&&(h+=.5*a.right),a.left&&(i-=.5*a.left),f(a.bottom,i,o,h,u)),a.left&&(i=n.x,o=n.y,h=n.x,u=n.y+e.height,a.top&&(o-=.5*a.top),a.bottom&&(u+=.5*a.bottom),f(a.left,i,o,h,u)),a.right&&(i=n.x+e.width,o=n.y,h=n.x+e.width,u=n.y+e.height,a.top&&(o-=.5*a.top),a.bottom&&(u+=.5*a.bottom),f(a.right,i,o,h,u));function f(m,v,x,N,y){t.getDocument().setLineWidth(m),t.getDocument().line(v,x,N,y,"S")}}function Cx(t,e,n,a){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-a.y-i}function Yd(t,e,n,a,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return Wo(t,e,u,a,i)}),e.callEndPageHooks(t,a);var h=e.settings.margin;bx(t,e,n,a),Ex(t),e.pageNumber++,a.x=h.left,a.y=h.top,n.y=h.top,e.callWillDrawPageHooks(t,a),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Wo(t,e,u,a,i)}),t.applyStyles(t.userStyles))}function Ex(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function GC(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=e[0],i=Nx(this,a),o=Ax(this,i);return kx(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,a,i){px(e,n,a,i,this)},t.API.autoTableSetDefaults=function(e){return Ku.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Ku.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var a;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ku(this),o=_x(i,e,window,n,!1),h=o.head,u=o.body,f=((a=h[0])===null||a===void 0?void 0:a.map(function(m){return m.content}))||[];return{columns:f,rows:u,data:u}}}var m0;function dy(t,e){var n=Nx(t,e),a=Ax(t,n);kx(t,a)}try{if(typeof window<"u"&&window){var hy=window,fy=hy.jsPDF||((m0=hy.jspdf)===null||m0===void 0?void 0:m0.jsPDF);fy&&GC(fy)}}catch(t){console.error("Could not apply autoTable plugin",t)}const my={overallScore:96,coolingCompliance:98},py=[{id:"1",date:"2026-01-15",type:"Daily Self-Check",score:100,status:"passed",findings:0},{id:"2",date:"2026-01-14",type:"Daily Self-Check",score:95,status:"passed",findings:1},{id:"3",date:"2026-01-10",type:"FSAI Inspection",score:96,status:"passed",findings:2},{id:"4",date:"2026-01-07",type:"Internal Audit",score:92,status:"action-needed",findings:3}],$C=[{id:"1",category:"Cooling Records",items:12,completed:12,status:"complete"},{id:"2",category:"Temperature Logs",items:24,completed:23,status:"in-progress"},{id:"3",category:"Staff Training",items:8,completed:8,status:"complete"},{id:"4",category:"Equipment Calibration",items:6,completed:5,status:"in-progress"},{id:"5",category:"Cleaning Records",items:15,completed:15,status:"complete"},{id:"6",category:"Supplier Documentation",items:10,completed:10,status:"complete"}];function WC({onBack:t}){const[e,n]=Ee.useState(!1),[a,i]=Ee.useState(qp),[o,h]=Ee.useState(!1),{currentSite:u}=qa(),f=N=>{i(N),n(!0)},m=()=>{h(!0);const N=new Nt;N.setFontSize(22),N.setTextColor(40,40,40),N.text("Kitchen Compliance Report",14,20),N.setFontSize(12),N.setTextColor(100,100,100),N.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),N.text("Location: Dublin City Centre Branch",14,36),N.setDrawColor(200,200,200),N.line(14,45,196,45),N.setFontSize(14),N.setTextColor(0,0,0),N.text("Compliance Summary",14,55),dy(N,{startY:60,head:[["Metric","Score","Status"]],body:[["Overall Score","96%","Excellent"],["Cooling Compliance","98%","Passing"],["Temp. Checks","94%","Passing"],["Documentation","97%","Passing"]],theme:"grid",headStyles:{fillColor:[66,66,66]}});const y=N.lastAutoTable.finalY||60;N.text("Recent Audit Logs",14,y+15),dy(N,{startY:y+20,head:[["Date","Type","Score","Status","Findings"]],body:py.map(j=>[j.date,j.type,`${j.score}%`,j.status.toUpperCase(),j.findings.toString()]),theme:"striped",headStyles:{fillColor:[41,128,185]}});const E=N.internal.getNumberOfPages();for(let j=1;j<=E;j++)N.setPage(j),N.setFontSize(10),N.setTextColor(150),N.text("Kitchen Ops - Official FSAI Compliance Record",14,285),N.text(`Page ${j} of ${E}`,190,285,{align:"right"});N.save(`compliance-report-${new Date().toISOString().split("T")[0]}.pdf`),h(!1),xt.success("Report downloaded successfully")},v=async N=>{if(u?.id)try{await bA(u.id,a.id,N,"app"),xt.success("Log saved to cloud successfully!")}catch(y){console.error("Save failed",y),xt.error("Failed to save log to cloud.")}else xt.info("No site selected, log saved locally (mock)");n(!1)};if(e)return c.jsxs("div",{className:"min-h-screen bg-theme-primary text-theme-primary p-6 md:p-12 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("button",{onClick:()=>n(!1),className:"p-3 rounded-full hover:bg-theme-ghost transition-colors",children:c.jsx(oo,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-light tracking-tight",children:"New Entry"}),c.jsxs("p",{className:"text-theme-muted font-light",children:["Compliance Log  ",a.region]})]})]}),c.jsx("div",{className:"card-stunning p-6",children:c.jsx(mA,{schema:a,onSave:v})})]});const x=N=>N>=95?"text-green-500":N>=80?"text-amber-500":"text-red-500";return c.jsxs("div",{className:"min-h-screen bg-theme-primary text-theme-primary transition-colors duration-300",children:[c.jsx("div",{className:"sticky top-0 z-10 bg-glass-heavy border-b border-theme-primary p-4 md:p-6 backdrop-blur-md",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-3 rounded-xl hover:bg-theme-ghost text-theme-secondary hover:text-theme-primary transition-colors",children:c.jsx(oo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-theme-primary to-theme-secondary",children:"Compliance"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),c.jsx("p",{className:"text-theme-muted font-medium text-xs uppercase tracking-wider",children:"Live Monitoring"})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:m,disabled:o,className:"btn-stunning btn-ghost flex items-center gap-2",children:[c.jsx(eg,{size:18}),o?"Generating...":"Export Report"]}),c.jsxs("button",{onClick:()=>f(qp),className:"btn-stunning btn-primary flex items-center gap-2",children:[c.jsx(io,{size:18}),"New Log Entry"]})]})]})}),c.jsxs("div",{className:"p-6 md:p-10 max-w-7xl mx-auto space-y-10 pb-24",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("button",{onClick:()=>f(qp),className:"p-4 text-left card-stunning hover:border-theme-secondary transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-500 rounded-lg group-hover:bg-blue-500 group-hover:text-white transition-colors",children:c.jsx(Js,{size:20})}),c.jsx("span",{className:"font-semibold",children:"Temperature Log"})]}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Fridges, Freezers & Blast Chillers"})]}),c.jsxs("button",{onClick:()=>f(gA),className:"p-4 text-left card-stunning hover:border-theme-secondary transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-emerald-500/10 text-emerald-500 rounded-lg group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:c.jsx(ag,{size:20})}),c.jsx("span",{className:"font-semibold",children:"Cleaning Schedule"})]}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Daily, Weekly & Deep Clean Tasks"})]}),c.jsxs("button",{onClick:()=>f(vA),className:"p-4 text-left card-stunning hover:border-theme-secondary transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-purple-500/10 text-purple-500 rounded-lg group-hover:bg-purple-500 group-hover:text-white transition-colors",children:c.jsx(Pf,{size:20})}),c.jsx("span",{className:"font-semibold",children:"Staff Training"})]}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Induction & Allergen Certs"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"card-stunning p-6 flex flex-col justify-between h-40 group",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xs font-bold text-theme-muted uppercase tracking-wider",children:"Overall Score"})}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsxs("span",{className:"text-5xl font-light tracking-tighter text-theme-primary",children:[my.overallScore,"%"]}),c.jsx(Hu,{className:"w-6 h-6 text-emerald-500 mb-2 group-hover:scale-110 transition-transform"})]})]}),c.jsxs("div",{className:"card-stunning p-6 flex flex-col justify-between h-40 group",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xs font-bold text-theme-muted uppercase tracking-wider",children:"Cooling Safety"})}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsxs("span",{className:"text-5xl font-light tracking-tighter text-theme-primary",children:[my.coolingCompliance,"%"]}),c.jsx(rg,{className:"w-6 h-6 text-blue-500 mb-2 group-hover:scale-110 transition-transform"})]})]}),c.jsxs("div",{className:"card-stunning p-6 flex flex-col justify-between h-40 group",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-bold text-theme-muted uppercase tracking-wider",children:"Next Audit"}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Scheduled Inspection"})]}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("span",{className:"text-2xl font-light text-theme-primary",children:"Feb 15"}),c.jsx(Q0,{className:"w-6 h-6 text-theme-muted mb-2"})]})]}),c.jsxs("div",{className:"p-6 rounded-2xl border border-red-500/20 bg-red-500/5 shadow-sm flex flex-col justify-between h-40",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xs font-bold text-red-500 uppercase tracking-wider",children:"Action Needed"})}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("span",{className:"text-4xl font-light tracking-tighter text-red-500",children:"3"}),c.jsx("div",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-xs font-bold",children:"URGENT"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("h2",{className:"text-xl font-light tracking-tight text-theme-primary flex items-center gap-2",children:[c.jsx(Z0,{className:"w-5 h-5 text-theme-muted"}),"Daily Tasks"]}),c.jsx("div",{className:"space-y-3",children:$C.map(N=>c.jsxs("div",{className:"group card-stunning p-4 cursor-pointer flex items-center justify-between hover:scale-[1.01] transition-transform",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:Ie("w-10 h-10 rounded-full flex items-center justify-center transition-colors",N.status==="complete"?"bg-emerald-500/10 text-emerald-500":"bg-theme-ghost text-theme-muted"),children:N.status==="complete"?c.jsx(Jd,{size:20}):c.jsx(Oi,{size:20})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-theme-primary",children:N.category}),c.jsxs("p",{className:"text-sm text-theme-muted",children:[N.completed,"/",N.items," verified"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-24 h-1.5 bg-theme-ghost rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-theme-primary rounded-full",style:{width:`${N.completed/N.items*100}%`}})}),c.jsx(YC,{className:"w-4 h-4 text-theme-muted opacity-0 group-hover:opacity-100 transition-opacity"})]})]},N.id))})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h2",{className:"text-xl font-light tracking-tight text-theme-primary flex items-center gap-2",children:[c.jsx(Ty,{className:"w-5 h-5 text-theme-muted"}),"Recent Logs"]}),c.jsx("div",{className:"bg-theme-ghost rounded-2xl p-1 border border-theme-primary",children:py.map(N=>c.jsxs("div",{className:"p-4 hover:bg-theme-card rounded-xl transition-colors border-b border-theme-ghost last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:"font-medium text-theme-primary",children:N.type}),c.jsx("span",{className:Ie("text-xs font-bold px-2 py-0.5 rounded-full uppercase",N.status==="passed"?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"),children:N.status==="action-needed"?"Action":"Pass"})]}),c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsx("span",{className:"text-xs text-theme-muted",children:N.date}),c.jsx("div",{className:"text-right",children:c.jsxs("span",{className:Ie("font-bold",x(N.score)),children:[N.score,"%"]})})]})]},N.id))})]})]})]})]})}function YC({className:t}){return c.jsxs("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}),c.jsx("path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 0 0 0 2-2V8"}),c.jsx("path",{d:"M10 12h4"})]})}const Sf={totalSessions:156,avgCoolingTime:78,complianceRate:96.5,wasteReduction:12.3},gy=[{day:"Mon",sessions:24,compliant:23,avgTime:75},{day:"Tue",sessions:28,compliant:27,avgTime:72},{day:"Wed",sessions:22,compliant:22,avgTime:68},{day:"Thu",sessions:26,compliant:25,avgTime:82},{day:"Fri",sessions:31,compliant:30,avgTime:76},{day:"Sat",sessions:18,compliant:18,avgTime:71},{day:"Sun",sessions:7,compliant:7,avgTime:65}],KC=[{category:"Sauces",count:45,percentage:29,color:"bg-sky-500"},{category:"Soups",count:32,percentage:21,color:"bg-purple-500"},{category:"Meats",count:38,percentage:24,color:"bg-rose-500"},{category:"Vegetables",count:22,percentage:14,color:"bg-green-500"},{category:"Other",count:19,percentage:12,color:"bg-amber-500"}],XC=[{label:"On-Time Completion",value:94,change:2.3,trend:"up",icon:Oi,color:"text-green-500"},{label:"Avg Cooling Time",value:78,unit:"min",change:-5.1,trend:"up",icon:m_,color:"text-blue-500"},{label:"Waste Incidents",value:3,change:-40,trend:"down",icon:Go,color:"text-amber-500"},{label:"Staff Compliance",value:98,change:1.5,trend:"up",icon:Jd,color:"text-purple-500"}],JC=[{name:"Bolognese Sauce",count:28,avgTime:72,status:"excellent"},{name:"Chicken Stock",count:24,avgTime:68,status:"excellent"},{name:"Tomato Soup",count:22,avgTime:85,status:"good"},{name:"Roast Beef",count:18,avgTime:92,status:"warning"},{name:"Curry Sauce",count:16,avgTime:76,status:"good"}];function QC({onBack:t}){const e=Math.max(...gy.map(n=>n.sessions));return c.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[c.jsx("header",{className:"sticky top-0 z-40 bg-glass-heavy border-b border-glass",children:c.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-16",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-theme-ghost rounded-xl transition-colors",children:c.jsx(oo,{className:"w-5 h-5 text-theme-secondary"})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:c.jsx(Qf,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-theme-primary",children:"Analytics & Reports"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Insights and performance metrics"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{className:"btn-stunning btn-ghost",children:[c.jsx(Q0,{className:"w-4 h-4"}),"Last 7 Days"]}),c.jsxs("button",{className:"btn-stunning btn-ghost",children:[c.jsx(Oy,{className:"w-4 h-4"}),"Filter"]}),c.jsxs("button",{className:"btn-stunning btn-primary",children:[c.jsx(eg,{className:"w-4 h-4"}),"Export PDF"]})]})]})}),c.jsxs("main",{className:"p-4 lg:p-6 max-w-7xl mx-auto",children:[c.jsx("section",{className:"mb-8",children:c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"metric-card cool",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:c.jsx(Li,{className:"w-5 h-5 text-sky-500"})}),c.jsxs("span",{className:"status-badge status-badge-active",children:[c.jsx(Hu,{className:"w-3 h-3"}),"+8%"]})]}),c.jsx("span",{className:"text-3xl font-bold text-theme-primary",children:Sf.totalSessions}),c.jsx("p",{className:"text-sm text-theme-muted mt-1",children:"Total Sessions"})]}),c.jsxs("div",{className:"metric-card success",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:c.jsx(Oi,{className:"w-5 h-5 text-green-500"})}),c.jsxs("span",{className:"status-badge status-badge-safe",children:[c.jsx(jp,{className:"w-3 h-3"}),"-5min"]})]}),c.jsxs("span",{className:"text-3xl font-bold text-theme-primary",children:[Sf.avgCoolingTime,c.jsx("span",{className:"text-lg",children:"min"})]}),c.jsx("p",{className:"text-sm text-theme-muted mt-1",children:"Avg Cooling Time"})]}),c.jsxs("div",{className:"metric-card success",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:c.jsx(Jd,{className:"w-5 h-5 text-purple-500"})}),c.jsxs("span",{className:"status-badge status-badge-safe",children:[c.jsx(Hu,{className:"w-3 h-3"}),"+2.3%"]})]}),c.jsxs("span",{className:"text-3xl font-bold text-theme-primary",children:[Sf.complianceRate,"%"]}),c.jsx("p",{className:"text-sm text-theme-muted mt-1",children:"Compliance Rate"})]}),c.jsxs("div",{className:"metric-card warning",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:c.jsx(Go,{className:"w-5 h-5 text-amber-500"})}),c.jsxs("span",{className:"status-badge status-badge-warning",children:[c.jsx(jp,{className:"w-3 h-3"}),"-",Sf.wasteReduction,"%"]})]}),c.jsx("span",{className:"text-3xl font-bold text-theme-primary",children:"847"}),c.jsx("p",{className:"text-sm text-theme-muted mt-1",children:"Waste Saved"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 card-stunning p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"font-semibold text-theme-primary",children:"Weekly Sessions"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full gradient-primary"}),"Total"]}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full gradient-success"}),"Compliant"]})]})]}),c.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:gy.map(n=>c.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[c.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[c.jsx("div",{className:"w-full max-w-[40px] rounded-t-lg gradient-cool opacity-30",style:{height:`${n.sessions/e*160}px`}}),c.jsx("div",{className:"w-full max-w-[32px] rounded-t-lg gradient-success -mt-1 relative",style:{height:`${n.compliant/e*160}px`,marginTop:`-${n.sessions/e*160}px`}})]}),c.jsx("span",{className:"text-xs text-theme-muted font-medium",children:n.day})]},n.day))})]}),c.jsxs("div",{className:"card-stunning p-6",children:[c.jsx("h3",{className:"font-semibold text-theme-primary mb-6",children:"By Category"}),c.jsx("div",{className:"space-y-4",children:KC.map(n=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-theme-primary",children:n.category}),c.jsxs("span",{className:"text-sm text-theme-muted",children:[n.count," (",n.percentage,"%)"]})]}),c.jsx("div",{className:"h-2 bg-theme-ghost rounded-full overflow-hidden",children:c.jsx("div",{className:Ie("h-full rounded-full transition-all duration-500",n.color),style:{width:`${n.percentage}%`}})})]},n.category))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"font-semibold text-theme-primary mb-4",children:"Performance Metrics"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:XC.map((n,a)=>{const i=n.icon,o=n.trend==="up"&&n.change>0||n.trend==="down"&&n.change<0;return c.jsxs("div",{className:Ie("card-stunning p-4 animate-scale-in",`stagger-${a+1}`),children:[c.jsx("div",{className:"flex items-center gap-3 mb-3",children:c.jsx("div",{className:Ie("p-2 rounded-lg",`${n.color.replace("text-","bg-")}/10`),children:c.jsx(i,{className:Ie("w-5 h-5",n.color)})})}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-2xl font-bold text-theme-primary",children:[n.value,n.unit||"%"]}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:n.label})]}),c.jsxs("span",{className:Ie("text-xs font-semibold flex items-center gap-1",o?"text-green-500":"text-red-500"),children:[n.change>0?"+":"",n.change,"%",o?c.jsx(Hu,{className:"w-3 h-3"}):c.jsx(jp,{className:"w-3 h-3"})]})]})]},n.label)})})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-theme-primary",children:"Top Items This Week"}),c.jsx("button",{className:"text-sm text-sky-500 font-medium hover:underline",children:"View All"})]}),c.jsx("div",{className:"space-y-3",children:JC.map((n,a)=>c.jsx("div",{className:Ie("card-stunning p-4 animate-slide-up",`stagger-${a+1}`),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg gradient-cool flex items-center justify-center text-white font-bold text-sm",children:a+1}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-theme-primary",children:n.name}),c.jsxs("p",{className:"text-xs text-theme-muted",children:[n.count," sessions  Avg ",n.avgTime,"min"]})]})]}),c.jsxs("span",{className:Ie("status-badge",n.status==="excellent"&&"status-badge-safe",n.status==="good"&&"status-badge-active",n.status==="warning"&&"status-badge-warning"),children:[n.status==="excellent"&&c.jsx(Jd,{className:"w-3 h-3"}),n.status==="warning"&&c.jsx(ea,{className:"w-3 h-3"}),n.status]})]})},n.name))})]})]}),c.jsx("section",{className:"mt-8",children:c.jsxs("div",{className:"card-stunning p-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/5 to-sky-500/5"}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg gradient-primary",children:c.jsx(Xs,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-theme-primary",children:"Multi-Venue Comparison"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Compare performance across all your venues"})]})]}),c.jsx("span",{className:"license-badge license-pro",children:"PRO Feature"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 opacity-50",children:[c.jsx("div",{className:"bg-theme-ghost rounded-xl p-4 h-24"}),c.jsx("div",{className:"bg-theme-ghost rounded-xl p-4 h-24"}),c.jsx("div",{className:"bg-theme-ghost rounded-xl p-4 h-24"})]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{className:"btn-stunning btn-primary",children:"Upgrade to Pro"})})]})]})})]})]})}const ZC=[{id:"1",name:"Main Kitchen - Dublin",address:"123 Grafton Street, Dublin 2",status:"online",activeSessions:3,complianceScore:98,staffCount:8,lastActivity:"2 min ago",alerts:0},{id:"2",name:"Cork Branch",address:"45 Patrick Street, Cork",status:"online",activeSessions:1,complianceScore:95,staffCount:5,lastActivity:"15 min ago",alerts:1},{id:"3",name:"Galway Kitchen",address:"78 Shop Street, Galway",status:"offline",activeSessions:0,complianceScore:92,staffCount:4,lastActivity:"2 hours ago",alerts:2},{id:"4",name:"Limerick Central",address:"12 O'Connell Street, Limerick",status:"online",activeSessions:2,complianceScore:97,staffCount:6,lastActivity:"5 min ago",alerts:0}],Ru={totalVenues:4,activeVenues:3,totalSessions:6,avgCompliance:95.5,totalAlerts:3,totalStaff:23};function eE({onBack:t}){const[e,n]=Ee.useState(""),[a,i]=Ee.useState(null),o=ZC.filter(u=>u.name.toLowerCase().includes(e.toLowerCase())||u.address.toLowerCase().includes(e.toLowerCase())),h=u=>u>=95?"text-green-500":u>=80?"text-amber-500":"text-red-500";return c.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[c.jsx("header",{className:"sticky top-0 z-40 bg-glass-heavy border-b border-glass",children:c.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-16",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-theme-ghost rounded-xl transition-colors",children:c.jsx(oo,{className:"w-5 h-5 text-theme-secondary"})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:c.jsx(Xs,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-theme-primary",children:"Venues"}),c.jsx("p",{className:"text-xs text-theme-muted",children:"Multi-site management"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(tg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-theme-muted"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:e,onChange:u=>n(u.target.value),className:"input-stunning pl-10 w-64"})]}),c.jsxs("button",{className:"btn-stunning btn-primary",children:[c.jsx(io,{className:"w-4 h-4"}),"Add Venue"]})]})]})}),c.jsxs("main",{className:"p-4 lg:p-6 max-w-7xl mx-auto",children:[c.jsx("section",{className:"mb-8",children:c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-4",children:[c.jsxs("div",{className:"metric-card",children:[c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:c.jsx(Xs,{className:"w-5 h-5 text-sky-500"})})}),c.jsx("span",{className:"text-2xl font-bold text-theme-primary",children:Ru.totalVenues}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Total Venues"})]}),c.jsxs("div",{className:"metric-card success",children:[c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:c.jsx(av,{className:"w-5 h-5 text-green-500"})})}),c.jsx("span",{className:"text-2xl font-bold text-theme-primary",children:Ru.activeVenues}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Online Now"})]}),c.jsxs("div",{className:"metric-card cool",children:[c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:c.jsx(Li,{className:"w-5 h-5 text-sky-500"})})}),c.jsx("span",{className:"text-2xl font-bold text-theme-primary",children:Ru.totalSessions}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Active Sessions"})]}),c.jsxs("div",{className:"metric-card success",children:[c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:c.jsx(Hu,{className:"w-5 h-5 text-purple-500"})})}),c.jsxs("span",{className:"text-2xl font-bold text-theme-primary",children:[Ru.avgCompliance,"%"]}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Avg Compliance"})]}),c.jsxs("div",{className:"metric-card warning",children:[c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:c.jsx(ea,{className:"w-5 h-5 text-amber-500"})})}),c.jsx("span",{className:"text-2xl font-bold text-theme-primary",children:Ru.totalAlerts}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Active Alerts"})]}),c.jsxs("div",{className:"metric-card",children:[c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsx("div",{className:"p-2 rounded-lg bg-theme-ghost",children:c.jsx(Pf,{className:"w-5 h-5 text-theme-secondary"})})}),c.jsx("span",{className:"text-2xl font-bold text-theme-primary",children:Ru.totalStaff}),c.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Total Staff"})]})]})}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"All Venues"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"btn-stunning btn-ghost text-sm",children:"Grid View"}),c.jsx("button",{className:"btn-stunning btn-ghost text-sm",children:"List View"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((u,f)=>c.jsxs("div",{className:Ie("card-stunning p-5 cursor-pointer animate-scale-in",a===u.id&&"ring-2 ring-sky-500",`stagger-${f+1}`),onClick:()=>i(u.id===a?null:u.id),children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:Ie("w-12 h-12 rounded-xl flex items-center justify-center",u.status==="online"?"gradient-success":"bg-theme-ghost"),children:c.jsx(Xs,{className:Ie("w-6 h-6",u.status==="online"?"text-white":"text-theme-muted")})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-theme-primary",children:u.name}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-theme-muted",children:[c.jsx(F3,{className:"w-3 h-3"}),u.address]})]})]}),c.jsx("button",{className:"p-2 hover:bg-theme-ghost rounded-lg transition-colors",onClick:m=>m.stopPropagation(),children:c.jsx(T3,{className:"w-4 h-4 text-theme-muted"})})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxs("span",{className:Ie("status-badge",u.status==="online"?"status-badge-safe":"status-badge-warning"),children:[u.status==="online"?c.jsx(av,{className:"w-3 h-3"}):c.jsx(L_,{className:"w-3 h-3"}),u.status]}),u.alerts>0&&c.jsxs("span",{className:"status-badge status-badge-danger",children:[c.jsx(ea,{className:"w-3 h-3"}),u.alerts," alert",u.alerts>1?"s":""]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-theme-muted mb-1",children:[c.jsx(Li,{className:"w-3 h-3"}),"Sessions"]}),c.jsx("span",{className:"text-lg font-bold text-theme-primary",children:u.activeSessions})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-theme-muted mb-1",children:[c.jsx(Jd,{className:"w-3 h-3"}),"Compliance"]}),c.jsxs("span",{className:Ie("text-lg font-bold",h(u.complianceScore)),children:[u.complianceScore,"%"]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-theme-muted mb-1",children:[c.jsx(Pf,{className:"w-3 h-3"}),"Staff"]}),c.jsx("span",{className:"text-lg font-bold text-theme-primary",children:u.staffCount})]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-theme-primary",children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-theme-muted",children:[c.jsx(Oi,{className:"w-3 h-3"}),"Last activity: ",u.lastActivity]}),c.jsxs("button",{className:"btn-stunning btn-ghost text-xs py-1.5 px-3",onClick:m=>{m.stopPropagation()},children:[c.jsx(ng,{className:"w-3 h-3"}),"Manage"]})]})]},u.id))})]}),c.jsx("section",{className:"mt-8",children:c.jsxs("div",{className:"card-stunning p-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/5 via-orange-500/5 to-rose-500/5"}),c.jsxs("div",{className:"relative flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 rounded-xl gradient-warning",children:c.jsx(If,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-theme-primary",children:"Need more venues?"}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Upgrade to Enterprise for unlimited venues and advanced features"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right mr-4",children:[c.jsx("p",{className:"text-xs text-theme-muted",children:"Current Plan"}),c.jsxs("span",{className:"license-badge license-pro",children:[c.jsx(Ey,{className:"w-2.5 h-2.5"}),"Pro"]})]}),c.jsx("button",{className:"btn-stunning btn-primary",children:"Upgrade Plan"})]})]})]})}),c.jsxs("section",{className:"mt-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Consolidated Activity"}),c.jsx("button",{className:"text-sm text-sky-500 font-medium hover:underline",children:"View Full Logs"})]}),c.jsx("div",{className:"card-stunning p-6",children:c.jsx("div",{className:"space-y-4",children:[{venue:"Main Kitchen - Dublin",action:"Cooling started",item:"Bolognese Sauce",time:"2 min ago",status:"active"},{venue:"Cork Branch",action:"Session completed",item:"Chicken Stock",time:"15 min ago",status:"success"},{venue:"Limerick Central",action:"Warning triggered",item:"Tomato Soup",time:"20 min ago",status:"warning"},{venue:"Main Kitchen - Dublin",action:"Cooling started",item:"Curry Sauce",time:"25 min ago",status:"active"},{venue:"Main Kitchen - Dublin",action:"Session completed",item:"Gravy",time:"45 min ago",status:"success"}].map((u,f)=>c.jsxs("div",{className:Ie("flex items-center justify-between p-3 rounded-xl bg-theme-ghost animate-slide-up",`stagger-${f+1}`),children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:Ie("w-2 h-2 rounded-full",u.status==="active"&&"bg-sky-500",u.status==="success"&&"bg-green-500",u.status==="warning"&&"bg-amber-500 animate-pulse")}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium text-theme-primary",children:[u.action,": ",c.jsx("span",{className:"text-theme-secondary",children:u.item})]}),c.jsx("p",{className:"text-xs text-theme-muted",children:u.venue})]})]}),c.jsx("span",{className:"text-xs text-theme-muted",children:u.time})]},f))})})]})]})]})}const tE=[{id:"1",name:"Irish Beef Fillet (Whole)",cost:38.5,unit:"kg",allergens:[],lastUpdated:"2026-01-10"},{id:"2",name:"Butter (Salted)",cost:8.2,unit:"kg",allergens:["milk"],lastUpdated:"2026-01-12"},{id:"3",name:"Potatoes (Maris Piper)",cost:.95,unit:"kg",allergens:[],lastUpdated:"2026-01-15"},{id:"4",name:"Heavy Cream (35%)",cost:4.5,unit:"l",allergens:["milk"],lastUpdated:"2026-01-12"},{id:"5",name:"Shallots",cost:3.2,unit:"kg",allergens:[],lastUpdated:"2026-01-05"},{id:"6",name:"Red Wine (Cooking)",cost:6.5,unit:"l",allergens:["sulphites"],lastUpdated:"2025-12-20"},{id:"7",name:"Thyme (Fresh)",cost:22,unit:"kg",allergens:[],lastUpdated:"2026-01-18"}],nE=[{id:"m1",name:"8oz Fillet Steak",category:"main",sellingPrice:38,vatRate:13.5,ingredients:[{ingredientId:"1",quantity:.24,unit:"kg",yield:95},{ingredientId:"2",quantity:.03,unit:"kg"},{ingredientId:"7",quantity:.005,unit:"kg"}]},{id:"m2",name:"Creamy Mash",category:"side",sellingPrice:5.5,vatRate:13.5,ingredients:[{ingredientId:"3",quantity:.25,unit:"kg",yield:85},{ingredientId:"2",quantity:.03,unit:"kg"},{ingredientId:"4",quantity:.05,unit:"l"}]}],rE=(t,e)=>{let n=0;t.ingredients.forEach(h=>{const u=e.find(x=>x.id===h.ingredientId);if(!u)return;const f=u.cost,m=h.quantity,v=(h.yield||100)/100;n+=f*m/v});const a=t.sellingPrice/(1+t.vatRate/100),i=a-n,o=i/a*100;return{totalCost:n,netSellingPrice:a,netProfit:i,grossMargin:o}};function aE({onBack:t}){const[e]=Ee.useState(nE),[n]=Ee.useState(tE),a=Ee.useMemo(()=>e.map(i=>{const o=rE(i,n);return{...i,...o}}),[e,n]);return c.jsx("div",{className:"min-h-screen bg-background text-foreground transition-colors pb-24 animate-fade-in",children:c.jsxs("div",{className:"p-6 md:p-10 max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-3 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:c.jsx(oo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-light tracking-tight",children:"Menu Engineering"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Cost Control & Margin Analysis"})]})]}),c.jsxs("button",{className:"px-6 py-3 bg-[var(--text-primary)] text-[var(--bg-primary)] rounded-lg font-medium shadow-md hover:shadow-lg transition-all flex items-center gap-2",children:[c.jsx(io,{size:18}),"New Dish"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] p-6 rounded-xl flex flex-col justify-between h-32",children:[c.jsx("span",{className:"text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Target GP%"}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("span",{className:"text-4xl font-light",children:"70%"}),c.jsx("span",{className:"text-xs px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-full",children:"Industry Std"})]})]}),c.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] p-6 rounded-xl flex flex-col justify-between h-32",children:[c.jsx("span",{className:"text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Avg Menu GP%"}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("span",{className:"text-4xl font-light text-emerald-600",children:"72.4%"}),c.jsx(Hu,{className:"text-emerald-500 w-5 h-5 mb-1"})]})]}),c.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] p-6 rounded-xl flex flex-col justify-between h-32",children:[c.jsx("span",{className:"text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Food Cost Warning"}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("span",{className:"text-4xl font-light text-amber-500",children:"1"}),c.jsx(v3,{className:"text-amber-500 w-5 h-5 mb-1"})]})]})]}),c.jsx("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] rounded-xl overflow-hidden shadow-sm",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-[var(--bg-secondary)] border-b border-[var(--border-primary)] text-xs uppercase tracking-wider text-[var(--text-secondary)]",children:[c.jsx("th",{className:"p-4 font-medium",children:"Dish Name"}),c.jsx("th",{className:"p-4 font-medium text-right",children:"Sell Price (Inc VAT)"}),c.jsx("th",{className:"p-4 font-medium text-right",children:"Cost Price"}),c.jsx("th",{className:"p-4 font-medium text-right",children:"Net Profit"}),c.jsx("th",{className:"p-4 font-medium text-right",children:"GP %"}),c.jsx("th",{className:"p-4 font-medium text-center",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:a.map(i=>c.jsxs("tr",{className:"group hover:bg-[var(--bg-secondary)] transition-colors",children:[c.jsxs("td",{className:"p-4",children:[c.jsx("div",{className:"font-medium",children:i.name}),c.jsx("div",{className:"text-xs text-[var(--text-muted)] capitalize",children:i.category})]}),c.jsxs("td",{className:"p-4 text-right font-mono",children:["",i.sellingPrice.toFixed(2)]}),c.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-muted)]",children:["",i.totalCost.toFixed(2)]}),c.jsxs("td",{className:"p-4 text-right font-mono text-emerald-600",children:["",i.netProfit.toFixed(2)]}),c.jsx("td",{className:"p-4 text-right",children:c.jsxs("span",{className:Ie("font-bold font-mono",i.grossMargin>=70?"text-emerald-600":i.grossMargin>=65?"text-amber-500":"text-red-500"),children:[i.grossMargin.toFixed(1),"%"]})}),c.jsx("td",{className:"p-4 text-center",children:c.jsx("div",{className:Ie("inline-flex w-2 h-2 rounded-full",i.grossMargin>=70?"bg-emerald-500":i.grossMargin>=65?"bg-amber-500":"bg-red-500")})})]},i.id))})]})})})]})})}const sE="your_openai_api_key_here";async function iE(t){return new Promise((e,n)=>{const a=new FileReader;a.onload=()=>e(a.result),a.onerror=n,a.readAsDataURL(t)})}async function oE(t){console.log(" Starting OpenAI Vision OCR processing...");try{const e=await iE(t);console.log(" Image converted to base64");const n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sE}`},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:`You are an expert invoice/delivery note parser for a restaurant kitchen. 
Extract the following information from the invoice image and return it as valid JSON:

{
  "supplier": "Company name of the supplier",
  "invoiceNumber": "Invoice or delivery note number",
  "invoiceDate": "Date in YYYY-MM-DD format",
  "items": [
    {
      "name": "Product name",
      "quantity": "Numeric quantity as string",
      "unit": "Unit (kg, g, l, ml, pcs, box, case, etc.)"
    }
  ],
  "rawText": "Brief summary of what you see on the invoice"
}

Rules:
- Extract ALL line items you can find
- Normalize units: kg, g, l, ml, pcs, box, case
- If quantity and unit are combined (e.g., "2.5kg"), separate them
- For items without clear units, use "pcs"
- Dates should be converted to YYYY-MM-DD format
- If you cannot find a field, use null
- Return ONLY valid JSON, no markdown or explanations`},{role:"user",content:[{type:"text",text:"Please extract all invoice data from this image. Focus on supplier name, invoice number, date, and all line items with their quantities and units."},{type:"image_url",image_url:{url:e,detail:"high"}}]}],max_tokens:2e3,temperature:.1})});if(!n.ok){const u=await n.text();throw console.error("OpenAI API error:",u),new Error(`OpenAI API error: ${n.status}`)}const i=(await n.json()).choices?.[0]?.message?.content;if(!i)throw new Error("No content in OpenAI response");console.log(" OpenAI Response:",i);let o;try{const u=i.replace(/```json\n?|\n?```/g,"").trim();o=JSON.parse(u)}catch(u){console.error("JSON parse error:",u);const f=i.match(/\{[\s\S]*\}/);if(f)o=JSON.parse(f[0]);else throw new Error("Could not parse JSON from response")}const h=(o.items||[]).map(u=>({id:crypto.randomUUID(),name:u.name||"Unknown Item",quantity:String(u.quantity||"1"),unit:lE(u.unit||"pcs"),temperature:void 0}));return console.log(" Extracted",h.length,"items"),{supplier:o.supplier||null,invoiceNumber:o.invoiceNumber||null,invoiceDate:o.invoiceDate||null,items:h,rawText:o.rawText||i.substring(0,500),confidence:95}}catch(e){throw console.error("OpenAI Vision OCR error:",e),e}}function lE(t){const e={kilogram:"kg",kilograms:"kg",kilo:"kg",gram:"g",grams:"g",litre:"l",liter:"l",litres:"l",liters:"l",millilitre:"ml",milliliter:"ml",piece:"pcs",pieces:"pcs",pc:"pcs",each:"pcs",ea:"pcs",unit:"pcs",units:"pcs",case:"box",cases:"box",boxes:"box"},n=(t||"pcs").toLowerCase().trim();return e[n]||n}const vy={supplier:"",invoiceNumber:"",invoiceDate:new Date().toISOString().split("T")[0],items:[],receivedBy:"",receivedAt:new Date().toISOString().slice(0,16),overallTemperature:"",notes:""};function cE({onBack:t}){const{staffMembers:e}=qa(),[n,a]=Ee.useState(vy),[i,o]=Ee.useState(!1),[h,u]=Ee.useState(!1),[f,m]=Ee.useState(null),[v,x]=Ee.useState(null),N=Ee.useRef(null),y=Ee.useRef(null),E=async ee=>{const J=ee.target.files?.[0];if(J){o(!0);try{const W=new FileReader;W.onload=async Y=>{const he=Y.target?.result;m(he);const D=await oE(J);D&&(a(q=>({...q,supplier:D.supplier||q.supplier,invoiceNumber:D.invoiceNumber||q.invoiceNumber,invoiceDate:D.invoiceDate||q.invoiceDate,items:D.items.length>0?D.items:q.items})),x(D.confidence),D.confidence>70?xt.success(`Invoice scanned! ${D.items.length} items detected.`):xt.info("Invoice scanned with low confidence. Please verify extracted data."))},W.readAsDataURL(J)}catch(W){console.error("OCR error:",W),xt.error("Failed to scan invoice. Please enter details manually.")}finally{o(!1)}}},j=(ee,J)=>{a(W=>({...W,[ee]:J}))},A=()=>{const ee={id:crypto.randomUUID(),name:"",quantity:"",unit:"kg",temperature:""};a(J=>({...J,items:[...J.items,ee]}))},k=(ee,J,W)=>{a(Y=>({...Y,items:Y.items.map(he=>he.id===ee?{...he,[J]:W}:he)}))},I=ee=>{a(J=>({...J,items:J.items.filter(W=>W.id!==ee)}))},P=()=>n.supplier.trim()&&n.receivedBy&&n.items.length>0&&n.items.every(ee=>ee.name.trim()&&ee.quantity.trim()),M=async()=>{if(!P()){xt.error("Please fill in all required fields");return}u(!0);try{console.log(" Goods Receipt:",n),xt.success("Goods receipt recorded successfully!"),a(vy),m(null),x(null)}catch(ee){console.error("Submit error:",ee),xt.error("Failed to save receipt")}finally{u(!1)}},ae=ee=>{const J=parseFloat(ee);return isNaN(J)?null:J<=5};return c.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[c.jsx("div",{className:"bg-theme-card border-b border-theme-primary px-4 py-4 sticky top-0 z-10",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-xl hover:bg-theme-secondary transition-colors text-theme-primary",children:c.jsx(oo,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-theme-primary",children:[c.jsx(w0,{className:"w-6 h-6 text-emerald-500"}),"Goods Receipt"]}),c.jsx("p",{className:"text-sm text-theme-muted",children:"Scan invoice & record delivery"})]})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[c.jsxs("div",{className:"bg-theme-card rounded-2xl border border-theme-primary p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-theme-primary",children:[c.jsx(a_,{className:"w-5 h-5 text-cyan-500"}),"Scan Invoice"]}),f?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:f,alt:"Scanned invoice",className:"w-full max-h-64 object-contain rounded-xl bg-black/20"}),c.jsx("button",{onClick:()=>{m(null),x(null)},className:"absolute top-2 right-2 p-2 bg-black/50 rounded-lg hover:bg-black/70 transition-colors",children:c.jsx(Ec,{className:"w-4 h-4"})})]}),v!==null&&c.jsxs("div",{className:Ie("flex items-center gap-2 px-4 py-2 rounded-lg text-sm",v>70?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"),children:[v>70?c.jsx(Lr,{className:"w-4 h-4"}):c.jsx(ea,{className:"w-4 h-4"}),c.jsxs("span",{children:["OCR Confidence: ",v.toFixed(0),"%",v<=70&&" - Please verify extracted data"]})]}),c.jsx("button",{onClick:()=>N.current?.click(),className:"w-full py-2 bg-theme-secondary rounded-lg text-sm hover:bg-theme-ghost transition-colors text-theme-primary",children:"Scan Different Invoice"})]}):c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("button",{onClick:()=>y.current?.click(),disabled:i,className:"flex-1 p-6 bg-theme-secondary rounded-xl border-2 border-dashed border-theme-primary hover:border-emerald-500 transition-colors flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-emerald-500/20 flex items-center justify-center",children:c.jsx(o3,{className:"w-7 h-7 text-emerald-500"})}),c.jsx("span",{className:"font-medium text-theme-primary",children:"Take Photo"}),c.jsx("span",{className:"text-sm text-theme-muted",children:"Use camera to scan invoice"})]}),c.jsxs("button",{onClick:()=>N.current?.click(),disabled:i,className:"flex-1 p-6 bg-theme-secondary rounded-xl border-2 border-dashed border-theme-primary hover:border-cyan-500 transition-colors flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-cyan-500/20 flex items-center justify-center",children:c.jsx(N_,{className:"w-7 h-7 text-cyan-500"})}),c.jsx("span",{className:"font-medium text-theme-primary",children:"Upload File"}),c.jsx("span",{className:"text-sm text-theme-muted",children:"Select image from device"})]}),c.jsx("input",{ref:y,type:"file",accept:"image/*",capture:"environment",onChange:E,className:"hidden"}),c.jsx("input",{ref:N,type:"file",accept:"image/*,.pdf",onChange:E,className:"hidden"})]}),i&&c.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3 py-8",children:[c.jsx(Os,{className:"w-6 h-6 animate-spin text-emerald-500"}),c.jsx("span",{className:"text-theme-muted",children:"Processing invoice..."})]})]}),c.jsxs("div",{className:"bg-theme-card rounded-2xl border border-theme-primary p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-theme-primary",children:[c.jsx(Xs,{className:"w-5 h-5 text-purple-500"}),"Supplier Details"]}),c.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-theme-muted block mb-1.5",children:"Supplier Name *"}),c.jsx("input",{type:"text",value:n.supplier,onChange:ee=>j("supplier",ee.target.value),placeholder:"e.g., Fresh Foods Ltd",className:"w-full px-4 py-3 bg-theme-secondary border border-theme-primary rounded-xl text-theme-primary placeholder:text-theme-muted focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-theme-muted block mb-1.5",children:"Invoice Number"}),c.jsx("input",{type:"text",value:n.invoiceNumber,onChange:ee=>j("invoiceNumber",ee.target.value),placeholder:"e.g., INV-2026-001234",className:"w-full px-4 py-3 bg-theme-secondary border border-theme-primary rounded-xl text-theme-primary placeholder:text-theme-muted focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-theme-muted block mb-1.5",children:"Invoice Date"}),c.jsx("input",{type:"date",value:n.invoiceDate,onChange:ee=>j("invoiceDate",ee.target.value),className:"w-full px-4 py-3 bg-theme-secondary border border-theme-primary rounded-xl text-theme-primary focus:outline-none focus:border-emerald-500 transition-colors"})]})]})]}),c.jsxs("div",{className:"bg-theme-card rounded-2xl border border-theme-primary p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 text-theme-primary",children:[c.jsx(Ty,{className:"w-5 h-5 text-amber-500"}),"Items Received"]}),c.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-xl hover:bg-emerald-500/30 transition-colors text-sm font-medium",children:[c.jsx(io,{className:"w-4 h-4"}),"Add Item"]})]}),n.items.length===0?c.jsxs("div",{className:"text-center py-8 text-theme-muted",children:[c.jsx(w0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{children:"No items added yet"}),c.jsx("p",{className:"text-sm",children:"Scan an invoice or add items manually"})]}):c.jsx("div",{className:"space-y-3",children:n.items.map((ee,J)=>c.jsx("div",{className:"p-4 bg-theme-secondary rounded-xl border border-theme-primary",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"w-6 h-6 rounded-full bg-emerald-500/20 text-emerald-500 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-2",children:J+1}),c.jsxs("div",{className:"flex-1 grid sm:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{className:"text-xs text-theme-muted block mb-1",children:"Item Name *"}),c.jsx("input",{type:"text",value:ee.name,onChange:W=>k(ee.id,"name",W.target.value),placeholder:"e.g., Chicken Breast",className:"w-full px-3 py-2 bg-theme-card border border-theme-primary rounded-lg text-sm text-theme-primary focus:outline-none focus:border-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-theme-muted block mb-1",children:"Quantity *"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:ee.quantity,onChange:W=>k(ee.id,"quantity",W.target.value),placeholder:"5",className:"w-full px-3 py-2 bg-theme-card border border-theme-primary rounded-lg text-sm text-theme-primary focus:outline-none focus:border-emerald-500"}),c.jsxs("select",{value:ee.unit,onChange:W=>k(ee.id,"unit",W.target.value),className:"w-20 px-2 py-2 bg-theme-card border border-theme-primary rounded-lg text-sm text-theme-primary focus:outline-none focus:border-emerald-500",children:[c.jsx("option",{value:"kg",children:"kg"}),c.jsx("option",{value:"g",children:"g"}),c.jsx("option",{value:"l",children:"L"}),c.jsx("option",{value:"ml",children:"ml"}),c.jsx("option",{value:"pcs",children:"pcs"}),c.jsx("option",{value:"box",children:"box"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-theme-muted block mb-1",children:"Temp (C)"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:ee.temperature||"",onChange:W=>k(ee.id,"temperature",W.target.value),placeholder:"3.5",className:Ie("w-full px-3 py-2 bg-theme-card border rounded-lg text-sm text-theme-primary focus:outline-none",ee.temperature&&ae(ee.temperature)===!1?"border-red-500 text-red-400":"border-theme-primary focus:border-emerald-500")}),ee.temperature&&ae(ee.temperature)!==null&&c.jsx("div",{className:Ie("absolute right-2 top-1/2 -translate-y-1/2",ae(ee.temperature)?"text-emerald-500":"text-red-500"),children:ae(ee.temperature)?c.jsx(Lr,{className:"w-4 h-4"}):c.jsx(ea,{className:"w-4 h-4"})})]})]})]}),c.jsx("button",{onClick:()=>I(ee.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:c.jsx(Go,{className:"w-4 h-4"})})]})},ee.id))})]}),c.jsxs("div",{className:"bg-theme-card rounded-2xl border border-theme-primary p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-theme-primary",children:[c.jsx(sg,{className:"w-5 h-5 text-blue-500"}),"Reception Details"]}),c.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-theme-muted block mb-1.5",children:"Received By *"}),c.jsxs("select",{value:n.receivedBy,onChange:ee=>j("receivedBy",ee.target.value),className:"w-full px-4 py-3 bg-theme-secondary border border-theme-primary rounded-xl text-theme-primary focus:outline-none focus:border-emerald-500 transition-colors",children:[c.jsx("option",{value:"",children:"Select staff member..."}),e.filter(ee=>ee.active).map(ee=>c.jsxs("option",{value:ee.id,children:[ee.name," (",ee.initials,")"]},ee.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-theme-muted block mb-1.5",children:"Received At"}),c.jsx("input",{type:"datetime-local",value:n.receivedAt,onChange:ee=>j("receivedAt",ee.target.value),className:"w-full px-4 py-3 bg-theme-secondary border border-theme-primary rounded-xl text-theme-primary focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm text-theme-muted block mb-1.5 flex items-center gap-2",children:[c.jsx(Js,{className:"w-4 h-4 text-cyan-500"}),"Overall Temperature (C)"]}),c.jsx("input",{type:"text",value:n.overallTemperature,onChange:ee=>j("overallTemperature",ee.target.value),placeholder:"e.g., 3.5",className:Ie("w-full px-4 py-3 bg-theme-secondary border rounded-xl text-theme-primary placeholder:text-theme-muted focus:outline-none transition-colors",n.overallTemperature&&ae(n.overallTemperature)===!1?"border-red-500":"border-theme-primary focus:border-emerald-500")}),n.overallTemperature&&ae(n.overallTemperature)===!1&&c.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center gap-1",children:[c.jsx(ea,{className:"w-3 h-3"}),"Temperature exceeds safe limit (5C for chilled goods)"]})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{className:"text-sm text-theme-muted block mb-1.5",children:"Notes"}),c.jsx("textarea",{value:n.notes,onChange:ee=>j("notes",ee.target.value),placeholder:"Any observations, damaged items, discrepancies...",rows:3,className:"w-full px-4 py-3 bg-theme-secondary border border-theme-primary rounded-xl text-theme-primary placeholder:text-theme-muted focus:outline-none focus:border-emerald-500 transition-colors resize-none"})]})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:t,className:"px-6 py-4 bg-theme-card border border-theme-primary rounded-xl font-semibold text-theme-primary hover:bg-theme-secondary transition-colors",children:"Cancel"}),c.jsx("button",{onClick:M,disabled:!P()||h,className:Ie("flex-1 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all text-white",P()&&!h?"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-lg hover:shadow-emerald-500/30":"bg-theme-secondary text-theme-muted cursor-not-allowed"),children:h?c.jsxs(c.Fragment,{children:[c.jsx(Os,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Lr,{className:"w-5 h-5"}),"Record Receipt"]})})]})]})]})}const jf={tier1:"Starter",tier2:"Professional",tier3:"Enterprise"},by={tier1:"29/month",tier2:"79/month",tier3:"199/month"};function uE({isOpen:t,onClose:e,selectedTier:n}){const[a,i]=Ee.useState("contact"),[o,h]=Ee.useState(!1),[u,f]=Ee.useState({ownerName:"",email:"",phone:"",restaurantName:"",restaurantType:"restaurant",address:"",city:"",country:"Ireland",tier:n}),m=(A,k)=>{f(I=>({...I,[A]:k}))},v=async()=>{if(!Fa()){xt.error("Authentication not configured");return}try{const{error:A}=await on.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`}});if(A)throw A;e()}catch(A){console.error("Google sign-in error:",A),xt.error("Failed to sign in with Google")}},x=()=>{switch(a){case"contact":return u.ownerName.trim()&&u.email.trim()&&u.email.includes("@");case"restaurant":return u.restaurantName.trim()&&u.address.trim()&&u.city.trim();case"payment":return!0;default:return!1}},N=async()=>{h(!0);try{if(Fa())try{const{data:A,error:k}=await on.from("customers").insert({owner_name:u.ownerName,email:u.email,phone:u.phone||null,restaurant_name:u.restaurantName,restaurant_type:u.restaurantType,address:u.address,city:u.city,country:u.country,subscription_tier:u.tier,trial_ends_at:new Date(Date.now()+2592e6).toISOString(),status:"trial",created_at:new Date().toISOString()}).select().single();k?console.warn("Customer creation skipped (table may not exist):",k.message):console.log("Customer created:",A)}catch(A){console.warn("Database insert failed, continuing in demo mode:",A)}await y(),i("complete"),xt.success("Account created successfully!")}catch(A){console.error("Sign up error:",A),xt.error("Something went wrong. Please try again.")}finally{h(!1)}},y=async()=>{console.log(" New customer notification:",{to:"info@lucasdreger.com",subject:`New Trial Sign Up: ${u.restaurantName}`,body:{owner:u.ownerName,email:u.email,phone:u.phone,restaurant:u.restaurantName,type:u.restaurantType,location:`${u.city}, ${u.country}`,tier:jf[u.tier],price:by[u.tier]}})},E=()=>{a==="contact"?i("restaurant"):a==="restaurant"?i("payment"):a==="payment"&&N()},j=()=>{a==="restaurant"?i("contact"):a==="payment"&&i("restaurant")};return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-lg bg-gradient-to-br from-slate-900 to-slate-950 rounded-3xl border border-slate-700 shadow-2xl overflow-hidden",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white transition-colors z-10",children:c.jsx(Ec,{className:"w-5 h-5"})}),c.jsxs("div",{className:"p-6 pb-4 border-b border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center",children:c.jsx(Xs,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Start Your Free Trial"}),c.jsxs("p",{className:"text-sm text-slate-400",children:[jf[n]," Plan  30 days free"]})]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-6",children:["contact","restaurant","payment","complete"].map((A,k)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:Ie("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all",a===A?"bg-emerald-500 text-white":["contact","restaurant","payment"].indexOf(a)>k||a==="complete"?"bg-emerald-500/20 text-emerald-400":"bg-slate-800 text-slate-500"),children:["contact","restaurant","payment"].indexOf(a)>k||a==="complete"?c.jsx(Lr,{className:"w-4 h-4"}):k+1}),k<3&&c.jsx("div",{className:Ie("w-12 h-1 mx-1 rounded-full transition-all",["contact","restaurant","payment"].indexOf(a)>k||a==="complete"?"bg-emerald-500":"bg-slate-800")})]},A))})]}),c.jsxs("div",{className:"p-6",children:[a==="contact"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4 text-center",children:"Get Started"}),c.jsxs("button",{onClick:v,className:"w-full px-6 py-4 bg-white text-gray-800 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-50 transition-all border border-gray-200",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-slate-900 text-slate-500",children:"Or continue with email"})})]}),c.jsxs("div",{className:"p-4 bg-slate-800/30 border border-slate-700 rounded-xl text-center",children:[c.jsx(My,{className:"w-6 h-6 mx-auto mb-2 text-slate-500"}),c.jsx("p",{className:"text-sm text-slate-400",children:"Email sign-up coming soon"})]}),c.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]}),a==="restaurant"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[c.jsx(Xs,{className:"w-5 h-5 text-emerald-400"}),"Restaurant Details"]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-1.5",children:"Restaurant Name *"}),c.jsx("input",{type:"text",value:u.restaurantName,onChange:A=>m("restaurantName",A.target.value),placeholder:"The Golden Fork",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-1.5",children:"Business Type"}),c.jsxs("select",{value:u.restaurantType,onChange:A=>m("restaurantType",A.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-emerald-500 transition-colors",children:[c.jsx("option",{value:"restaurant",children:"Restaurant"}),c.jsx("option",{value:"cafe",children:"Caf"}),c.jsx("option",{value:"hotel",children:"Hotel Kitchen"}),c.jsx("option",{value:"catering",children:"Catering Company"}),c.jsx("option",{value:"food_truck",children:"Food Truck"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-1.5",children:"Address *"}),c.jsx("input",{type:"text",value:u.address,onChange:A=>m("address",A.target.value),placeholder:"123 Main Street",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-1.5",children:"City *"}),c.jsx("input",{type:"text",value:u.city,onChange:A=>m("city",A.target.value),placeholder:"Dublin",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-1.5",children:"Country"}),c.jsxs("select",{value:u.country,onChange:A=>m("country",A.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-emerald-500 transition-colors",children:[c.jsx("option",{value:"Ireland",children:"Ireland"}),c.jsx("option",{value:"UK",children:"United Kingdom"}),c.jsx("option",{value:"Germany",children:"Germany"}),c.jsx("option",{value:"France",children:"France"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),a==="payment"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[c.jsx(x0,{className:"w-5 h-5 text-emerald-400"}),"Payment Setup"]}),c.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-slate-300",children:"Plan"}),c.jsx("span",{className:"font-bold text-white",children:jf[n]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-slate-300",children:"Price"}),c.jsx("span",{className:"font-bold text-emerald-400",children:by[n]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-emerald-500/30",children:[c.jsx("span",{className:"text-slate-300",children:"Due Today"}),c.jsx("span",{className:"font-bold text-white",children:"0.00"})]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Your card won't be charged until your 30-day trial ends."})]}),c.jsxs("div",{className:"p-6 bg-slate-800/50 border border-slate-700 rounded-xl text-center",children:[c.jsx(x0,{className:"w-10 h-10 mx-auto mb-3 text-slate-500"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Stripe payment form will be integrated here"}),c.jsx("p",{className:"text-xs text-slate-500 mt-2",children:'For demo purposes, click "Complete Setup" to proceed'})]}),c.jsx("p",{className:"text-xs text-slate-500 text-center",children:" Secured by Stripe  Cancel anytime during trial"})]}),a==="complete"&&c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:c.jsx(Lr,{className:"w-10 h-10 text-emerald-400"})}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Aboard! "}),c.jsxs("p",{className:"text-slate-400 mb-6",children:["Your ",jf[n]," trial is now active.",c.jsx("br",{}),"Check your email for login details."]}),c.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl text-left",children:[c.jsxs("p",{className:"text-sm text-slate-300 mb-2",children:[c.jsx("strong",{children:"Restaurant:"})," ",u.restaurantName]}),c.jsxs("p",{className:"text-sm text-slate-300",children:[c.jsx("strong",{children:"Trial ends:"})," ",new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]})]})]})]}),c.jsxs("div",{className:"p-6 pt-0 flex items-center justify-between",children:[a!=="contact"&&a!=="complete"?c.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 text-slate-400 hover:text-white transition-colors",children:[c.jsx(oo,{className:"w-4 h-4"}),"Back"]}):c.jsx("div",{}),a!=="complete"&&c.jsx("button",{onClick:E,disabled:!x()||o,className:Ie("flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all",x()&&!o?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white hover:shadow-lg hover:shadow-emerald-500/30":"bg-slate-700 text-slate-400 cursor-not-allowed"),children:o?c.jsxs(c.Fragment,{children:[c.jsx(Os,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a==="payment"?c.jsxs(c.Fragment,{children:["Complete Setup",c.jsx(Lr,{className:"w-4 h-4"})]}):c.jsxs(c.Fragment,{children:["Continue",c.jsx(Mf,{className:"w-4 h-4"})]})}),a==="complete"&&c.jsx("button",{onClick:e,className:"w-full py-3 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-xl font-bold hover:shadow-lg hover:shadow-emerald-500/30 transition-all",children:"Go to Dashboard"})]})]})]}):null}function dE({isOpen:t,onClose:e}){const[n,a]=Ee.useState(null),[i,o]=Ee.useState(!1),[h,u]=Ee.useState(""),[f,m]=Ee.useState(""),v=async()=>{if(console.log(" Google Sign-in attempt"),!Fa()){console.error(" Supabase not configured"),xt.error("Authentication not configured");return}a("google");try{const y=window.location.origin;console.log(" Redirecting to Google OAuth with redirect:",y);const{data:E,error:j}=await on.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,queryParams:{access_type:"offline",prompt:"consent"}}});if(j)throw console.error(" Google OAuth error:",j),j;console.log(" Google OAuth initiated:",E)}catch(y){console.error(" Google sign-in failed:",y),xt.error(y.message||"Failed to sign in with Google"),a(null)}},x=async y=>{if(y.preventDefault(),!Fa()){xt.error("Authentication not configured");return}if(!h||!f){xt.error("Please enter email and password");return}a("email");try{console.log(" Email sign-in attempt:",h);const{data:E,error:j}=await on.auth.signInWithPassword({email:h,password:f});if(j)throw console.error(" Email sign-in error:",j),j;console.log(" Email sign-in successful:",E.user?.email),xt.success("Signed in successfully!"),e()}catch(E){console.error(" Email sign-in failed:",E),xt.error(E.message||"Failed to sign in"),a(null)}},N=async()=>{if(!Fa()){xt.error("Authentication not configured");return}if(!h||!f){xt.error("Please enter email and password");return}if(f.length<6){xt.error("Password must be at least 6 characters");return}a("signup");try{console.log(" Email sign-up attempt:",h);const{data:y,error:E}=await on.auth.signUp({email:h,password:f,options:{emailRedirectTo:window.location.origin}});if(E)throw console.error(" Sign-up error:",E),E;console.log(" Sign-up successful:",y),y.user&&!y.user.confirmed_at?xt.success("Check your email for a confirmation link!"):(xt.success("Account created successfully!"),e())}catch(y){console.error(" Sign-up failed:",y),xt.error(y.message||"Failed to create account")}finally{a(null)}};return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-md bg-gradient-to-br from-slate-900 to-slate-950 rounded-3xl border border-slate-700 shadow-2xl overflow-hidden",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white transition-colors z-10",disabled:n!==null,children:c.jsx(Ec,{className:"w-5 h-5"})}),c.jsxs("div",{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome"}),c.jsx("p",{className:"text-slate-400 text-center mb-8",children:"Sign in to access your dashboard"}),c.jsx("button",{onClick:v,disabled:n!==null,className:"w-full px-6 py-4 bg-white text-gray-800 border border-gray-200 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n==="google"?c.jsxs(c.Fragment,{children:[c.jsx(Os,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),c.jsxs("div",{className:"my-6 relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-slate-900 text-slate-500",children:"Or continue with email"})})]}),i?c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Email"}),c.jsx("input",{type:"email",value:h,onChange:y=>u(y.target.value),placeholder:"your@email.com",required:!0,autoComplete:"email",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Password"}),c.jsx("input",{type:"password",value:f,onChange:y=>m(y.target.value),placeholder:"",required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:n!==null,className:"flex-1 px-6 py-4 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-xl font-semibold flex items-center justify-center gap-3 hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-white",children:n==="email"?c.jsxs(c.Fragment,{children:[c.jsx(Os,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"}),c.jsx("button",{type:"button",onClick:N,disabled:n!==null,className:"px-6 py-4 bg-slate-700 rounded-xl font-semibold hover:bg-slate-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-white",children:n==="signup"?c.jsx(Os,{className:"w-5 h-5 animate-spin"}):"Sign Up"})]}),c.jsx("button",{type:"button",onClick:()=>o(!1),className:"w-full text-sm text-slate-400 hover:text-white transition-colors",children:" Back to other options"})]}):c.jsxs("button",{onClick:()=>o(!0),className:"w-full px-6 py-4 bg-slate-800/50 border border-slate-700 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-slate-800 transition-all text-white",children:[c.jsx(My,{className:"w-5 h-5"}),"Sign in with Email"]}),c.jsx("p",{className:"text-xs text-slate-500 text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})]}):null}function hE({onSignIn:t,onDemoStart:e}){const[n,a]=Ee.useState(!1),[i,o]=Ee.useState(!1),[h,u]=Ee.useState("tier2");return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-950 text-white overflow-x-hidden",children:[c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/80 backdrop-blur-lg border-b border-white/5",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center",children:c.jsx(Df,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold",children:"ChefVoice"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 text-sm text-slate-300 hover:text-white transition-colors",children:"Sign In"}),c.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-xl font-semibold text-sm hover:shadow-lg hover:shadow-emerald-500/30 transition-all",children:"Start Free Trial"})]})]})})}),c.jsxs("section",{className:"pt-32 pb-20 px-4 relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-20 left-1/4 w-96 h-96 bg-emerald-500/20 rounded-full blur-[100px]"}),c.jsx("div",{className:"absolute bottom-20 right-1/4 w-80 h-80 bg-cyan-500/20 rounded-full blur-[100px]"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-radial from-emerald-500/10 to-transparent rounded-full"})]}),c.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/30 rounded-full text-emerald-400 text-sm font-medium mb-8",children:[c.jsx(rg,{className:"w-4 h-4"}),"FSAI Compliant  HACCP Ready"]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-black mb-6 leading-tight",children:[c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white via-emerald-100 to-cyan-100",children:"Stop Failing"}),c.jsx("br",{}),c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-cyan-400",children:"Health Inspections"})]}),c.jsxs("p",{className:"text-xl md:text-2xl text-slate-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Voice-powered food safety compliance that",c.jsx("span",{className:"text-emerald-400 font-semibold",children:" saves 2+ hours daily"})," on paperwork and keeps you ",c.jsx("span",{className:"text-cyan-400 font-semibold",children:"100% inspection-ready"}),"."]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-10 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[c.jsx(Lr,{className:"w-4 h-4 text-emerald-400"}),c.jsx("span",{className:"text-slate-300",children:"30-Day Free Trial"})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[c.jsx(Lr,{className:"w-4 h-4 text-emerald-400"}),c.jsx("span",{className:"text-slate-300",children:"Easy Setup"})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[c.jsx(Lr,{className:"w-4 h-4 text-emerald-400"}),c.jsx("span",{className:"text-slate-300",children:"Setup in 5 Minutes"})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16",children:[c.jsxs("button",{onClick:()=>a(!0),className:"group px-8 py-4 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-2xl font-bold text-lg hover:shadow-2xl hover:shadow-emerald-500/30 transition-all flex items-center gap-3 hover:scale-105",children:["Start Your Free Trial",c.jsx(Mf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),c.jsx("button",{onClick:e,className:"px-8 py-4 bg-amber-500/20 border border-amber-500/50 rounded-2xl font-semibold text-lg hover:bg-amber-500/30 transition-all text-amber-400",children:" Try Demo"}),c.jsx("button",{onClick:()=>o(!0),className:"px-8 py-4 bg-slate-800/50 border border-slate-700 rounded-2xl font-semibold text-lg hover:bg-slate-800 transition-all",children:"Sign In"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-8 text-slate-400",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"Early Access"}),c.jsx("div",{className:"text-sm",children:"Limited Beta Slots"})]}),c.jsx("div",{className:"w-px h-12 bg-slate-700"}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"100%"}),c.jsx("div",{className:"text-sm",children:"FSAI Compliant"})]}),c.jsx("div",{className:"w-px h-12 bg-slate-700"}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"2+ hrs"}),c.jsx("div",{className:"text-sm",children:"Saved Daily"})]})]})]})]}),c.jsx("section",{className:"py-20 px-4 bg-slate-950/50",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Sound Familiar?"}),c.jsx("p",{className:"text-slate-400 text-lg",children:"These problems cost restaurants 10,000+ in fines every year"})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{icon:ea,title:"Missed Temperature Checks",description:"Forgot to log that cooling batch? That's an instant critical violation.",color:"red"},{icon:Oi,title:"Hours of Paperwork",description:"Staff waste 2+ hours daily filling out temperature logs and compliance forms.",color:"amber"},{icon:tv,title:"Missing Records",description:"Inspector asks for last month's records... and you can't find them.",color:"red"}].map((f,m)=>c.jsxs("div",{className:"p-6 bg-slate-900/50 rounded-2xl border border-slate-800 hover:border-slate-700 transition-colors",children:[c.jsx("div",{className:Ie("w-12 h-12 rounded-xl flex items-center justify-center mb-4",f.color==="red"?"bg-red-500/10 text-red-400":"bg-amber-500/10 text-amber-400"),children:c.jsx(f.icon,{className:"w-6 h-6"})}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:f.title}),c.jsx("p",{className:"text-slate-400",children:f.description})]},m))})]})}),c.jsx("section",{className:"py-20 px-4",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-cyan-500/10 border border-cyan-500/30 rounded-full text-cyan-400 text-sm font-medium mb-4",children:[c.jsx(ag,{className:"w-4 h-4"}),"AI-Powered Features"]}),c.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Compliance Made ",c.jsx("span",{className:"text-emerald-400",children:"Effortless"})]}),c.jsx("p",{className:"text-slate-400 text-lg max-w-2xl mx-auto",children:"Just speak and we handle the rest. No more clipboards, no more missed logs."})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{icon:Vo,title:"Voice Commands",description:"Say 'Start cooling bolognese' and we track everything automatically. Hands-free compliance for busy kitchens.",gradient:"from-purple-500 to-pink-500"},{icon:Js,title:"Smart Temperature Tracking",description:"90-minute cooling timers, fridge temp logs, and automatic alerts before things go wrong.",gradient:"from-cyan-500 to-blue-500"},{icon:tv,title:"FSAI-Ready Reports",description:"One-click PDF reports for inspectors. All your records organized and searchable.",gradient:"from-emerald-500 to-green-500"},{icon:Qf,title:"Real-Time Dashboard",description:"See all active cooling sessions, compliance status, and alerts at a glance.",gradient:"from-amber-500 to-orange-500"}].map((f,m)=>c.jsxs("div",{className:"group p-8 bg-gradient-to-br from-slate-900 to-slate-900/50 rounded-3xl border border-slate-800 hover:border-emerald-500/30 transition-all hover:shadow-xl hover:shadow-emerald-500/5",children:[c.jsx("div",{className:Ie("w-14 h-14 rounded-2xl flex items-center justify-center mb-6 bg-gradient-to-br",f.gradient),children:c.jsx(f.icon,{className:"w-7 h-7 text-white"})}),c.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-emerald-400 transition-colors",children:f.title}),c.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:f.description})]},m))})]})}),c.jsx("section",{id:"pricing",className:"py-20 px-4 bg-gradient-to-b from-slate-950 to-emerald-950/30",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Simple, Transparent Pricing"}),c.jsx("p",{className:"text-slate-400 text-lg",children:"Start free, upgrade when you're ready. Cancel anytime."})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{onClick:()=>{u("tier1"),a(!0)},className:Ie("relative p-8 rounded-3xl border-2 cursor-pointer transition-all hover:scale-105","bg-slate-900/50 border-slate-700 hover:border-emerald-500/50"),children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-300 mb-2",children:"Starter"}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black",children:"29"}),c.jsx("span",{className:"text-slate-400",children:"/month"})]}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Billed monthly"})]}),c.jsx("ul",{className:"space-y-3 mb-8",children:["1 Kitchen Location","Cooling Timer Tracking","Basic Temperature Logs","Email Support","PDF Reports"].map((f,m)=>c.jsxs("li",{className:"flex items-center gap-3 text-slate-300",children:[c.jsx(Lr,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"}),f]},m))}),c.jsx("button",{className:"w-full py-3 rounded-xl border-2 border-slate-600 text-slate-300 font-semibold hover:border-emerald-500 hover:text-white transition-colors",children:"Start Free Trial"})]}),c.jsxs("div",{onClick:()=>{u("tier2"),a(!0)},className:Ie("relative p-8 rounded-3xl border-2 cursor-pointer transition-all hover:scale-105","bg-gradient-to-br from-emerald-900/30 to-cyan-900/20 border-emerald-500"),children:[c.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full text-sm font-bold",children:"MOST POPULAR"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-emerald-300 mb-2",children:"Professional"}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black",children:"79"}),c.jsx("span",{className:"text-slate-400",children:"/month"})]}),c.jsx("p",{className:"text-sm text-emerald-500/70 mt-1",children:"Save 190/year with annual"})]}),c.jsx("ul",{className:"space-y-3 mb-8",children:["Up to 3 Locations","Voice Commands","FSAI/HACCP Templates","Priority Support","Team Management","Menu Engineering","Custom Branding"].map((f,m)=>c.jsxs("li",{className:"flex items-center gap-3 text-white",children:[c.jsx(Lr,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"}),f]},m))}),c.jsx("button",{className:"w-full py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-cyan-500 font-bold hover:shadow-lg hover:shadow-emerald-500/30 transition-all",children:"Start Free Trial"})]}),c.jsxs("div",{onClick:()=>{u("tier3"),a(!0)},className:Ie("relative p-8 rounded-3xl border-2 cursor-pointer transition-all hover:scale-105","bg-slate-900/50 border-slate-700 hover:border-cyan-500/50"),children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-cyan-300 mb-2",children:"Enterprise"}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black",children:"199"}),c.jsx("span",{className:"text-slate-400",children:"/month"})]}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Custom pricing available"})]}),c.jsx("ul",{className:"space-y-3 mb-8",children:["Unlimited Locations","Everything in Pro","API Access","Dedicated Account Manager","Custom Integrations","White-Label Option","SLA Guarantee"].map((f,m)=>c.jsxs("li",{className:"flex items-center gap-3 text-slate-300",children:[c.jsx(Lr,{className:"w-5 h-5 text-cyan-400 flex-shrink-0"}),f]},m))}),c.jsx("button",{className:"w-full py-3 rounded-xl border-2 border-slate-600 text-slate-300 font-semibold hover:border-cyan-500 hover:text-white transition-colors",children:"Contact Sales"})]})]})]})}),c.jsx("section",{className:"py-24 px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Ready to ",c.jsx("span",{className:"text-emerald-400",children:"Ace Your Next Inspection?"})]}),c.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"Join early-stage restaurants building compliance into their daily operations."}),c.jsxs("button",{onClick:()=>a(!0),className:"group px-10 py-5 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-2xl font-bold text-xl hover:shadow-2xl hover:shadow-emerald-500/30 transition-all flex items-center gap-3 mx-auto hover:scale-105",children:["Start Your 30-Day Free Trial",c.jsx(Mf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),c.jsx("p",{className:"text-slate-500 mt-4",children:"Simple setup  Cancel anytime"})]})}),c.jsx("footer",{className:"py-12 px-4 border-t border-slate-800",children:c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center",children:c.jsx(Df,{className:"w-5 h-5 text-white"})}),c.jsx("span",{className:"font-bold",children:"ChefVoice"})]}),c.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})]}),c.jsx("p",{className:"text-sm text-slate-500",children:" 2026 ChefVoice. All rights reserved."})]})})}),c.jsx(uE,{isOpen:n,onClose:()=>a(!1),selectedTier:h}),c.jsx(dE,{isOpen:i,onClose:()=>o(!1)})]})}function fE({userId:t,userEmail:e,onComplete:n}){const[a,i]=Ee.useState("restaurant"),[o,h]=Ee.useState(!1),[u,f]=Ee.useState({restaurantName:"",restaurantType:"restaurant",address:"",city:"",country:"Ireland",seatingCapacity:"",avgDailyCovers:"",openingDate:"",hasMultipleLocations:!1,numberOfLocations:"1",numberOfStaff:"",hasKitchenManager:!0,currentComplianceMethod:"paper",challenges:[]}),m=[{id:"temp_checks",label:"Forgetting temperature checks",icon:""},{id:"lost_paperwork",label:"Lost or incomplete paperwork",icon:""},{id:"time_consuming",label:"Time-consuming manual logs",icon:""},{id:"inspection_ready",label:"Missing records during inspections",icon:""},{id:"staff_training",label:"Staff training gaps",icon:""},{id:"food_waste",label:"Food waste tracking",icon:""},{id:"supplier_management",label:"Supplier compliance tracking",icon:""},{id:"cleaning_schedules",label:"Cleaning schedule management",icon:""}],v=A=>{f(k=>({...k,challenges:k.challenges.includes(A)?k.challenges.filter(I=>I!==A):[...k.challenges,A]}))},x=(A,k)=>{f(I=>({...I,[A]:k}))},N=()=>{switch(a){case"restaurant":return u.restaurantName.trim()&&u.address.trim()&&u.city.trim();case"details":return u.seatingCapacity&&u.avgDailyCovers;case"team":return u.numberOfStaff&&u.challenges.length>0;default:return!1}},y=async()=>{h(!0);try{const A={name:u.restaurantName,address:u.address,city:u.city,country:u.country,venue_type:u.restaurantType,seating_capacity:parseInt(u.seatingCapacity)||null,avg_daily_covers:parseInt(u.avgDailyCovers)||null,number_of_staff:parseInt(u.numberOfStaff)||null,has_kitchen_manager:u.hasKitchenManager,compliance_method:u.currentComplianceMethod,main_pain_point:u.challenges.join(", "),opening_date:u.openingDate||null,created_by:t};console.log("Creating venue with data:",A);const{data:k,error:I}=await on.from("venues").insert(A).select().single();if(I){console.error("Restaurant creation error:",I),console.error("Error details:",JSON.stringify(I,null,2)),xt.error(`Failed to create restaurant: ${I.message||"Unknown error"}`),h(!1);return}console.log("Restaurant created successfully:",k);const P={id:k.id,name:u.restaurantName,address:`${u.address}, ${u.city}, ${u.country}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:M}=await on.from("sites").upsert(P,{onConflict:"id"});M?console.warn("Site creation warning (may already exist):",M):console.log("Site created/updated successfully with ID:",k.id);const{error:ae}=await on.from("profiles").upsert({id:t,email:e,role:"owner",current_venue_id:k?.id,onboarding_completed:!0,updated_at:new Date().toISOString()});ae&&console.warn("Profile update warning:",ae);const{error:ee}=await on.from("venue_members").insert({venue_id:k?.id,user_id:t,role:"owner",created_at:new Date().toISOString()});ee&&console.warn("Venue member link warning:",ee),i("complete"),xt.success("Restaurant setup complete!"),setTimeout(()=>{n()},2e3)}catch(A){console.error("Onboarding error:",A),xt.error("Something went wrong. Please try again.")}finally{h(!1)}},E=()=>{a==="restaurant"?i("details"):a==="details"?i("team"):a==="team"&&y()},j=()=>{a==="details"?i("restaurant"):a==="team"&&i("details")};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-950 overflow-y-auto",children:c.jsxs("div",{className:"relative w-full max-w-2xl my-auto bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl sm:rounded-3xl border border-slate-700 shadow-2xl flex flex-col max-h-[95vh] sm:max-h-[90vh]",children:[c.jsxs("div",{className:"p-6 pb-4 border-b border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center",children:c.jsx(Xs,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Welcome! Let's Set Up Your Restaurant"}),c.jsx("p",{className:"text-sm text-slate-400",children:"This will only take 2 minutes"})]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-6",children:["restaurant","details","team","complete"].map((A,k)=>c.jsxs("div",{className:"flex items-center flex-1",children:[c.jsx("div",{className:Ie("w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all",a===A?"bg-emerald-500 text-white":["restaurant","details","team"].indexOf(a)>k||a==="complete"?"bg-emerald-500/20 text-emerald-400":"bg-slate-800 text-slate-500"),children:["restaurant","details","team"].indexOf(a)>k||a==="complete"?c.jsx(Lr,{className:"w-5 h-5"}):k+1}),k<3&&c.jsx("div",{className:Ie("flex-1 h-1 mx-2 rounded-full transition-all",["restaurant","details","team"].indexOf(a)>k||a==="complete"?"bg-emerald-500":"bg-slate-800")})]},A))})]}),c.jsxs("div",{className:"p-4 sm:p-6 md:p-8 overflow-y-auto flex-1 min-h-0",children:[a==="restaurant"&&c.jsxs("div",{className:"space-y-5 animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Tell us about your restaurant"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Restaurant Name *"}),c.jsx("input",{type:"text",value:u.restaurantName,onChange:A=>x("restaurantName",A.target.value),placeholder:"The Golden Fork",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Business Type"}),c.jsxs("select",{value:u.restaurantType,onChange:A=>x("restaurantType",A.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-emerald-500 transition-colors",children:[c.jsx("option",{value:"restaurant",children:"Restaurant"}),c.jsx("option",{value:"cafe",children:"Caf"}),c.jsx("option",{value:"hotel",children:"Hotel Kitchen"}),c.jsx("option",{value:"catering",children:"Catering Company"}),c.jsx("option",{value:"food_truck",children:"Food Truck"}),c.jsx("option",{value:"bakery",children:"Bakery"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Address *"}),c.jsx("input",{type:"text",value:u.address,onChange:A=>x("address",A.target.value),placeholder:"123 Main Street",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"City *"}),c.jsx("input",{type:"text",value:u.city,onChange:A=>x("city",A.target.value),placeholder:"Dublin",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Country"}),c.jsxs("select",{value:u.country,onChange:A=>x("country",A.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-emerald-500 transition-colors",children:[c.jsx("option",{value:"Ireland",children:"Ireland"}),c.jsx("option",{value:"UK",children:"United Kingdom"}),c.jsx("option",{value:"Germany",children:"Germany"}),c.jsx("option",{value:"France",children:"France"}),c.jsx("option",{value:"Spain",children:"Spain"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),a==="details"&&c.jsxs("div",{className:"space-y-5 animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Business Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Seating Capacity *"}),c.jsx("input",{type:"number",value:u.seatingCapacity,onChange:A=>x("seatingCapacity",A.target.value),placeholder:"50",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Avg. Daily Covers *"}),c.jsx("input",{type:"number",value:u.avgDailyCovers,onChange:A=>x("avgDailyCovers",A.target.value),placeholder:"80",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Opening Date (optional)"}),c.jsx("input",{type:"date",value:u.openingDate,onChange:A=>x("openingDate",A.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-3",children:"Do you have multiple locations?"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{type:"button",onClick:()=>x("hasMultipleLocations",!1),className:Ie("flex-1 px-4 py-3 rounded-xl border-2 transition-all",u.hasMultipleLocations?"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600":"bg-emerald-500/20 border-emerald-500 text-white"),children:"No, single location"}),c.jsx("button",{type:"button",onClick:()=>x("hasMultipleLocations",!0),className:Ie("flex-1 px-4 py-3 rounded-xl border-2 transition-all",u.hasMultipleLocations?"bg-emerald-500/20 border-emerald-500 text-white":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600"),children:"Yes, multiple"})]})]}),u.hasMultipleLocations&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Number of Locations"}),c.jsx("input",{type:"number",value:u.numberOfLocations,onChange:A=>x("numberOfLocations",A.target.value),placeholder:"3",min:"2",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]})]}),a==="team"&&c.jsxs("div",{className:"space-y-5 animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Team & Compliance"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Number of Kitchen Staff *"}),c.jsx("input",{type:"number",value:u.numberOfStaff,onChange:A=>x("numberOfStaff",A.target.value),placeholder:"8",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-3",children:"Do you have a dedicated kitchen manager?"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{type:"button",onClick:()=>x("hasKitchenManager",!0),className:Ie("flex-1 px-4 py-3 rounded-xl border-2 transition-all",u.hasKitchenManager?"bg-emerald-500/20 border-emerald-500 text-white":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600"),children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>x("hasKitchenManager",!1),className:Ie("flex-1 px-4 py-3 rounded-xl border-2 transition-all",u.hasKitchenManager?"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600":"bg-emerald-500/20 border-emerald-500 text-white"),children:"No"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Current Compliance Method"}),c.jsxs("select",{value:u.currentComplianceMethod,onChange:A=>x("currentComplianceMethod",A.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-emerald-500 transition-colors",children:[c.jsx("option",{value:"paper",children:"Paper logs"}),c.jsx("option",{value:"excel",children:"Excel spreadsheets"}),c.jsx("option",{value:"other_software",children:"Other software"}),c.jsx("option",{value:"none",children:"No formal system"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-400 block mb-3",children:"What are your main compliance challenges? * (Select all that apply)"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.map(A=>c.jsxs("button",{type:"button",onClick:()=>v(A.id),className:Ie("flex items-center gap-3 px-4 py-3 rounded-xl border-2 transition-all text-left",u.challenges.includes(A.id)?"bg-emerald-500/20 border-emerald-500 text-white":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600"),children:[c.jsx("span",{className:"text-2xl",children:A.icon}),c.jsx("span",{className:"text-sm flex-1",children:A.label}),u.challenges.includes(A.id)&&c.jsx(Lr,{className:"w-5 h-5 text-emerald-400"})]},A.id))}),c.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[u.challenges.length," challenge",u.challenges.length!==1?"s":""," selected"]})]})]}),a==="complete"&&c.jsxs("div",{className:"text-center py-12 animate-fade-in",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:c.jsx(Lr,{className:"w-12 h-12 text-emerald-400"})}),c.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"All Set! "}),c.jsxs("p",{className:"text-slate-400 mb-6 text-lg",children:[u.restaurantName," is ready to go.",c.jsx("br",{}),"Let's get you compliant!"]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-400",children:[c.jsx(Os,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Loading your dashboard..."})]})]})]}),a!=="complete"&&c.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between border-t border-slate-800 bg-slate-900/80 backdrop-blur-sm flex-shrink-0",children:[a!=="restaurant"?c.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-5 py-3 text-slate-400 hover:text-white transition-colors",children:[c.jsx(oo,{className:"w-4 h-4"}),"Back"]}):c.jsx("div",{}),c.jsx("button",{onClick:E,disabled:!N()||o,className:Ie("flex items-center gap-2 px-5 sm:px-8 py-3 rounded-xl font-semibold transition-all text-sm sm:text-base",N()&&!o?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white hover:shadow-lg hover:shadow-emerald-500/30":"bg-slate-700 text-slate-400 cursor-not-allowed"),children:o?c.jsxs(c.Fragment,{children:[c.jsx(Os,{className:"w-5 h-5 animate-spin"}),"Setting up..."]}):a==="team"?c.jsxs(c.Fragment,{children:["Complete Setup",c.jsx(Lr,{className:"w-5 h-5"})]}):c.jsxs(c.Fragment,{children:["Continue",c.jsx(Mf,{className:"w-5 h-5"})]})})]})]})})}const mE=new b4({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),Af={id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",name:"Demo Kitchen",address:"123 Restaurant Street",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};function pE(){const[t,e]=Ee.useState("home"),[n,a]=Ee.useState("loading"),[i,o]=Ee.useState(null),{setCurrentSite:h,setIsOnline:u,currentSite:f,settings:m,updateSettings:v,setStaffMembers:x}=qa();Ee.useEffect(()=>{if(n==="demo"){console.log(" In demo mode - skipping auth check");return}if(!Fa()){console.log(" Supabase not configured - showing landing"),a("unauthenticated");return}let M=!0,ae=n;if(n!=="loading")return;const ee=setTimeout(()=>{M&&ae==="loading"&&(console.log(" Auth check timeout - showing landing"),a("unauthenticated"),ae="unauthenticated")},1500),J=async he=>{if(M)try{const{data:D,error:q}=await on.from("profiles").select("onboarding_completed").eq("id",he.user.id).maybeSingle();if(!M)return;console.log(" Profile check:",{profile:D,error:q}),q||!D||!D.onboarding_completed?(a("onboarding"),ae="onboarding"):(a("authenticated"),ae="authenticated")}catch(D){console.error("Profile check error:",D),M&&(a("onboarding"),ae="onboarding")}};(async()=>{console.log(" Initializing auth...");try{const{data:{session:he},error:D}=await on.auth.getSession();if(!M)return;console.log(" Initial session:",{hasSession:!!he,email:he?.user?.email,error:D?.message}),he?.user?(o(he.user),await J(he)):(a("unauthenticated"),ae="unauthenticated")}catch(he){console.error("Auth init error:",he),M&&(a("unauthenticated"),ae="unauthenticated")}})();const{data:{subscription:Y}}=on.auth.onAuthStateChange(async(he,D)=>{if(console.log(" Auth event:",he,D?.user?.email),!!M){if(ae==="demo"){console.log(" In demo mode - ignoring auth event");return}he==="SIGNED_IN"&&D?.user?(o(D.user),await J(D)):he==="SIGNED_OUT"?(o(null),a("unauthenticated"),ae="unauthenticated"):he==="TOKEN_REFRESHED"&&D?.user?o(D.user):he==="INITIAL_SESSION"&&D?.user&&(o(D.user),await J(D))}});return()=>{M=!1,clearTimeout(ee),Y.unsubscribe()}},[n]),Ee.useEffect(()=>{const M=`theme-${m.theme}`;document.documentElement.classList.remove("theme-day","theme-night"),document.documentElement.classList.add(M)},[m.theme]);const N=Ee.useRef(!1);Ee.useEffect(()=>{if(n!=="authenticated"||!i||N.current)return;N.current=!0,(async()=>{if(!Fa()){h(Af);return}try{const{data:ae,error:ee}=await on.from("profiles").select("current_venue_id").eq("id",i.id).single();if(ee){console.warn("Failed to fetch profile:",ee),h(Af);return}if(ae?.current_venue_id){const{data:Y,error:he}=await on.from("venues").select("*").eq("id",ae.current_venue_id).single();if(!he&&Y){console.log(" Loaded user venue:",Y.name),h({id:Y.id,name:Y.name,address:Y.address||void 0,kiosk_pin:Y.kiosk_pin||void 0,alert_email:Y.alert_email||void 0,alert_phone:Y.alert_phone||void 0,created_at:Y.created_at||new Date().toISOString(),updated_at:Y.updated_at||new Date().toISOString()}),Y.subscription_tier&&v({subscriptionTier:Y.subscription_tier});return}}const{data:J,error:W}=await on.from("venues").select("*").eq("created_by",i.id).limit(1).single();if(!W&&J){console.log(" Loaded owned venue:",J.name),h({id:J.id,name:J.name,address:J.address||void 0,kiosk_pin:J.kiosk_pin||void 0,alert_email:J.alert_email||void 0,alert_phone:J.alert_phone||void 0,created_at:J.created_at||new Date().toISOString(),updated_at:J.updated_at||new Date().toISOString()}),J.subscription_tier&&v({subscriptionTier:J.subscription_tier});return}console.warn("No venue found for user, using demo site"),h(Af)}catch(ae){console.warn("Failed to fetch venue:",ae),h(Af)}})()},[n,i,h,v]),Ee.useEffect(()=>{if(!f?.id)return;(async()=>{try{const ae=await _5(f.id);x(ae.map(ee=>({id:ee.id,name:ee.name,initials:ee.initials||"",role:ee.role,active:ee.active??!0,site_id:ee.site_id,created_at:ee.created_at})))}catch(ae){console.warn("Failed to fetch staff:",ae)}})()},[f?.id,x]),Ee.useEffect(()=>{const M=()=>u(!0),ae=()=>u(!1);return window.addEventListener("online",M),window.addEventListener("offline",ae),u(navigator.onLine),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",ae)}},[u]);const y=M=>{e(M)},E=async()=>{console.log(" Logging out..."),await on.auth.signOut()},j=()=>{a("authenticated")},A=()=>{console.log(" Starting Demo Mode");const M={id:"demo-site-123",name:"Demo Restaurant",address:"123 Demo Street, Dublin, Ireland",kiosk_pin:"1234",alert_email:"demo@example.com",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};h(M),x([{id:"demo-staff-1",name:"John Chef",initials:"JC",role:"chef",active:!0,site_id:"demo-site-123",created_at:new Date().toISOString()},{id:"demo-staff-2",name:"Mary Manager",initials:"MM",role:"manager",active:!0,site_id:"demo-site-123",created_at:new Date().toISOString()},{id:"demo-staff-3",name:"Sam Staff",initials:"SS",role:"staff",active:!0,site_id:"demo-site-123",created_at:new Date().toISOString()}]),v({subscriptionTier:"pro"}),a("demo")},k=()=>{console.log(" Exiting Demo Mode"),a("unauthenticated"),h(null),x([])},I=()=>{switch(t){case"history":return c.jsx(aA,{onBack:()=>e("home")});case"settings":return c.jsx(hA,{onBack:()=>e("home")});case"compliance":return c.jsx(WC,{onBack:()=>e("home")});case"reports":return c.jsx(QC,{onBack:()=>e("home")});case"menu_engineering":return c.jsx(aE,{onBack:()=>e("home")});case"goods_receipt":return c.jsx(cE,{onBack:()=>e("home")});case"venues":return c.jsx(eE,{onBack:()=>e("home")});default:return c.jsx(Xj,{onNavigate:y,currentScreen:t})}},P=m.theme==="day"?{background:"#ffffff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"0.875rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)"}:{background:"#1e293b",color:"#f8fafc",border:"1px solid #334155",borderRadius:"0.875rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"};return n==="loading"?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Loading..."})]})}):n==="unauthenticated"?c.jsxs(c.Fragment,{children:[c.jsx(hE,{onSignIn:()=>{},onDemoStart:A}),c.jsx(af,{position:"top-center",toastOptions:{style:P}})]}):n==="demo"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[60] bg-amber-500 text-black py-2 px-4 text-center text-sm font-semibold",children:[" Demo Mode - Explore freely! Data won't be saved.",c.jsx("button",{onClick:k,className:"ml-4 px-3 py-1 bg-black/20 rounded-lg hover:bg-black/30 transition-colors",children:"Exit Demo"})]}),c.jsx("div",{className:"pt-10",children:I()}),c.jsx(af,{position:"top-center",toastOptions:{style:P}})]}):n==="onboarding"&&i?c.jsxs(c.Fragment,{children:[c.jsx(fE,{userId:i.id,userEmail:i.email||"",onComplete:j}),c.jsx(af,{position:"top-center",toastOptions:{style:P}})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:E,className:"fixed top-4 right-4 z-50 px-4 py-2 bg-red-500/20 border border-red-500/50 text-red-400 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:" Logout"}),I(),c.jsx(af,{position:"top-center",toastOptions:{style:P}})]})}function gE(){return c.jsx(x4,{client:mE,children:c.jsx(pE,{})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{console.log("PWA service worker not available")})});Gw.createRoot(document.getElementById("root")).render(c.jsx(Ee.StrictMode,{children:c.jsx(gE,{})}));export{Pn as _,vE as c,yy as g};
