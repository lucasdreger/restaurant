import{j as e}from"./index-264b_u-F.js";import{r as l}from"./vendor-state-CIiacWcF.js";import{c as o}from"./utils-CBmmx2BN.js";import{A as u,t as p,Y as f,a6 as b}from"./vendor-ui-tYsHGQF9.js";import"./vendor-react-qkC6yhPU.js";import"./vendor-pdf-BScUNyKw.js";import"./vendor-supabase-CywEAasM.js";const j=[{id:"1",name:"Irish Beef Fillet (Whole)",cost:38.5,unit:"kg",allergens:[],lastUpdated:"2026-01-10"},{id:"2",name:"Butter (Salted)",cost:8.2,unit:"kg",allergens:["milk"],lastUpdated:"2026-01-12"},{id:"3",name:"Potatoes (Maris Piper)",cost:.95,unit:"kg",allergens:[],lastUpdated:"2026-01-15"},{id:"4",name:"Heavy Cream (35%)",cost:4.5,unit:"l",allergens:["milk"],lastUpdated:"2026-01-12"},{id:"5",name:"Shallots",cost:3.2,unit:"kg",allergens:[],lastUpdated:"2026-01-05"},{id:"6",name:"Red Wine (Cooking)",cost:6.5,unit:"l",allergens:["sulphites"],lastUpdated:"2025-12-20"},{id:"7",name:"Thyme (Fresh)",cost:22,unit:"kg",allergens:[],lastUpdated:"2026-01-18"}],N=[{id:"m1",name:"8oz Fillet Steak",category:"main",sellingPrice:38,vatRate:13.5,ingredients:[{ingredientId:"1",quantity:.24,unit:"kg",yield:95},{ingredientId:"2",quantity:.03,unit:"kg"},{ingredientId:"7",quantity:.005,unit:"kg"}]},{id:"m2",name:"Creamy Mash",category:"side",sellingPrice:5.5,vatRate:13.5,ingredients:[{ingredientId:"3",quantity:.25,unit:"kg",yield:85},{ingredientId:"2",quantity:.03,unit:"kg"},{ingredientId:"4",quantity:.05,unit:"l"}]}],v=(r,i)=>{let s=0;r.ingredients.forEach(d=>{const c=i.find(h=>h.id===d.ingredientId);if(!c)return;const m=c.cost,x=d.quantity,g=(d.yield||100)/100;s+=m*x/g});const a=r.sellingPrice/(1+r.vatRate/100),t=a-s,n=t/a*100;return{totalCost:s,netSellingPrice:a,netProfit:t,grossMargin:n}};function S({onBack:r}){const[i]=l.useState(N),[s]=l.useState(j),a=l.useMemo(()=>i.map(t=>{const n=v(t,s);return{...t,...n}}),[i,s]);return e.jsx("div",{className:"min-h-screen bg-background text-foreground transition-colors pb-24 animate-fade-in",children:e.jsxs("div",{className:"p-6 md:p-10 max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:r,className:"p-3 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:e.jsx(u,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-light tracking-tight",children:"Menu Engineering"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Cost Control & Margin Analysis"})]})]}),e.jsxs("button",{className:"px-6 py-3 bg-[var(--text-primary)] text-[var(--bg-primary)] rounded-lg font-medium shadow-md hover:shadow-lg transition-all flex items-center gap-2",children:[e.jsx(p,{size:18}),"New Dish"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] p-6 rounded-xl flex flex-col justify-between h-32",children:[e.jsx("span",{className:"text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Target GP%"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("span",{className:"text-4xl font-light",children:"70%"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-full",children:"Industry Std"})]})]}),e.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] p-6 rounded-xl flex flex-col justify-between h-32",children:[e.jsx("span",{className:"text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Avg Menu GP%"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("span",{className:"text-4xl font-light text-emerald-600",children:"72.4%"}),e.jsx(f,{className:"text-emerald-500 w-5 h-5 mb-1"})]})]}),e.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] p-6 rounded-xl flex flex-col justify-between h-32",children:[e.jsx("span",{className:"text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider",children:"Food Cost Warning"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("span",{className:"text-4xl font-light text-amber-500",children:"1"}),e.jsx(b,{className:"text-amber-500 w-5 h-5 mb-1"})]})]})]}),e.jsx("div",{className:"bg-[var(--bg-card)] border border-[var(--border-primary)] rounded-xl overflow-hidden shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[var(--bg-secondary)] border-b border-[var(--border-primary)] text-xs uppercase tracking-wider text-[var(--text-secondary)]",children:[e.jsx("th",{className:"p-4 font-medium",children:"Dish Name"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Sell Price (Inc VAT)"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Cost Price"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Net Profit"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"GP %"}),e.jsx("th",{className:"p-4 font-medium text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:a.map(t=>e.jsxs("tr",{className:"group hover:bg-[var(--bg-secondary)] transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsx("div",{className:"text-xs text-[var(--text-muted)] capitalize",children:t.category})]}),e.jsxs("td",{className:"p-4 text-right font-mono",children:["€",t.sellingPrice.toFixed(2)]}),e.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-muted)]",children:["€",t.totalCost.toFixed(2)]}),e.jsxs("td",{className:"p-4 text-right font-mono text-emerald-600",children:["€",t.netProfit.toFixed(2)]}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("span",{className:o("font-bold font-mono",t.grossMargin>=70?"text-emerald-600":t.grossMargin>=65?"text-amber-500":"text-red-500"),children:[t.grossMargin.toFixed(1),"%"]})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:o("inline-flex w-2 h-2 rounded-full",t.grossMargin>=70?"bg-emerald-500":t.grossMargin>=65?"bg-amber-500":"bg-red-500")})})]},t.id))})]})})})]})})}export{S as MenuEngineeringScreen};
