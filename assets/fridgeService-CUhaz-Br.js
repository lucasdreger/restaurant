import{i as a,s as i}from"./index-DUOUId27.js";const c={basic:1,pro:2,enterprise:1/0};async function f(e){if(!a())return[{id:"demo-fridge-1",site_id:e,name:"Main Fridge",sort_order:0,min_temp:0,max_temp:5,active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];const{data:r,error:t}=await i.from("fridges").select("*").eq("site_id",e).eq("active",!0).order("sort_order",{ascending:!0});if(t)throw t;return r||[]}async function u(e,r){if(!a())throw new Error("Database not configured");const{data:t}=await i.from("fridges").select("id").eq("site_id",e).eq("active",!0),n=t?.length||0,{data:d,error:o}=await i.from("fridges").insert({site_id:e,name:r,sort_order:n}).select().single();if(o)throw o;return d}async function _(e,r){if(!a())throw new Error("Database not configured");const{data:t,error:n}=await i.from("fridges").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return t}async function g(e){if(!a())throw new Error("Database not configured");const{error:r}=await i.from("fridges").update({active:!1}).eq("id",e);if(r)throw r}async function m(e){if(!a())return{id:`demo-log-${Date.now()}`,site_id:e.site_id,fridge_id:e.fridge_id,temperature:e.temperature,recorded_by:e.recorded_by||null,recorded_by_name:e.recorded_by_name||null,notes:e.notes||null,is_compliant:e.temperature>=0&&e.temperature<=5,created_at:new Date().toISOString()};const{data:r,error:t}=await i.from("fridge_temp_logs").insert(e).select().single();if(t)throw t;return r}export{c as F,u as c,g as d,f as g,m as l,_ as u};
